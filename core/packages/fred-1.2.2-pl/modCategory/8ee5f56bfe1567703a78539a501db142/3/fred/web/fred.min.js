!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Fred",[],t):"object"==typeof exports?exports.Fred=t():e.Fred=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(1),a=r(A),s=n(3),l=r(s),c=n(5),u=r(c),d=n(82),f=r(d),p=n(22),h=r(p),g=n(9),m=r(g),v=n(6),B=r(v),w=n(11),y=n(54),b=r(y),E=n(83),C=(r(E),n(20)),Q=n(57),U=r(Q),F=n(84),_=n(21),H=r(_),x=n(61),T=r(x),S=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),B.default.jwt=n.jwt,delete n.jwt,"function"==typeof n.modifyPermissions&&(n.modifyPermissions=n.modifyPermissions.bind(this),n.permission=n.modifyPermissions(n.permission)),B.default.permission=n.permission,delete n.permission,B.default.resource=n.resource,delete n.resource,B.default.config=n||{},B.default.fred=this,this.loading=null,this.wrapper=null,this.fingerprint="",this.previewDocument=null,this.replaceScript=this.replaceScript.bind(this),this.scriptsToReplace=[],this.unsavedChanges=!1,window.onbeforeunload=function(){return t.unsavedChanges===!0?B.default.lng("fred.fe.unsaved_data_warning"):void 0};var r=this.loadLexicons();document.addEventListener("DOMContentLoaded",function(){var e=document.body.querySelectorAll("script-fred"),n=!0,i=!1,o=void 0;try{for(var A,a=e[Symbol.iterator]();!(n=(A=a.next()).done);n=!0){for(var s=A.value,l=document.createElement("script"),c=0;c<s.attributes.length;c++)l.setAttribute(s.attributes[c].name,s.attributes[c].value);s.dataset.fredScript&&(l.innerHTML=s.dataset.fredScript),l.removeAttribute("data-fred-script"),t.scriptsToReplace.push({old:s,new:l})}}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}r.then(function(){t.init()})})}return o(e,[{key:"render",value:function(){this.wrapper=(0,w.div)(["fred"]),document.body.appendChild(this.wrapper)}},{key:"renderPreview",value:function(){var e=this,t=(0,w.div)(["fred--content-preview"]);t.style.display="none",this.iframe=(0,w.iFrame)("#"),this.iframe.style.width="100%",this.iframe.style.height="100%",this.controls=(0,w.div)(["fred--content-preview_controls"]),this.devices=(0,w.div)(["fred--devices"]),this.phoneP=(0,w.a)("<span>"+B.default.lng("fred.fe.preview.phone_portrait")+"</span>",B.default.lng("fred.fe.preview.phone_portrait"),"",["fred--smartphone-portrait"],function(){e.iframe.style.width="320px",e.iframe.style.height="480px"}),this.devices.appendChild(this.phoneP),this.phoneL=(0,w.a)("<span>"+B.default.lng("fred.fe.preview.phone_landscape")+"</span>",B.default.lng("fred.fe.preview.phone_landscape"),"",["fred--smartphone-landscape"],function(){e.iframe.style.width="480px",e.iframe.style.height="320px"}),this.devices.appendChild(this.phoneL),this.tabletP=(0,w.a)("<span>"+B.default.lng("fred.fe.preview.tablet_portrait")+"</span>",B.default.lng("fred.fe.preview.tablet_portrait"),"",["fred--tablet-portrait"],function(){e.iframe.style.width="768px",e.iframe.style.height="1024px"}),this.devices.appendChild(this.tabletP),this.tabletL=(0,w.a)("<span>"+B.default.lng("fred.fe.preview.tablet_landscape")+"</span>",B.default.lng("fred.fe.preview.tablet_landscape"),"",["fred--tablet-landscape"],function(){e.iframe.style.width="1024px",e.iframe.style.height="768px"}),this.devices.appendChild(this.tabletL),this.auto=(0,w.a)("<span>"+B.default.lng("fred.fe.preview.auto")+"</span>",B.default.lng("fred.fe.preview.auto"),"",["fred--auto"],function(){e.iframe.style.width="100%",e.iframe.style.height="100%"}),this.devices.appendChild(this.auto),this.controls.appendChild(this.devices),t.append(this.controls),t.appendChild(this.iframe),this.wrapper.insertBefore(t,this.wrapper.firstChild)}},{key:"previewContent",value:function(){var e=this;return this.previewDocument?this.getPreviewContent():(this.renderPreview(),this.iframe.src=B.default.resource.emptyUrl,(0,F.getPreview)().then(function(t){var n=new DOMParser;return e.previewDocument=n.parseFromString(t,"text/html"),e.getPreviewContent()}))}},{key:"getPreviewContent",value:function(){for(var e=this,t=[],n=function(n){t.push(e.getCleanDropZoneContent(e.dropzones[n],!0,!1,!0).then(function(t){var r=e.previewDocument.querySelector('[data-fred-dropzone="'+e.dropzones[n].dataset.fredDropzone+'"]');r&&(r.innerHTML=t)}))},r=0;r<this.dropzones.length;r++)n(r);var i=this.previewDocument.querySelector("base");if(i)i.setAttribute("target","_blank");else{i=document.createElement("base"),i.setAttribute("target","_blank");var o=this.previewDocument.querySelector("head");o.appendChild(i)}return Promise.all(t).then(function(){return e.iframe.contentWindow.document.open(),e.iframe.contentWindow.document.write(e.previewDocument.documentElement.innerHTML),e.iframe.contentWindow.document.close(),new Promise(function(t){e.iframe.onload=t}).then(function(){return e.iframe})})}},{key:"renderComponents",value:function(){B.default.launcher=new f.default(B.default.config.launcherPosition||"bottom_left"),B.default.sidebar=new l.default(this.wrapper),U.default.render()}},{key:"getDataFromDropZone",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,A=e.children[Symbol.iterator]();!(n=(o=A.next()).done);n=!0){var a=o.value;t.push(a.fredEl.getContent())}}catch(e){r=!0,i=e}finally{try{!n&&A.return&&A.return()}finally{if(r)throw i}}return t}},{key:"getCleanDropZoneContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i="",o=[],A=!0,a=!1,s=void 0;try{for(var l,c=e.children[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var u=l.value;o.push(u.fredEl.cleanRender(t,n,r))}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}return Promise.all(o).then(function(e){return e.forEach(function(e){i+=e.innerHTML}),i})}},{key:"save",value:function(){var e=this;if(B.default.permission.save_document){a.default.emit("fred-loading",B.default.lng("fred.fe.saving_page"));for(var t={},n={},r=[],i=function(i){n[e.dropzones[i].dataset.fredDropzone]=e.getDataFromDropZone(e.dropzones[i]);var o=e.dropzones[i].querySelectorAll('[data-fred-target]:not([data-fred-target=""])'),A=!0,a=!1,s=void 0;try{for(var l,c=o[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var u=l.value;B.default.pageSettings.hasOwnProperty(u.dataset.fredTarget)?B.default.pageSettings[u.dataset.fredTarget]=H.default.getElValue(u):0!==u.dataset.fredTarget.indexOf("tv_")||""===u.dataset.fredTarget.substr(3)?t[u.dataset.fredTarget]=H.default.getElValue(u):B.default.pageSettings.tvs[u.dataset.fredTarget.substr(3)]=H.default.getElValue(u)}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}r.push(e.getCleanDropZoneContent(e.dropzones[i]).then(function(n){t[e.dropzones[i].dataset.fredDropzone]=n}))},o=0;o<this.dropzones.length;o++)i(o);t.id=B.default.resource.id,t.data=n,t.plugins=B.default.pluginsData,t.pageSettings=B.default.pageSettings,t.fingerprint=this.fingerprint,Promise.all(r).then(function(){(0,F.saveContent)(t).then(function(t){e.unsavedChanges=!1,t.url&&(location.href=t.url),t.fingerprint&&(e.fingerprint=t.fingerprint),B.default.pageSettings.publishedon=t.publishedon,a.default.emit("fred-loading-hide"),a.default.emit("fred-after-save")}).catch(function(e){e.response&&(console.error(e.response.message),alert(e.response.message)),a.default.emit("fred-loading-hide")})})}}},{key:"loadContent",value:function(){var e=this;return a.default.emit("fred-loading",B.default.lng("fred.fe.preparing_content")),(0,F.fetchContent)().then(function(t){return t.data.pageSettings.tagger&&Array.isArray(t.data.pageSettings.tagger)&&(t.data.pageSettings.tagger={}),e.fingerprint=t.data.fingerprint||"",B.default.pageSettings=t.data.pageSettings||{},B.default.tagger=t.data.tagger||[],B.default.tvs=t.data.tvs||[],B.default.pluginsData=t.data.plugins||{},(0,C.loadElements)(t.data).then(function(){h.default.reloadContainers(),document.querySelectorAll(".fred--block-invalid").length>0&&(B.default.invalidElements=!0,e.invalidElementsWarning=(0,w.div)(["fred--alert-invalid"],"fred.fe.invalid_elements_warning"),e.wrapper.appendChild(e.invalidElementsWarning)),a.default.emit("fred-loading-hide")})})}},{key:"registerListeners",value:function(){var e=this;a.default.on("fred-save",function(){e.save()}),a.default.on("fred-wrapper-insert",function(t){e.wrapper.appendChild(t)}),a.default.on("fred-loading",function(t){null===e.loading&&(t=t||"",e.loading=(0,w.section)(["fred--modal-bg","fred--modal_loading"]),e.loading.innerHTML='<div class="fred--modal" aria-hidden="false"><div style="color:white;text-align:center;"><span class="fred--loading"></span> '+t+"</div></div>",e.wrapper.appendChild(e.loading))}),a.default.on("fred-loading-hide",function(){null!==e.loading&&(e.loading.remove(),e.loading=null)}),a.default.on("fred-page-setting-change",function(t,n,r,i){e.dropzones.forEach(function(e){var r=e.querySelectorAll('[data-fred-target="'+t+'"]'),o=!0,A=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;c!==i&&c.fredEl.setElValue(c,n,"_value","_raw",null,!1,!0)}}catch(e){A=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(A)throw a}}})}),a.default.on("fred-preview-on",function(){e.previewContent().then(function(e){document.body.classList.add("fred--fixed"),e.parentNode.style.opacity=null,e.parentNode.style.zIndex=null,e.parentNode.style.display="block"})}),a.default.on("fred-preview-off",function(){document.body.classList.remove("fred--fixed"),e.iframe.parentNode.style.opacity=null,e.iframe.parentNode.style.zIndex=null,e.iframe.parentNode.style.display="none"}),a.default.on("fred-logout-user",function(){e.logoutUser()}),a.default.on("fred-clear-invalid-elements-warning",function(){0===document.querySelectorAll(".fred--block-invalid").length&&(B.default.invalidElements=!1,e.invalidElementsWarning&&e.invalidElementsWarning.remove())}),a.default.on("fred-content-changed",function(){e.unsavedChanges=!0})}},{key:"registerKeyboardShortcuts",value:function(){b.default.bindGlobal("mod+s",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,a.default.emit("fred-save")}),b.default.bind("up up down down left right left right b a enter",function(){!function(){function e(){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",b),e.setAttribute("class",E),document.body.appendChild(e)}function t(){for(var e=document.getElementsByClassName(E),t=0;t<e.length;t++)document.body.removeChild(e[t])}function n(){var e=document.createElement("div");e.setAttribute("class",y),document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},100)}function r(e){return{height:e.offsetHeight,width:e.offsetWidth}}function i(e){var t=r(e);return t.height>f&&t.height<h&&t.width>p&&t.width<g}function o(e){for(var t=e,n=0;t;)n+=t.offsetTop,t=t.offsetParent;return n}function A(){var e=document.documentElement;return window.innerWidth?window.innerHeight:e&&!isNaN(e.clientHeight)?e.clientHeight:0}function a(){return window.pageYOffset?window.pageYOffset:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}function s(e){var t=o(e);return t>=Q&&t<=C+Q}function l(){var e=document.createElement("audio");e.setAttribute("class",E),e.src=m,e.loop=!1,e.addEventListener("canplay",function(){setTimeout(function(){c(F)},500),setTimeout(function(){d(),n();for(var e=0;e<x.length;e++)u(x[e])},15500)},!0),e.addEventListener("ended",function(){d(),t()},!0),e.innerHTML=" <p>If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.</p> <p>",document.body.appendChild(e),e.play()}function c(e){e.className+=" "+v+" "+B}function u(e){e.className+=" "+v+" "+w[Math.floor(Math.random()*w.length)]}function d(){for(var e=document.getElementsByClassName(v),t=new RegExp("\\b"+v+"\\b"),n=0;n<e.length;)e[n].className=e[n].className.replace(t,"")}for(var f=30,p=30,h=350,g=350,m="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake.mp3",v="mw-harlem_shake_me",B="im_first",w=["im_drunk","im_baked","im_trippin","im_blown"],y="mw-strobe_light",b="//s3.amazonaws.com/moovweb-marketing/playground/harlem-shake-style.css",E="mw_added_css",C=A(),Q=a(),U=document.getElementsByTagName("*"),F=null,_=0;_<U.length;_++){var H=U[_];if(i(H)&&s(H)){F=H;break}}if(null===H)return void console.warn("Could not find a node of the right size. Please try a different page.");e(),l();for(var x=[],_=0;_<U.length;_++){var H=U[_];i(H)&&x.push(H)}}()})}},{key:"registerEditor",value:function(e,t){return"function"!=typeof t?(console.log("initFn has to be a functions"),!1):B.default.registerEditor(e,t(this,m.default,(0,C.pluginTools)()))}},{key:"registerRTE",value:function(e,t){return"function"!=typeof t?(console.log("initFn has to be a functions"),!1):B.default.registerRTE(e,t(this,(0,C.pluginTools)()))}},{key:"registerSidebarPlugin",value:function(e,t){return"function"!=typeof t?(console.log("initFn has to be a functions"),!1):B.default.registerSidebarPlugin(e,t(this,u.default,(0,C.pluginTools)()))}},{key:"registerToolbarPlugin",value:function(e,t){return"function"!=typeof t?(console.log("initFn has to be a functions"),!1):B.default.registerToolbarPlugin(e,t(this,T.default,(0,C.pluginTools)()))}},{key:"loadLexicons",value:function(){var e="";return B.default.config.lexicons&&Array.isArray(B.default.config.lexicons)&&(e="&topics="+B.default.config.lexicons.join(",")),(0,F.fetchLexicons)(e).then(function(e){return B.default.lang=e.data,!0})}},{key:"init",value:function(){var e=this;this.registerListeners(),this.registerKeyboardShortcuts(),this.dropzones=document.querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=""])');for(var t=[],n=0;n<this.dropzones.length;n++){if(t.indexOf(this.dropzones[n].dataset.fredDropzone)!=-1)return console.error("There are several dropzones with same name: "+this.dropzones[n].dataset.fredDropzone+". The name of each dropzone has to be unique."),!1;t.push(this.dropzones[n].dataset.fredDropzone)}"function"==typeof B.default.config.beforeRender&&(B.default.config.beforeRender=B.default.config.beforeRender.bind(this),B.default.config.beforeRender()),this.render(),h.default.initDrake(),this.loadContent().then(function(){e.scriptsToReplace[0]&&e.replaceScript(0),e.renderComponents()})}},{key:"replaceScript",value:function(e){var t=this,n=e+1;return this.scriptsToReplace[e].new.src?(this.scriptsToReplace[e].new.addEventListener("load",function(){t.scriptsToReplace[n]&&t.replaceScript(n)}),void this.scriptsToReplace[e].old.parentElement.replaceChild(this.scriptsToReplace[e].new,this.scriptsToReplace[e].old)):(this.scriptsToReplace[e].old.parentElement.replaceChild(this.scriptsToReplace[e].new,this.scriptsToReplace[e].old),void(this.scriptsToReplace[n]&&this.replaceScript(n)))}},{key:"getContent",value:function(){for(var e={},t=0;t<this.dropzones.length;t++)e[this.dropzones[t].dataset.fredDropzone]=this.getDataFromDropZone(this.dropzones[t]);return e}},{key:"logoutUser",value:function(){var e=B.default.config.managerUrl+"?a=security/logout";document.location.href=e}}]),e}();t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.emitter=void 0;var i=n(2),o=r(i),A=t.emitter=new o.default;t.default=A},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function A(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,i,a,s,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],A(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),l=n.slice(),i=l.length,s=0;s<i;s++)l[s].apply(this,a);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(i=A(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,i,A,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],A=n.length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=A;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(1),a=r(A),s=n(4),l=r(s),c=n(77),u=r(c),d=n(78),f=r(d),p=n(79),h=r(p),g=n(80),m=r(g),v=n(74),B=r(v),w=n(81),y=r(w),b=n(6),E=r(b),C=function(){function e(t){i(this,e),this.lastRequest=null,this.components=[],this.visible=!1,this.fredWrapper=t,this.hideSidebar=this.hideSidebar.bind(this),this.globalHideSidebar=this.globalHideSidebar.bind(this),this.registerListeners(),this.render()}return o(e,[{key:"render",value:function(){var e=this,t=[l.default];E.default.permission.fred_blueprints&&t.push(m.default),E.default.permission.fred_elements&&t.push(u.default),E.default.permission.fred_settings&&t.push(f.default);for(var n in E.default.sidebarPlugins)E.default.sidebarPlugins.hasOwnProperty(n)&&t.push(E.default.sidebarPlugins[n]);t.push(h.default),this.wrapper=y.default.render(t,function(t){e.components.push(t)},function(){a.default.emit("fred-sidebar-hide")},function(){a.default.emit("fred-save")},function(){a.default.emit("fred-preview-on")}),a.default.emit("fred-wrapper-insert",this.wrapper)}},{key:"registerListeners",value:function(){var e=this;a.default.on("fred-sidebar-expand",function(t,n,r){t.loading(),e.components.forEach(function(e){e.collapse()}),t.expand(),e.lastRequest=(0,B.default)(Promise.resolve(r)),e.lastRequest.promise.then(function(n){e.lastRequest=null,t.setContent(n),t.afterExpand()}).catch(function(n){e.lastRequest=null,"cancel"!==n.type&&(console.log(n),t.setContent("SOMETHING WRONG HAPPENED"))})}),a.default.on("fred-sidebar-collapse",function(t){null!==e.lastRequest&&(e.lastRequest.cancel(),e.lastRequest=null),e.components.forEach(function(e){e.collapse()})}),a.default.on("fred-sidebar-hide",function(t){e.hideSidebar(t)}),a.default.on("fred-sidebar-show",function(t){e.showSidebar(t)}),a.default.on("fred-sidebar-toggle",function(){y.default.isVisible()?a.default.emit("fred-sidebar-hide"):a.default.emit("fred-sidebar-show")}),a.default.on("fred-sidebar-dt-active",function(t,n){var r=function r(i){null===i.target.parentElement||n.contains(i.target)||(t.classList.remove("active"),e.wrapper.removeEventListener("click",r))};e.wrapper.addEventListener("click",r)})}},{key:"hideSidebar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e===!1&&(this.visible=!1),y.default.hide(),window.removeEventListener("click",this.globalHideSidebar)}},{key:"showSidebar",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t===!0&&this.visible===!1||(this.visible=!0,y.default.show(),setTimeout(function(){window.addEventListener("click",e.globalHideSidebar)},50))}},{key:"globalHideSidebar",value:function(e){null===e.target.parentElement||this.fredWrapper.contains(e.target)||this.components.forEach(function(e){e.collapse()})}}]),e}();t.default=C,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=r(s),c=n(1),u=r(c),d=n(11),f=n(13),p=n(6),h=r(p),g=n(72),m=n(35),v=n(10),B=r(v),w=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"init",value:function(){this.content=null,this.openCreatePage=this.openCreatePage.bind(this),this.state={pagetitle:"",parent:0,blueprint:0,template:0,theme:h.default.config.theme}}},{key:"click",value:function(){var e=this;return(0,g.getResourceTree)(this.config.contextKey).then(function(t){return e.content=t,e.buildPanel()})}},{key:"buildPanel",value:function(){var e=(0,d.div)(["fred--pages"]);return this.pageList=(0,d.dl)(["fred--pages_list"]),this.parents=[],h.default.permission.new_document_in_root&&this.parents.push({id:0,value:"0",label:h.default.lng("fred.fe.pages.no_parent")}),this.buildTree(this.content,this.pageList),h.default.permission.new_document&&this.buildCreatePage(this.pageList),e.appendChild(this.pageList),e}},{key:"buildCreatePage",value:function(e){var t=this;this.formWrapper=(0,d.dd)();var n=(0,d.form)(["fred--pages_create"]),r=(0,d.fieldSet)(),i=(0,d.legend)("fred.fe.pages.create_page"),o=function(e,n){t.state[e]=n},A=function(e,n){"template"===e&&n.customProperties&&n.customProperties.theme&&(t.state.theme=n.customProperties.theme,t.blueprintInput.choices.clearStore(),t.blueprintInput.choices.ajax(function(e){(0,m.getBlueprints)(!0,t.state.theme).then(function(r){var i=[];r.forEach(function(e){var r=[];e.blueprints.forEach(function(e){var i={label:e.name,value:""+e.id};n.customProperties.default_blueprint&&e.id===n.customProperties.default_blueprint&&(i.selected=!0,t.state.blueprint=e.id),r.push(i)}),i.push({label:e.category,disabled:!1,choices:r})}),e(i,"value","label")}).catch(function(e){u.default.emit("fred-loading",e.message)})})),t.state[e]=n.value};this.blueprintInput=(0,f.choices)({name:"blueprint",label:h.default.lng("fred.fe.pages.blueprint"),choices:{removeItemButton:!0}},this.state.blueprint,A,function(e,n,r,i){i.passedElement.addEventListener("removeItem",function(e){var n=i.getValue(!1);void 0===n&&(t.state.blueprint="0")})}),r.appendChild(i);var a=(0,f.text)({name:"pagetitle",label:"fred.fe.pages.page_title"},this.state.pagetitle,o);r.appendChild(a),this.parentInput=(0,f.choices)({name:"parent",label:h.default.lng("fred.fe.pages.parent"),choices:{choices:this.parents,shouldSort:!1}},this.state.parent,A,function(e,n,r,i,o){var A=h.default._resource.parent?h.default._resource.parent:h.default.permission.new_document_in_root?0:h.default._resource.id;i.setValueByChoice(""+A),t.state.parent=A}),r.appendChild(this.parentInput),this.templateInput=(0,f.choices)({name:"template",label:h.default.lng("fred.fe.pages.template")},this.state.template,A,function(e,t,n,r,i){r.ajax(function(e){(0,g.getTemplates)().then(function(t){t.data.templates[0]&&(A("template",t.data.templates[0]),t.data.templates[0].selected=!0),e(t.data.templates,"value","name")}).catch(function(e){u.default.emit("fred-loading",e.message)})})}),r.appendChild(this.templateInput),r.appendChild(this.blueprintInput);var s=(0,d.button)("fred.fe.pages.create_page","fred.fe.pages.create_page",["fred--btn-panel","fred--btn-apply"],function(){return h.default.permission.new_document?0!==!t.state.parent||h.default.permission.new_document_in_root?(u.default.emit("fred-loading",h.default.lng("fred.fe.pages.creating_page")),void(0,g.createResource)(t.state.parent,t.state.template,t.state.pagetitle,t.state.blueprint).then(function(e){location.href=e.url,u.default.emit("fred-loading-hide")}).catch(function(e){e.response._fields.pagetitle&&a.onError(e.response._fields.pagetitle),u.default.emit("fred-loading-hide")})):void alert(h.default.lng("fred.fe.permission.new_document_in_root")):void alert(h.default.lng("fred.fe.permission.new_document"))});r.appendChild(s),n.appendChild(r),this.createPageButton=(0,d.dt)("fred.fe.pages.create_page",["fred--accordion-plus"],this.openCreatePage),this.createPageButton.setAttribute("hidden","hidden"),this.createPageButtonSm=(0,d.button)("+","fred.fe.pages.create_page",["fred--btn-small","fred--btn-add"],this.openCreatePage),h.default.permission.new_document_in_root||h.default._resource.parent||this.createPageButtonSm.setAttribute("hidden","hidden"),this.formWrapper.appendChild(n),e.appendChild(this.createPageButton),e.appendChild(this.formWrapper),e.appendChild(this.createPageButtonSm)}},{key:"openCreatePage",value:function(e){var t=this.pageList.querySelectorAll("dt.active"),n=this.createPageButton.classList.contains("active"),r=!0,i=!1,o=void 0;try{for(var A,a=t[Symbol.iterator]();!(r=(A=a.next()).done);r=!0){var s=A.value;s.classList.remove("active")}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}n||(this.createPageButton.classList.add("active"),e.stopPropagation(),u.default.emit("fred-sidebar-dt-active",this.createPageButton,this.formWrapper))}},{key:"buildTree",value:function(e,t){var n=this,r=this.getTreeState();e.forEach(function(e){n.parents.push({id:e.id,value:""+e.id,label:e.pagetitle});var i=~r.indexOf(e.id),o=(0,d.dt)(e.pagetitle,[],function(e,t){if(e.target===o){var r=n.pageList.querySelectorAll("dt.active"),i=t.classList.contains("active"),a=!0,s=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(a=(c=d.next()).done);a=!0){var f=c.value;f.classList.remove("active")}}catch(e){s=!0,l=e}finally{try{!a&&d.return&&d.return()}finally{if(s)throw l}}i||(t.classList.add("active"),e.stopPropagation(),u.default.emit("fred-sidebar-dt-active",o,A))}});e.published!==!0&&o.classList.add("fred--pages_unpublished"),e.deleted===!0&&o.classList.add("fred--pages_deleted"),e.hidemenu===!0&&o.classList.add("fred--pages_hidden"),t.append(o);var A=(0,d.dd)();if(e.isFred===!0?(A.appendChild(n.createMenu(e)),t.append(A)):o.classList.add("fred--pages_noedit"),e.children.length>0){var a=(0,d.dl)();n.buildTree(e.children,a);var s=(0,d.button)("","fred.fe.pages.expand_page",["fred--btn-list","fred--btn-list_expand"],function(){return s.classList.contains("fred--btn-list_close")?(n.closeTreeNode(e.id),s.classList.remove("fred--btn-list_close"),a.classList.add("fred--hidden"),a.setAttribute("aria-disabled","true"),void s.setAttribute("title",h.default.lng("fred.fe.pages.collapse_page"))):(n.openTreeNode(e.id),s.classList.add("fred--btn-list_close"),a.classList.remove("fred--hidden"),a.setAttribute("aria-disabled","false"),void s.setAttribute("title",h.default.lng("fred.fe.pages.collapse_page")))});i?(s.classList.add("fred--btn-list_close"),s.setAttribute("title",h.default.lng("fred.fe.pages.collapse_page"))):(a.classList.add("fred--hidden"),a.setAttribute("aria-disabled","true")),o.insertBefore(s,o.firstChild),t.append(a)}})}},{key:"openTreeNode",value:function(e){var t=this.getTreeState();t.indexOf(e)===-1&&t.push(e),sessionStorage.setItem("fredTreeState",JSON.stringify(t))}},{key:"closeTreeNode",value:function(e){var t=this.getTreeState();t=t.filter(function(t){return t!==e}),sessionStorage.setItem("fredTreeState",JSON.stringify(t))}},{key:"getTreeState",value:function(){var e=[];try{e=JSON.parse(sessionStorage.getItem("fredTreeState")),e||(e=[])}catch(t){e=[]}return e}},{key:"createMenu",value:function(e){var t=this,n=(0,d.div)(["fred--pages_menu"]),r=(0,d.h3)(e.pagetitle),i=(0,d.a)("fred.fe.pages.edit","fred.fe.pages.edit",e.url);if(n.appendChild(r),n.appendChild(i),h.default.permission.resource_duplicate){var o=(0,d.button)("fred.fe.pages.duplicate","fred.fe.pages.duplicate",[],function(){var t={title:"Duplicate of "+e.pagetitle,duplicate_children:!1,publishing_options:"preserve"},n=function(e,n){t[e]=n},r=[(0,f.text)({label:"fred.fe.pages.page_title",name:"pagetitle"},t.title,n)];e.children.length>0&&(t.duplicate_children=!0,r.push((0,f.toggle)({label:"Duplicate Children",name:"duplicate_children"},t.duplicate_children,n))),r.push((0,f.select)({label:"Publishing Options",name:"publishing_options",options:{unpublish:"Make All Unpublished",publish:"Make All Published",preserve:"Preserve Published Status"}},t.publishing_options,n));var i=new B.default("Duplicate Page",(0,d.div)([],r),function(){(0,g.duplicateResource)(t.title,t.duplicate_children,t.publishing_options,e.id).then(function(e){
e.url&&(location.href=e.url)}).catch(function(e){})},{showCancelButton:!0});i.render()});n.appendChild(o)}var A=(0,d.button)("fred.fe.pages.publish","fred.fe.pages.publish",[],function(){u.default.emit("fred-loading",h.default.lng("fred.fe.pages.publishing_page")),(0,g.publishResource)(e.id).then(function(){A.replaceWith(a),u.default.emit("fred-loading-hide")}).catch(function(e){u.default.emit("fred-loading-hide")})}),a=(0,d.button)("fred.fe.pages.unpublish","fred.fe.pages.unpublish",[],function(){u.default.emit("fred-loading",h.default.lng("fred.fe.pages.unpublishing_page")),(0,g.unpublishResource)(e.id).then(function(){a.replaceWith(A),u.default.emit("fred-loading-hide")}).catch(function(e){u.default.emit("fred-loading-hide")})});if(e.published===!0?h.default.permission.unpublish_document&&n.appendChild(a):h.default.permission.publish_document&&n.appendChild(A),h.default.permission.new_document){var s=(0,d.button)("fred.fe.pages.create_child_page","fred.fe.pages.create_child_page",[],function(n){t.state.parent=e.id,t.parentInput.choices.setValueByChoice(""+e.id),t.templateInput.choices.setValueByChoice(""+e.template);var r=t.templateInput.choices.getValue();r.customProperties&&r.customProperties.theme&&(t.state.theme=r.customProperties.theme,t.blueprintInput.choices.clearStore(),t.blueprintInput.choices.ajax(function(e){(0,m.getBlueprints)(!0,t.state.theme).then(function(n){var i=[];n.forEach(function(e){var n=[];e.blueprints.forEach(function(e){var i={label:e.name,value:""+e.id};r.customProperties.default_blueprint&&e.id===r.customProperties.default_blueprint&&(i.selected=!0,t.state.blueprint=e.id),n.push(i)}),i.push({label:e.category,disabled:!1,choices:n})}),e(i,"value","label")}).catch(function(e){u.default.emit("fred-loading",e.message)})})),t.openCreatePage(n)});n.appendChild(s)}var l=(0,d.button)("fred.fe.pages.delete","fred.fe.pages.delete",[],function(){u.default.emit("fred-loading",h.default.lng("fred.fe.pages.deleting_page")),(0,g.deleteResource)(e.id).then(function(){l.replaceWith(c),u.default.emit("fred-loading-hide")}).catch(function(e){u.default.emit("fred-loading-hide")})}),c=(0,d.button)("fred.fe.pages.undelete","fred.fe.pages.undelete",[],function(){u.default.emit("fred-loading",h.default.lng("fred.fe.pages.undeleting_page")),(0,g.undeleteResource)(e.id).then(function(){c.replaceWith(l),u.default.emit("fred-loading-hide")}).catch(function(e){u.default.emit("fred-loading-hide")})});return e.deleted===!0?h.default.permission.undelete_document&&n.appendChild(c):h.default.permission.delete_document&&n.appendChild(l),n}}]),t}(l.default);w.title="fred.fe.pages",w.icon="fred--sidebar_pages",w.expandable=!0,t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),l=n(6),c=r(l),u=n(11),d=function(){function e(t){var n=this;i(this,e),this.sidebarWrapper=t,this.config=c.default.config,this.titleEl=null,this.contentEl=null;var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.titleEl=(0,u.dt)(e),n.constructor.icon&&n.titleEl.classList.add(n.constructor.icon),t===!1?n.titleEl.addEventListener("click",n.click):n.titleEl.addEventListener("click",function(){n.titleEl.classList.contains("active")?s.default.emit("fred-sidebar-collapse",n):s.default.emit("fred-sidebar-expand",n,e,n.click())}),n.contentEl=document.createElement("dd"),n.sidebarWrapper.appendChild(n.titleEl),n.sidebarWrapper.appendChild(n.contentEl)};this.init(),r(this.constructor.title,this.constructor.expandable)}return A(e,[{key:"init",value:function(){}},{key:"click",value:function(){}},{key:"expand",value:function(){this.titleEl.classList.add("active")}},{key:"collapse",value:function(){this.titleEl.classList.remove("active")}},{key:"setContent",value:function(e){return"object"===("undefined"==typeof e?"undefined":o(e))&&void 0!==e.outerHTML?(this.contentEl.innerHTML="",this.contentEl.appendChild((0,u.h3)(this.constructor.title)),void this.contentEl.appendChild(e)):(this.contentEl.appendChild((0,u.h3)(this.constructor.title)),void(this.contentEl.innerHTML=e))}},{key:"loading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=c.default.lngExists(this.constructor.title)?c.default.lng(this.constructor.title):this.constructor.title;e=e||"Retrieving "+t;var n=(0,u.div)("fred--loading_wrapper",[(0,u.span)("fred--loading"),e]);this.setContent(n)}},{key:"afterExpand",value:function(){}}]),e}();d.title="TITLE NOT SET",d.icon="",d.expandable=!1,t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(7),s=r(a),l=function(){function e(){i(this,e),this._config={},this._editors=s.default,this._rtes={},this._sidebarPlugins={},this._toolbarPlugins={},this._pluginsData={},this._pageSettings={},this._tagger=[],this._tvs=[],this._lang={},this._fred=null,this._jwt=null,this._permission=null,this._resource=null,this._invalidElements=!1,this._sidebar=null,this._launcher=null}return A(e,[{key:"getPluginsData",value:function(e,t){return this._pluginsData[e]&&void 0!==this._pluginsData[e][t]?this._pluginsData[e][t]:null}},{key:"setPluginsData",value:function(e,t,n){this._pluginsData[e]||(this._pluginsData[e]={}),this._pluginsData[e][t]=n}},{key:"registerEditor",value:function(e,t){return this._editors[e]?(console.log('Editor "'+e+'" is already registered'),!1):(this._editors[e]=t,!0)}},{key:"registerRTE",value:function(e,t){return this._rtes[e]?(console.log('RTE "'+e+'" is already registered'),!1):(this._rtes[e]=t,!0)}},{key:"registerSidebarPlugin",value:function(e,t){return this._sidebarPlugins[e]?(console.log('Sidebar Plugin "'+e+'" is already registered'),!1):(this._sidebarPlugins[e]=t,!0)}},{key:"registerToolbarPlugin",value:function(e,t){return this._toolbarPlugins[e]?(console.log('Toolbar Plugin "'+e+'" is already registered'),!1):(this._toolbarPlugins[e]=t,!0)}},{key:"lng",value:function(e,t){if(void 0===this._lang[e])return console.log("[FRED] Language string: "+e+" not found"),"";if(t&&"object"===("undefined"==typeof t?"undefined":o(t))){var n=""+this._lang[e];for(var r in t)t.hasOwnProperty(r)&&(n=n.replace("[[+"+r+"]]",t[r]));return n}return this._lang[e]}},{key:"lngExists",value:function(e){return void 0!==this._lang[e]}},{key:"fred",set:function(e){this._fred=e},get:function(){return this._fred}},{key:"config",set:function(e){this._config=e},get:function(){return this._config}},{key:"pageSettings",set:function(e){this._pageSettings=e},get:function(){return this._pageSettings}},{key:"tagger",set:function(e){this._tagger=e},get:function(){return this._tagger}},{key:"tvs",set:function(e){this._tvs=e},get:function(){return this._tvs}},{key:"jwt",set:function(e){null===this._jwt&&(this._jwt=e)},get:function(){return this._jwt}},{key:"permission",set:function(e){null===this._permission&&(this._permission=e,Object.freeze(this._permission))},get:function(){return this._permission}},{key:"resource",set:function(e){null===this._resource&&(this._resource=e,Object.freeze(this._resource))},get:function(){return this._resource}},{key:"lang",set:function(e){this._lang=e}},{key:"invalidElements",set:function(e){this._invalidElements=e},get:function(){return this._invalidElements}},{key:"pluginsData",set:function(e){this._pluginsData=e},get:function(){return this._pluginsData}},{key:"sidebar",set:function(e){null===this._sidebar&&(this._sidebar=e)},get:function(){return this._sidebar}},{key:"launcher",set:function(e){null===this._launcher&&(this._launcher=e)},get:function(){return this._launcher}},{key:"editors",get:function(){return this._editors}},{key:"rtes",get:function(){return this._rtes}},{key:"sidebarPlugins",get:function(){return this._sidebarPlugins}},{key:"toolbarPlugins",get:function(){return this._toolbarPlugins}}]),e}(),c=new l;t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=r(i),A=n(76),a=r(A);t.default={ImageEditor:o.default,IconEditor:a.default},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),c=r(l),u=n(19),d=r(u),f=n(21),p=r(f),h=n(11),g=n(13),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),s(t,[{key:"init",value:function(){this.state=a({},this.state,{src:p.default.getElValue(this.el)||""})}},{key:"render",value:function(){var e=(0,h.div)();return e.appendChild((0,g.image)(a({name:"src",label:"fred.fe.editor.image_uri"},d.default.getFinderOptionsFromElement(this.el,!0)),this.state.src,this.setStateValue)),e.appendChild(this.buildAttributesFields()),e}},{key:"onSave",value:function(){c.default.prototype.onSave.call(this),this.el.fredEl.setElValue(this.el,this.state.src)}}]),t}(c.default);m.title="fred.fe.editor.edit_image",t.default=m,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(10),a=r(A),s=n(6),l=r(s),c=n(11),u=n(12),d=r(u),f=function(){function e(t){i(this,e),this.el=t,this.state={_attributes:{}},this.setStateValue=this.setStateValue.bind(this),this.setStateAttribute=this.setStateAttribute.bind(this),this.init();var n=this.render(),r=l.default.lngExists(this.constructor.title)?l.default.lng(this.constructor.title):this.constructor.title,o=new a.default(r,n,this.onSave.bind(this));o.render()}return o(e,[{key:"init",value:function(){}},{key:"render",value:function(){}},{key:"onStateUpdate",value:function(){}},{key:"onSave",value:function(){for(var e in this.state._attributes)this.state._attributes.hasOwnProperty(e)&&this.el.fredEl.setElValue(this.el,this.state._attributes[e],e)}},{key:"setStateAttribute",value:function(e,t){this.state._attributes[e]=t,this.onStateUpdate()}},{key:"setStateValue",value:function(e,t){this.state[e]=t,this.onStateUpdate()}},{key:"buildAttributesFields",value:function(){var e=this,t=(0,c.div)();if(this.el.dataset.fredAttrs){var n=this.el.dataset.fredAttrs.split(",");n.forEach(function(n){e.state._attributes[n]=e.el.getAttribute(n||""),t.appendChild(d.default.ins.text({name:n,label:n},e.state._attributes[n],e.setStateAttribute))})}return t}}]),e}();f.title="fred.fe.editor.edit",t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(1),a=r(A),s=n(11),l=n(6),c=r(l),u=t.Modal=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.wrapper=null,c.default.lngExists(t)&&(t=c.default.lng(t)),this.title=t,this.content=n,this.onSave=r,this.showCancelButton=o.showCancelButton||!1,this.cancelButtonText=o.cancelButtonText||"fred.fe.cancel",this.showSaveButton=void 0===o.showSaveButton||o.showSaveButton,this.saveButtonText=o.saveButtonText||"fred.fe.save",this.width=o.width?o.width:null,this.cancelButton=null,this.saveButton=null}return o(e,[{key:"setTitle",value:function(e){this.title=e,null!==this.wrapper&&(this.titleEl.innerHTML=e)}},{key:"setContent",value:function(e){this.content=e,null!==this.wrapper&&("string"==typeof this.content?this.body.innerHTML=this.content:(this.body.innerHTML="",this.body.appendChild(this.content)))}},{key:"render",value:function(){var e=this;this.wrapper=(0,s.section)(["fred--modal-bg"]);var t=(0,s.div)(["fred--modal"]);t.setAttribute("aria-hidden","true"),null!==this.width&&(t.style.width=this.width);var n=(0,s.div)(["fred--modal-header"]),r=(0,s.button)('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="-4 -4 20 20" enable-background="new -4 -4 20 20" xml:space="preserve"><polygon points="16.079,-0.666 12.717,-4.027 6.052,2.637 -0.613,-4.027 -3.975,-0.666 2.69,6 -3.975,12.664 -0.612,16.026 6.052,9.362 12.717,16.027 16.079,12.664 9.414,6 "></polygon></svg>',"fred.fe.close",["button"],this.close.bind(this));this.titleEl=(0,s.h1)(this.title),this.body=(0,s.div)(["fred--modal-body"]),"string"==typeof this.content?this.body.innerHTML=this.content:this.body.appendChild(this.content);var i=(0,s.div)(["fred--modal-footer"]);return this.showCancelButton===!0&&(this.cancelButton=(0,s.button)(this.cancelButtonText,this.cancelButtonText,["fred--btn-small","fred--btn-danger"],function(){e.close()}),i.appendChild(this.cancelButton)),this.showSaveButton===!0&&(this.saveButton=(0,s.button)(this.saveButtonText,this.saveButtonText,["fred--btn-small"],function(){var t=e.onSave();t!==!1&&e.close()}),i.appendChild(this.saveButton)),n.appendChild(r),n.appendChild(this.titleEl),t.appendChild(n),t.appendChild(this.body),t.appendChild(i),this.wrapper.appendChild(t),a.default.emit("fred-wrapper-insert",this.wrapper),this.wrapper}},{key:"disableSave",value:function(){this.saveButton&&this.saveButton.setAttribute("disabled","disabled")}},{key:"enableSave",value:function(){this.saveButton&&this.saveButton.removeAttribute("disabled")}},{key:"close",value:function(){this.wrapper.remove()}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.iFrame=t.figCaption=t.figure=t.legend=t.fieldSet=t.textArea=t.select=t.input=t.label=t.form=t.i=t.a=t.img=t.h4=t.h3=t.h2=t.h1=t.th=t.td=t.tr=t.table=t.button=t.section=t.dt=t.dd=t.dl=t.span=t.div=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=n(6),a=r(A),s=function(e,t){t&&(Array.isArray(t)?t.forEach(function(t){"object"===("undefined"==typeof t?"undefined":o(t))&&void 0!==t.innerHTML?e.appendChild(t):"string"==typeof t&&(a.default.lngExists(t)?e.innerHTML=a.default.lng(t):e.innerHTML=t)}):"object"===("undefined"==typeof t?"undefined":o(t))&&void 0!==t.innerHTML?e.appendChild(t):a.default.lngExists(t)?e.innerHTML=a.default.lng(t):e.innerHTML=t)},l=function(e,t){if(t)if(Array.isArray(t)){var n;(n=e.classList).add.apply(n,i(t))}else e.classList=t},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=document.createElement(e);return l(n,t),n},u=t.div=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=c("div",e);return s(n,t),n},d=t.span=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=c("span",e);return s(n,t),n},f=t.dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=c("dl",e);return t.setAttribute("tabindex","0"),t.setAttribute("role","tablist"),t},p=t.dd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=c("dd",e);return t.setAttribute("tabindex","0"),t.setAttribute("role","tablist"),t},h=t.dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=c("dt",t);return r.setAttribute("tabindex","0"),r.setAttribute("role","tab"),s(r,e),"function"==typeof n&&r.addEventListener("click",function(e){e.preventDefault(),n(e,r)}),r},g=t.section=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c("section",e)},m=t.button=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=c("button",n);return i.setAttribute("role","button"),s(i,e),t&&(a.default.lngExists(t)?i.setAttribute("title",a.default.lng(t)):i.setAttribute("title",t)),"function"==typeof r&&i.addEventListener("click",function(e){e.preventDefault(),r(e,i)}),i},v=t.table=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("table",t);return s(n,e),n},B=t.tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("tr",t);return s(n,e),n},w=t.td=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("td",t);return s(n,e),n},y=t.th=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("th",t);return s(n,e),n},b=t.h1=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("h1",t);return s(n,e),n},E=t.h2=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("h2",t);return s(n,e),n},C=t.h3=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("h3",t);return s(n,e),n},Q=t.h4=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("h4",t);return s(n,e),n},U=t.img=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=c("img",n);return r.src=e,t&&r.setAttribute("alt",t),r},F=t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=c("a",r);return s(o,e),t&&t&&(a.default.lngExists(t)?o.setAttribute("title",a.default.lng(t)):o.setAttribute("title",t)),n&&o.setAttribute("href",n),"function"==typeof i&&o.addEventListener("click",function(e){e.preventDefault(),i(e,o)}),o},_=t.i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c("i",e)},H=t.form=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c("form",e)},x=t.label=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("label",t);return s(n,e),n},T=t.input=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=c("input",n);return r.setAttribute("type",t),e&&("checkbox"===t?e===!0&&r.setAttribute("checked","checked"):r.value=e),r},S=t.select=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c("select",e)},N=t.textArea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("textarea",t);return n.innerHTML=e,n},k=t.fieldSet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c("fieldset",e)},O=t.legend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("legend",t);return s(n,e),n},I=t.figure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return c("figure",e)},L=t.figCaption=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("figcaption",t);return s(n,e),n},D=t.iFrame=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=c("iframe",t);return n.src=e,n};t.default={div:u,span:d,dl:f,dd:p,dt:h,section:g,button:m,table:v,tr:B,th:y,td:w,h1:b,h2:E,h3:C,h4:Q,a:F,i:_,img:U,form:H,label:x,input:T,select:S,textArea:N,fieldSet:k,legend:O,figure:I,figCaption:L,iFrame:D}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=r(i),A=n(13),a=r(A);t.default={els:o.default,ins:a.default},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tagger=t.choices=t.folder=t.file=t.image=t.page=t.slider=t.colorPicker=t.colorSwatch=t.dateTime=t.area=t.toggle=t.select=t.text=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=n(6),a=r(A),s=n(1),l=r(s),c=n(14),u=r(c),d=n(15),f=r(d),p=n(16),h=r(p),g=n(18),m=r(g),v=n(19),B=r(v),w=n(11),y=n(20),b=n(73),E=r(b),C=n(72),Q=n(75),U=t.text=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=void 0;i=e.labelAsPlaceholder===!0?(0,w.label)():(0,w.label)(e.label||e.name);var o=(0,w.input)(t);e.labelAsPlaceholder===!0&&o.setAttribute("placeholder",e.label||e.name);var A=null;return o.addEventListener("keyup",function(t){null!==A&&(A.remove(),o.removeAttribute("aria-invalid"),A=null),"function"==typeof n&&n(e.name,o.value,o,e)}),i.onError=function(e){o.setAttribute("aria-invalid","true"),null===A?(A=(0,w.div)("error",e),i.appendChild(A)):A.innerHTML=e},i.appendChild(o),"function"==typeof r&&r(e,i,o),i},F=t.select=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name),o=(0,w.select)();if(e.options)for(var A in e.options)if(e.options.hasOwnProperty(A)){var a=document.createElement("option");a.innerHTML=e.options[A],a.value=A,A===t&&a.setAttribute("selected","selected"),o.appendChild(a)}return"function"==typeof n&&o.addEventListener("change",function(t){e.options[o.value]&&n(e.name,o.value,o,e)}),i.appendChild(o),"function"==typeof r&&r(e,i,o),i},_=t.toggle=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name,"fred--toggle"),o=(0,w.input)(t,"checkbox");i.inputEl=o,"function"==typeof n&&o.addEventListener("change",function(t){n(e.name,t.target.checked,o,e)});var A=(0,w.span)();return i.appendChild(o),i.appendChild(A),"function"==typeof r&&r(e,i,o,A),i},H=t.area=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name),o=(0,w.textArea)(t);return e.rows&&parseInt(e.rows)>0?o.setAttribute("rows",parseInt(e.rows)):o.setAttribute("rows",4),"function"==typeof n&&o.addEventListener("keyup",function(t){n(e.name,o.value,o,e)}),i.appendChild(o),"function"==typeof r&&r(e,i,o),i},x=t.dateTime=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3];t=parseInt(t)||0;var i=(0,w.label)(e.label||e.name),o=(0,w.div)(["fred--input-group","fred--datetime"]),A=(0,w.input)(),a=(0,u.default)(A,{enableTime:!0,dateFormat:"Y-m-d H:i",appendTo:o,defaultDate:0===t?"":1e3*t,onChange:function(t){"function"==typeof n&&(0===t.length?n(e.name,0,a,e):n(e.name,t[0].getTime()/1e3,a,e))}});i.picker=a;var s=(0,w.a)("","fred.fe.clear","","fred--close-small",function(){a.clear()});return o.appendChild(A),o.appendChild(s),i.appendChild(o),"function"==typeof r&&r(e,i,A),i},T=t.colorSwatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name),A=(0,w.div)("fred--color_swatch"),a=(0,w.div)("fred--color_swatch-preview"),s=(0,w.div)(["fred--color_swatch-colors","fred--hidden"]);t&&(a.style.backgroundColor=t);var l=!1;a.addEventListener("click",function(e){e.preventDefault(),l===!1?(l=!0,s.classList.remove("fred--hidden")):(l=!1,s.classList.add("fred--hidden"))});var c=!1;return e.options&&e.options.forEach(function(r){if("object"===("undefined"==typeof r?"undefined":o(r))){var i=(0,w.div)("fred--color_swatch-color");i.style.background=r.color,r.width&&parseFloat(r.width)>1&&(i.style.width=30*parseFloat(r.width)+"px"),r.label&&""!==r.label.trim()&&i.setAttribute("data-tooltip",r.label),!c&&t&&r.value===t&&(c=!0,t&&(a.style.background=r.color)),i.addEventListener("click",function(t){t.preventDefault(),"function"==typeof n&&n(e.name,r.value,i,e),a.style.background=r.color}),s.appendChild(i)}else{var A=(0,w.div)("fred--color_swatch-color");A.style.backgroundColor=r,A.addEventListener("click",function(t){t.preventDefault(),"function"==typeof n&&n(e.name,r,A,e),a.style.background=r}),s.appendChild(A)}}),A.appendChild(a),A.appendChild(s),i.appendChild(A),"function"==typeof r&&r(e,i,A,a,s),i},S=t.colorPicker=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name),o=(0,w.div)("fred--color_picker"),A=(0,w.div)("fred--color_picker-preview"),a=!1,s=null;A.addEventListener("click",function(r){r.preventDefault(),a===!1?(a=!0,s=h.default.createPicker({attachTo:l,color:t,showAlpha:void 0===e.showAlpha||e.showAlpha,paletteEditable:!1,palette:e.options||null}),s.onchange=function(r){"function"==typeof n&&n(e.name,r.color,r,e),A.style.backgroundColor=r.color,t=r.color}):(null!==s&&(s.element.remove(),s=null),a=!1)}),t&&(A.style.backgroundColor=t);var l=(0,w.div)();return o.appendChild(A),o.appendChild(l),i.appendChild(o),"function"==typeof r&&r(e,i,o,A,l),i},N=t.slider=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments[2],i=arguments[3],o=(0,w.label)(t.label||t.name);if(!t.min&&!t.max)return console.error("Slider Input error. Parameters min and max are required"),o;var A=(0,w.div)(),a=!1,s=1;t.step?s=t.step:t.tooltipDecimals&&(s=Math.pow(10,-1*t.tooltipDecimals));var e=m.default.create(A,{start:n,connect:[!0,!1],tooltips:{to:function(e){var n=void 0===t.tooltipDecimals?0:t.tooltipDecimals;return 0===n?parseInt(e.toFixed()):parseFloat(e.toFixed(n))}},format:{to:function(e){var n=void 0===t.tooltipDecimals?0:t.tooltipDecimals;return 0===n?parseInt(e.toFixed()):parseFloat(e.toFixed(n))},from:function(e){var n=void 0===t.tooltipDecimals?0:t.tooltipDecimals;return 0===n?parseInt(e):parseFloat(e).toFixed(n)}},step:s,range:{min:t.min,max:t.max}});return A.querySelector(".noUi-handle").addEventListener("keydown",function(e){var t=Number(A.noUiSlider.get());37===e.which&&A.noUiSlider.set(t-s),39===e.which&&A.noUiSlider.set(t+s)}),"function"==typeof r&&e.on("update",function(n,i,o,A,s){a===!1?a=!0:r(t.name,n[0],e,t)}),o.appendChild(A),"function"==typeof i&&i(t,o,A),o},k=t.page=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:0,url:""},n=arguments[2],r=arguments[3],o=(0,w.div)(),A=(0,w.label)(e.label||e.name,"fred--label-choices"),a=(0,w.select)();o.appendChild(A),o.appendChild(a);var s=null,c={},u=[],d=new f.default(a,{shouldSort:!1,removeItemButton:e.clearButton||!1,searchResultLimit:0});(0,y.fixChoices)(d);var p={};e.parents&&(p.parents=e.parents),e.resources&&(p.resources=e.resources),e.depth&&(p.depth=e.depth),d.ajax(function(e){(0,C.getResources)(t.id,p).then(function(n){u=n.data.resources,e(n.data.resources,"value","pagetitle"),n.data.current&&(d.setChoices([n.data.current],"value","pagetitle",!1),d.setValueByChoice(""+t.id))}).catch(function(e){l.default.emit("fred-loading",e.message)})});var h=function(e){var t=[];d.currentState.items.forEach(function(e){e.active&&t.push(e.value)});var n=[];e.forEach(function(e){t.indexOf(e.id)===-1&&n.push(e)}),d.setChoices(n,"value","pagetitle",!0)},g=function(){var e=d.input.value;e in c?h(c[e]):(0,C.getResources)(null,i({query:e},p)).then(function(t){c[e]=t.data.resources,h(t.data.resources)}).catch(function(e){l.default.emit("fred-loading",e.message)})};return d.passedElement.addEventListener("search",function(e){clearTimeout(s),s=setTimeout(g,200)}),d.passedElement.addEventListener("choice",function(t){d.setChoices(u,"value","pagetitle",!0),"function"==typeof n&&n(e.name,{url:t.detail.choice.customProperties.url,id:t.detail.choice.value},d,e)}),d.passedElement.addEventListener("removeItem",function(t){d.getValue()||"function"==typeof n&&n(e.name,{url:"",id:""},d,e)}),"function"==typeof r&&r(e,A,a),o},O=t.image=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name);e.showPreview=void 0===e.showPreview||e.showPreview;var o=(0,w.div)(["fred--input-group","fred--browse"]),A=(0,w.input)(t),s=(0,w.a)("","fred.fe.browse","","fred--browse-small"),l=(0,w.img)(""),c=!1,u={};e.mediaSource&&""!==e.mediaSource&&(u.mediaSource=e.mediaSource),A.addEventListener("keyup",function(t){e.showPreview===!0&&A.value?(l.src=(0,y.valueParser)(A.value),c||(i.appendChild(l),c=!0)):c&&(l.src="",l.remove(),c=!1),"function"==typeof n&&n(e.name,A.value,A,e)});var d=function(t){t.preventDefault();var r=new B.default(function(t,r){var o=t.url;0===o.indexOf(a.default.config.themeDir)&&(o=o.replace(a.default.config.themeDir,"{{theme_dir}}")),"function"==typeof n&&n(e.name,o,A,e),A.value=o,l.src=(0,y.valueParser)(o),
e.showPreview!==!0||c||(i.appendChild(l),c=!0)},"fred.fe.browse_images",u);r.render()};return s.addEventListener("click",d),l.addEventListener("click",d),o.appendChild(A),o.appendChild(s),i.appendChild(o),A.value&&(l.src=(0,y.valueParser)(A.value)),e.showPreview===!0&&l.src&&(i.appendChild(l),c=!0),i.setPreview=function(t){e.showPreview===!0&&(l.src=(0,y.valueParser)(t),c===!1&&(i.appendChild(l),c=!0))},"function"==typeof r&&r(e,i,A),i},I=t.file=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name),o=(0,w.div)(["fred--input-group","fred--browse"]),A=(0,w.input)(t),s=(0,w.a)("","fred.fe.browse","","fred--browse-small"),l={};e.mediaSource&&""!==e.mediaSource&&(l.mediaSource=e.mediaSource),A.addEventListener("keyup",function(t){"function"==typeof n&&n(e.name,A.value,A,e)});var c=function(t){t.preventDefault();var r=new B.default(function(t,r){var i=t.url;0===i.indexOf(a.default.config.themeDir)&&(i=i.replace(a.default.config.themeDir,"{{theme_dir}}")),"function"==typeof n&&n(e.name,i,A,e),A.value=i},"fred.fe.browse_files",l);r.render()};return s.addEventListener("click",c),o.appendChild(A),o.appendChild(s),i.appendChild(o),"function"==typeof r&&r(e,i,A),i},L=t.folder=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.label)(e.label||e.name),o=(0,w.div)(["fred--input-group","fred--browse"]),A=(0,w.input)(t),s=(0,w.a)("","fred.fe.browse","","fred--browse-small"),l={type:"folder",showOnlyFolders:e.showOnlyFolders||!1};e.mediaSource&&""!==e.mediaSource&&(l.mediaSource=e.mediaSource),A.addEventListener("keyup",function(t){"function"==typeof n&&n(e.name,A.value,A,e)});var c=function(t){t.preventDefault();var r=new B.default(function(t,r){var i=t.url;0===i.indexOf(a.default.config.themeDir)&&(i=i.replace(a.default.config.themeDir,"{{theme_dir}}")),"function"==typeof n&&n(e.name,i,A,e),A.value=i},"fred.fe.browse_folders",l);r.render()};return s.addEventListener("click",c),o.appendChild(A),o.appendChild(s),i.appendChild(o),"function"==typeof r&&r(e,i,A),i},D=t.choices=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2],r=arguments[3],i=(0,w.div)(),o=(0,w.label)(e.label||e.name),A=(0,w.select)(),a=null;i.appendChild(o),i.appendChild(A);var s=e.choices||{};s.searchResultLimit=0;var l=new f.default(A,s);return(0,y.fixChoices)(l),i.choices=l,"function"==typeof n&&l.passedElement.addEventListener("choice",function(t){null!==a&&(a.remove(),a=null),n(e.name,t.detail.choice,A,e,l)}),i.onError=function(e){null===a?(a=(0,w.div)("error",e),o.appendChild(a)):a.innerHTML=e},"function"==typeof r&&r(e,o,A,l,t),i},M=t.tagger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];arguments[3];e.limit=e.limit||0;var r=(0,w.div)();return(0,Q.getGroups)(e.group,e.autoTag).then(function(i){var o=t.split(",").filter(function(e){return e}),A=new E.default({id:e.group,name:e.label||e.name,tag_limit:e.limit||0,field_type:"tagger-field-tags",hide_input:e.hideInput||!1,show_autotag:e.autoTag||!1,allow_new:!1,as_radio:!1,tags:i},o,function(t){n(e.name,t.join(","),a,e,A)}),a=A.render();r.replaceWith(a)}).catch(function(e){l.default.emit("fred-loading",e.message)}),r};t.default={text:U,select:F,toggle:_,area:H,dateTime:x,colorSwatch:T,colorPicker:S,slider:N,page:k,image:O,file:I,folder:L,choices:D,tagger:M}},function(e,t,n){/* flatpickr v4.6.1, @license MIT */
!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t,n){void 0===n&&(n=!1);var r;return function(){var i=this,o=arguments;null!==r&&clearTimeout(r),r=window.setTimeout(function(){r=null,n||e.apply(i,o)},t),n&&!r&&e.apply(i,o)}}function t(e,t,n){return n===!0?e.classList.add(t):void e.classList.remove(t)}function n(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function i(e,t){return t(e)?e:e.parentNode?i(e.parentNode,t):void 0}function o(e,t){var r=n("div","numInputWrapper"),i=n("input","numInput "+e),o=n("span","arrowUp"),A=n("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==t)for(var a in t)i.setAttribute(a,t[a]);return r.appendChild(i),r.appendChild(o),r.appendChild(A),r}function A(e){if("function"==typeof e.composedPath){var t=e.composedPath();return t[0]}return e.target}function a(e,t,n){return void 0===n&&(n=!0),n!==!1?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}function s(s,l){function m(){je.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=je.currentMonth),void 0===t&&(t=je.currentYear),1===e&&(t%4===0&&t%100!==0||t%400===0)?29:je.l10n.daysInMonth[e]}}}function B(){je.element=je.input=s,je.isOpen=!1,ye(),be(),Se(),Te(),m(),je.isMobile||j(),K(),(je.selectedDates.length||je.config.noCalendar)&&(je.config.enableTime&&N(je.config.noCalendar?je.latestSelectedDateObj||je.config.minDate:void 0),Re(!1)),_(),je.showTimeInput=je.selectedDates.length>0||je.config.noCalendar;var e=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!je.isMobile&&e&&Ee(),Oe("onReady")}function y(e){return e.bind(je)}function _(){var e=je.config;e.weekNumbers===!1&&1===e.showMonths||e.noCalendar!==!0&&window.requestAnimationFrame(function(){if(void 0!==je.calendarContainer&&(je.calendarContainer.style.visibility="hidden",je.calendarContainer.style.display="block"),void 0!==je.daysContainer){var t=(je.days.offsetWidth+1)*e.showMonths;je.daysContainer.style.width=t+"px",je.calendarContainer.style.width=t+(void 0!==je.weekWrapper?je.weekWrapper.offsetWidth:0)+"px",je.calendarContainer.style.removeProperty("visibility"),je.calendarContainer.style.removeProperty("display")}})}function H(e){0===je.selectedDates.length&&ve(),void 0!==e&&"blur"!==e.type&&ze(e);var t=je._input.value;S(),Re(),je._input.value!==t&&je._debouncedChange()}function x(e,t){return e%12+12*h(t===je.l10n.amPM[1])}function T(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}function S(){if(void 0!==je.hourElement&&void 0!==je.minuteElement){var e=(parseInt(je.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(je.minuteElement.value,10)||0)%60,n=void 0!==je.secondElement?(parseInt(je.secondElement.value,10)||0)%60:0;void 0!==je.amPM&&(e=x(e,je.amPM.textContent));var r=void 0!==je.config.minTime||je.config.minDate&&je.minDateHasTime&&je.latestSelectedDateObj&&0===a(je.latestSelectedDateObj,je.config.minDate,!0),i=void 0!==je.config.maxTime||je.config.maxDate&&je.maxDateHasTime&&je.latestSelectedDateObj&&0===a(je.latestSelectedDateObj,je.config.maxDate,!0);if(i){var o=void 0!==je.config.maxTime?je.config.maxTime:je.config.maxDate;e=Math.min(e,o.getHours()),e===o.getHours()&&(t=Math.min(t,o.getMinutes())),t===o.getMinutes()&&(n=Math.min(n,o.getSeconds()))}if(r){var A=void 0!==je.config.minTime?je.config.minTime:je.config.minDate;e=Math.max(e,A.getHours()),e===A.getHours()&&(t=Math.max(t,A.getMinutes())),t===A.getMinutes()&&(n=Math.max(n,A.getSeconds()))}O(e,t,n)}}function N(e){var t=e||je.latestSelectedDateObj;t&&O(t.getHours(),t.getMinutes(),t.getSeconds())}function k(){var e=je.config.defaultHour,t=je.config.defaultMinute,n=je.config.defaultSeconds;if(void 0!==je.config.minDate){var r=je.config.minDate.getHours(),i=je.config.minDate.getMinutes();e=Math.max(e,r),e===r&&(t=Math.max(i,t)),e===r&&t===i&&(n=je.config.minDate.getSeconds())}if(void 0!==je.config.maxDate){var o=je.config.maxDate.getHours(),A=je.config.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(A,t)),e===o&&t===A&&(n=je.config.maxDate.getSeconds())}O(e,t,n)}function O(e,t,n){void 0!==je.latestSelectedDateObj&&je.latestSelectedDateObj.setHours(e%24,t,n||0,0),je.hourElement&&je.minuteElement&&!je.isMobile&&(je.hourElement.value=p(je.config.time_24hr?e:(12+e)%12+12*h(e%12===0)),je.minuteElement.value=p(t),void 0!==je.amPM&&(je.amPM.textContent=je.l10n.amPM[h(e>=12)]),void 0!==je.secondElement&&(je.secondElement.value=p(n)))}function I(e){var t=parseInt(e.target.value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&de(t)}function L(e,t,n,r){return t instanceof Array?t.forEach(function(t){return L(e,t,n,r)}):e instanceof Array?e.forEach(function(e){return L(e,t,n,r)}):(e.addEventListener(t,n,r),void je._handlers.push({element:e,event:t,handler:n,options:r}))}function D(e){return function(t){1===t.which&&e(t)}}function M(){Oe("onChange")}function K(){if(je.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(je.element.querySelectorAll("[data-"+e+"]"),function(t){return L(t,"click",je[e])})}),je.isMobile)return void Ne();var t=e(me,50);if(je._debouncedChange=e(M,U),je.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&L(je.daysContainer,"mouseover",function(e){"range"===je.config.mode&&ge(e.target)}),L(window.document.body,"keydown",he),je.config.inline||je.config.static||L(window,"resize",t),void 0!==window.ontouchstart?L(window.document,"touchstart",ue):L(window.document,"mousedown",D(ue)),L(window.document,"focus",ue,{capture:!0}),je.config.clickOpens===!0&&(L(je._input,"focus",je.open),L(je._input,"mousedown",D(je.open))),void 0!==je.daysContainer&&(L(je.monthNav,"mousedown",D(Pe)),L(je.monthNav,["keyup","increment"],I),L(je.daysContainer,"mousedown",D(Ue))),void 0!==je.timeContainer&&void 0!==je.minuteElement&&void 0!==je.hourElement){var n=function(e){return e.target.select()};L(je.timeContainer,["increment"],H),L(je.timeContainer,"blur",H,{capture:!0}),L(je.timeContainer,"mousedown",D(P)),L([je.hourElement,je.minuteElement],["focus","click"],n),void 0!==je.secondElement&&L(je.secondElement,"focus",function(){return je.secondElement&&je.secondElement.select()}),void 0!==je.amPM&&L(je.amPM,"mousedown",D(function(e){H(e),M()}))}}function R(e,t){var n=void 0!==e?je.parseDate(e):je.latestSelectedDateObj||(je.config.minDate&&je.config.minDate>je.now?je.config.minDate:je.config.maxDate&&je.config.maxDate<je.now?je.config.maxDate:je.now),r=je.currentYear,i=je.currentMonth;try{void 0!==n&&(je.currentYear=n.getFullYear(),je.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,je.config.errorHandler(e)}t&&je.currentYear!==r&&(Oe("onYearChange"),Z()),!t||je.currentYear===r&&je.currentMonth===i||Oe("onMonthChange"),je.redraw()}function P(e){~e.target.className.indexOf("arrow")&&z(e,e.target.classList.contains("arrowUp")?1:-1)}function z(e,t,n){var r=e&&e.target,i=n||r&&r.parentNode&&r.parentNode.firstChild,o=Ie("increment");o.delta=t,i&&i.dispatchEvent(o)}function j(){var e=window.document.createDocumentFragment();if(je.calendarContainer=n("div","flatpickr-calendar"),je.calendarContainer.tabIndex=-1,!je.config.noCalendar){if(e.appendChild(te()),je.innerContainer=n("div","flatpickr-innerContainer"),je.config.weekNumbers){var r=oe(),i=r.weekWrapper,o=r.weekNumbers;je.innerContainer.appendChild(i),je.weekNumbers=o,je.weekWrapper=i}je.rContainer=n("div","flatpickr-rContainer"),je.rContainer.appendChild(re()),je.daysContainer||(je.daysContainer=n("div","flatpickr-days"),je.daysContainer.tabIndex=-1),q(),je.rContainer.appendChild(je.daysContainer),je.innerContainer.appendChild(je.rContainer),e.appendChild(je.innerContainer)}je.config.enableTime&&e.appendChild(ne()),t(je.calendarContainer,"rangeMode","range"===je.config.mode),t(je.calendarContainer,"animate",je.config.animate===!0),t(je.calendarContainer,"multiMonth",je.config.showMonths>1),je.calendarContainer.appendChild(e);var A=void 0!==je.config.appendTo&&void 0!==je.config.appendTo.nodeType;if((je.config.inline||je.config.static)&&(je.calendarContainer.classList.add(je.config.inline?"inline":"static"),je.config.inline&&(!A&&je.element.parentNode?je.element.parentNode.insertBefore(je.calendarContainer,je._input.nextSibling):void 0!==je.config.appendTo&&je.config.appendTo.appendChild(je.calendarContainer)),je.config.static)){var a=n("div","flatpickr-wrapper");je.element.parentNode&&je.element.parentNode.insertBefore(a,je.element),a.appendChild(je.element),je.altInput&&a.appendChild(je.altInput),a.appendChild(je.calendarContainer)}je.config.static||je.config.inline||(void 0!==je.config.appendTo?je.config.appendTo:window.document.body).appendChild(je.calendarContainer)}function V(e,r,i,o){var A=fe(r,!0),s=n("span","flatpickr-day "+e,r.getDate().toString());return s.dateObj=r,s.$i=o,s.setAttribute("aria-label",je.formatDate(r,je.config.ariaDateFormat)),e.indexOf("hidden")===-1&&0===a(r,je.now)&&(je.todayDateElem=s,s.classList.add("today"),s.setAttribute("aria-current","date")),A?(s.tabIndex=-1,Le(r)&&(s.classList.add("selected"),je.selectedDateElem=s,"range"===je.config.mode&&(t(s,"startRange",je.selectedDates[0]&&0===a(r,je.selectedDates[0],!0)),t(s,"endRange",je.selectedDates[1]&&0===a(r,je.selectedDates[1],!0)),"nextMonthDay"===e&&s.classList.add("inRange")))):s.classList.add("flatpickr-disabled"),"range"===je.config.mode&&De(r)&&!Le(r)&&s.classList.add("inRange"),je.weekNumbers&&1===je.config.showMonths&&"prevMonthDay"!==e&&i%7===1&&je.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+je.config.getWeek(r)+"</span>"),Oe("onDayCreate",s),s}function G(e){e.focus(),"range"===je.config.mode&&ge(e)}function X(e){for(var t=e>0?0:je.config.showMonths-1,n=e>0?je.config.showMonths:-1,r=t;r!=n;r+=e)for(var i=je.daysContainer.children[r],o=e>0?0:i.children.length-1,A=e>0?i.children.length:-1,a=o;a!=A;a+=e){var s=i.children[a];if(s.className.indexOf("hidden")===-1&&fe(s.dateObj))return s}}function J(e,t){for(var n=e.className.indexOf("Month")===-1?e.dateObj.getMonth():je.currentMonth,r=t>0?je.config.showMonths:-1,i=t>0?1:-1,o=n-je.currentMonth;o!=r;o+=i)for(var A=je.daysContainer.children[o],a=n-je.currentMonth===o?e.$i+t:t<0?A.children.length-1:0,s=A.children.length,l=a;l>=0&&l<s&&l!=(t>0?s:-1);l+=i){var c=A.children[l];if(c.className.indexOf("hidden")===-1&&fe(c.dateObj)&&Math.abs(e.$i-l)>=Math.abs(t))return G(c)}je.changeMonth(i),W(X(i),0)}function W(e,t){var n=pe(document.activeElement||document.body),r=void 0!==e?e:n?document.activeElement:void 0!==je.selectedDateElem&&pe(je.selectedDateElem)?je.selectedDateElem:void 0!==je.todayDateElem&&pe(je.todayDateElem)?je.todayDateElem:X(t>0?1:-1);return void 0===r?je._input.focus():n?void J(r,t):G(r)}function Y(e,t){for(var r=(new Date(e,t,1).getDay()-je.l10n.firstDayOfWeek+7)%7,i=je.utils.getDaysInMonth((t-1+12)%12),o=je.utils.getDaysInMonth(t),A=window.document.createDocumentFragment(),a=je.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",l=a?"nextMonthDay hidden":"nextMonthDay",c=i+1-r,u=0;c<=i;c++,u++)A.appendChild(V(s,new Date(e,t-1,c),c,u));for(c=1;c<=o;c++,u++)A.appendChild(V("",new Date(e,t,c),c,u));for(var d=o+1;d<=42-r&&(1===je.config.showMonths||u%7!==0);d++,u++)A.appendChild(V(l,new Date(e,t+1,d%o),d,u));var f=n("div","dayContainer");return f.appendChild(A),f}function q(){if(void 0!==je.daysContainer){r(je.daysContainer),je.weekNumbers&&r(je.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<je.config.showMonths;t++){var n=new Date(je.currentYear,je.currentMonth,1);n.setMonth(je.currentMonth+t),e.appendChild(Y(n.getFullYear(),n.getMonth()))}je.daysContainer.appendChild(e),je.days=je.daysContainer.firstChild,"range"===je.config.mode&&1===je.selectedDates.length&&ge()}}function Z(){if(!(je.config.showMonths>1)){var e=function(e){return!(void 0!==je.config.minDate&&je.currentYear===je.config.minDate.getFullYear()&&e<je.config.minDate.getMonth())&&!(void 0!==je.config.maxDate&&je.currentYear===je.config.maxDate.getFullYear()&&e>je.config.maxDate.getMonth())};je.monthsDropdownContainer.tabIndex=-1,je.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var r=n("option","flatpickr-monthDropdown-month");r.value=new Date(je.currentYear,t).getMonth().toString(),r.textContent=v(t,!1,je.l10n),r.tabIndex=-1,je.currentMonth===t&&(r.selected=!0),je.monthsDropdownContainer.appendChild(r)}}}function $(){var e,t=n("div","flatpickr-month"),r=window.document.createDocumentFragment();je.config.showMonths>1?e=n("span","cur-month"):(je.monthsDropdownContainer=n("select","flatpickr-monthDropdown-months"),L(je.monthsDropdownContainer,"change",function(e){var t=e.target,n=parseInt(t.value,10);je.changeMonth(n-je.currentMonth),Oe("onMonthChange")}),Z(),e=je.monthsDropdownContainer);var i=o("cur-year",{tabindex:"-1"}),A=i.getElementsByTagName("input")[0];A.setAttribute("aria-label",je.l10n.yearAriaLabel),je.config.minDate&&A.setAttribute("min",je.config.minDate.getFullYear().toString()),je.config.maxDate&&(A.setAttribute("max",je.config.maxDate.getFullYear().toString()),A.disabled=!!je.config.minDate&&je.config.minDate.getFullYear()===je.config.maxDate.getFullYear());var a=n("div","flatpickr-current-month");return a.appendChild(e),a.appendChild(i),r.appendChild(a),t.appendChild(r),{container:t,yearElement:A,monthElement:e}}function ee(){r(je.monthNav),je.monthNav.appendChild(je.prevMonthNav),je.config.showMonths&&(je.yearElements=[],je.monthElements=[]);for(var e=je.config.showMonths;e--;){var t=$();je.yearElements.push(t.yearElement),je.monthElements.push(t.monthElement),je.monthNav.appendChild(t.container)}je.monthNav.appendChild(je.nextMonthNav)}function te(){return je.monthNav=n("div","flatpickr-months"),je.yearElements=[],je.monthElements=[],je.prevMonthNav=n("span","flatpickr-prev-month"),je.prevMonthNav.innerHTML=je.config.prevArrow,je.nextMonthNav=n("span","flatpickr-next-month"),je.nextMonthNav.innerHTML=je.config.nextArrow,ee(),Object.defineProperty(je,"_hidePrevMonthArrow",{get:function(){return je.__hidePrevMonthArrow},set:function(e){je.__hidePrevMonthArrow!==e&&(t(je.prevMonthNav,"flatpickr-disabled",e),je.__hidePrevMonthArrow=e)}}),Object.defineProperty(je,"_hideNextMonthArrow",{get:function(){return je.__hideNextMonthArrow},set:function(e){je.__hideNextMonthArrow!==e&&(t(je.nextMonthNav,"flatpickr-disabled",e),je.__hideNextMonthArrow=e)}}),je.currentYearElement=je.yearElements[0],Me(),je.monthNav}function ne(){je.calendarContainer.classList.add("hasTime"),je.config.noCalendar&&je.calendarContainer.classList.add("noCalendar"),je.timeContainer=n("div","flatpickr-time"),je.timeContainer.tabIndex=-1;var e=n("span","flatpickr-time-separator",":"),t=o("flatpickr-hour");je.hourElement=t.getElementsByTagName("input")[0];var r=o("flatpickr-minute");if(je.minuteElement=r.getElementsByTagName("input")[0],je.hourElement.tabIndex=je.minuteElement.tabIndex=-1,je.hourElement.value=p(je.latestSelectedDateObj?je.latestSelectedDateObj.getHours():je.config.time_24hr?je.config.defaultHour:T(je.config.defaultHour)),je.minuteElement.value=p(je.latestSelectedDateObj?je.latestSelectedDateObj.getMinutes():je.config.defaultMinute),je.hourElement.setAttribute("step",je.config.hourIncrement.toString()),je.minuteElement.setAttribute("step",je.config.minuteIncrement.toString()),je.hourElement.setAttribute("min",je.config.time_24hr?"0":"1"),je.hourElement.setAttribute("max",je.config.time_24hr?"23":"12"),je.minuteElement.setAttribute("min","0"),je.minuteElement.setAttribute("max","59"),je.timeContainer.appendChild(t),je.timeContainer.appendChild(e),je.timeContainer.appendChild(r),je.config.time_24hr&&je.timeContainer.classList.add("time24hr"),je.config.enableSeconds){je.timeContainer.classList.add("hasSeconds");var i=o("flatpickr-second");je.secondElement=i.getElementsByTagName("input")[0],je.secondElement.value=p(je.latestSelectedDateObj?je.latestSelectedDateObj.getSeconds():je.config.defaultSeconds),je.secondElement.setAttribute("step",je.minuteElement.getAttribute("step")),je.secondElement.setAttribute("min","0"),je.secondElement.setAttribute("max","59"),je.timeContainer.appendChild(n("span","flatpickr-time-separator",":")),je.timeContainer.appendChild(i)}return je.config.time_24hr||(je.amPM=n("span","flatpickr-am-pm",je.l10n.amPM[h((je.latestSelectedDateObj?je.hourElement.value:je.config.defaultHour)>11)]),je.amPM.title=je.l10n.toggleTitle,je.amPM.tabIndex=-1,je.timeContainer.appendChild(je.amPM)),je.timeContainer}function re(){je.weekdayContainer?r(je.weekdayContainer):je.weekdayContainer=n("div","flatpickr-weekdays");for(var e=je.config.showMonths;e--;){var t=n("div","flatpickr-weekdaycontainer");je.weekdayContainer.appendChild(t)}return ie(),je.weekdayContainer}function ie(){var e=je.l10n.firstDayOfWeek,t=je.l10n.weekdays.shorthand.slice();e>0&&e<t.length&&(t=t.splice(e,t.length).concat(t.splice(0,e)));for(var n=je.config.showMonths;n--;)je.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}function oe(){je.calendarContainer.classList.add("hasWeeks");var e=n("div","flatpickr-weekwrapper");e.appendChild(n("span","flatpickr-weekday",je.l10n.weekAbbreviation));var t=n("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}function Ae(e,t){void 0===t&&(t=!0);var n=t?e:e-je.currentMonth;n<0&&je._hidePrevMonthArrow===!0||n>0&&je._hideNextMonthArrow===!0||(je.currentMonth+=n,(je.currentMonth<0||je.currentMonth>11)&&(je.currentYear+=je.currentMonth>11?1:-1,je.currentMonth=(je.currentMonth+12)%12,Oe("onYearChange"),Z()),q(),Oe("onMonthChange"),Me())}function ae(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),je.input.value="",void 0!==je.altInput&&(je.altInput.value=""),void 0!==je.mobileInput&&(je.mobileInput.value=""),je.selectedDates=[],je.latestSelectedDateObj=void 0,t===!0&&(je.currentYear=je._initialDate.getFullYear(),je.currentMonth=je._initialDate.getMonth()),je.showTimeInput=!1,je.config.enableTime===!0&&k(),je.redraw(),e&&Oe("onChange")}function se(){je.isOpen=!1,je.isMobile||(void 0!==je.calendarContainer&&je.calendarContainer.classList.remove("open"),void 0!==je._input&&je._input.classList.remove("active")),Oe("onClose")}function le(){void 0!==je.config&&Oe("onDestroy");for(var e=je._handlers.length;e--;){var t=je._handlers[e];t.element.removeEventListener(t.event,t.handler,t.options)}if(je._handlers=[],je.mobileInput)je.mobileInput.parentNode&&je.mobileInput.parentNode.removeChild(je.mobileInput),je.mobileInput=void 0;else if(je.calendarContainer&&je.calendarContainer.parentNode)if(je.config.static&&je.calendarContainer.parentNode){var n=je.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else je.calendarContainer.parentNode.removeChild(je.calendarContainer);je.altInput&&(je.input.type="text",je.altInput.parentNode&&je.altInput.parentNode.removeChild(je.altInput),delete je.altInput),je.input&&(je.input.type=je.input._type,je.input.classList.remove("flatpickr-input"),je.input.removeAttribute("readonly"),je.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete je[e]}catch(e){}})}function ce(e){return!(!je.config.appendTo||!je.config.appendTo.contains(e))||je.calendarContainer.contains(e)}function ue(e){if(je.isOpen&&!je.config.inline){var t=A(e),n=ce(t),r=t===je.input||t===je.altInput||je.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(je.input)||~e.path.indexOf(je.altInput)),i="blur"===e.type?r&&e.relatedTarget&&!ce(e.relatedTarget):!r&&!n&&!ce(e.relatedTarget),o=!je.config.ignoredFocusElements.some(function(e){return e.contains(t)});i&&o&&(je.close(),"range"===je.config.mode&&1===je.selectedDates.length&&(je.clear(!1),je.redraw()))}}function de(e){if(!(!e||je.config.minDate&&e<je.config.minDate.getFullYear()||je.config.maxDate&&e>je.config.maxDate.getFullYear())){var t=e,n=je.currentYear!==t;je.currentYear=t||je.currentYear,je.config.maxDate&&je.currentYear===je.config.maxDate.getFullYear()?je.currentMonth=Math.min(je.config.maxDate.getMonth(),je.currentMonth):je.config.minDate&&je.currentYear===je.config.minDate.getFullYear()&&(je.currentMonth=Math.max(je.config.minDate.getMonth(),je.currentMonth)),n&&(je.redraw(),Oe("onYearChange"),Z())}}function fe(e,t){void 0===t&&(t=!0);var n=je.parseDate(e,void 0,t);if(je.config.minDate&&n&&a(n,je.config.minDate,void 0!==t?t:!je.minDateHasTime)<0||je.config.maxDate&&n&&a(n,je.config.maxDate,void 0!==t?t:!je.maxDateHasTime)>0)return!1;if(0===je.config.enable.length&&0===je.config.disable.length)return!0;if(void 0===n)return!1;for(var r=je.config.enable.length>0,i=r?je.config.enable:je.config.disable,o=0,A=void 0;o<i.length;o++){if(A=i[o],"function"==typeof A&&A(n))return r;if(A instanceof Date&&void 0!==n&&A.getTime()===n.getTime())return r;if("string"==typeof A&&void 0!==n){var s=je.parseDate(A,void 0,!0);return s&&s.getTime()===n.getTime()?r:!r}if("object"==typeof A&&void 0!==n&&A.from&&A.to&&n.getTime()>=A.from.getTime()&&n.getTime()<=A.to.getTime())return r}return!r}function pe(e){return void 0!==je.daysContainer&&(e.className.indexOf("hidden")===-1&&je.daysContainer.contains(e))}function he(e){var t=e.target===je._input,n=je.config.allowInput,r=je.isOpen&&(!n||!t),i=je.config.inline&&t&&!n;if(13===e.keyCode&&t){if(n)return je.setDate(je._input.value,!0,e.target===je.altInput?je.config.altFormat:je.config.dateFormat),e.target.blur();je.open()}else if(ce(e.target)||r||i){var o=!!je.timeContainer&&je.timeContainer.contains(e.target);switch(e.keyCode){case 13:o?(e.preventDefault(),H(),Qe()):Ue(e);break;case 27:e.preventDefault(),Qe();break;case 8:case 46:t&&!je.config.allowInput&&(e.preventDefault(),je.clear());break;case 37:case 39:if(o||t)je.hourElement&&je.hourElement.focus();else if(e.preventDefault(),void 0!==je.daysContainer&&(n===!1||document.activeElement&&pe(document.activeElement))){var A=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),Ae(A),W(X(1),0)):W(void 0,A)}break;case 38:case 40:e.preventDefault();var a=40===e.keyCode?1:-1;je.daysContainer&&void 0!==e.target.$i||e.target===je.input?e.ctrlKey?(e.stopPropagation(),de(je.currentYear-a),W(X(1),0)):o||W(void 0,7*a):e.target===je.currentYearElement?de(je.currentYear-a):je.config.enableTime&&(!o&&je.hourElement&&je.hourElement.focus(),H(e),je._debouncedChange());break;case 9:if(o){var s=[je.hourElement,je.minuteElement,je.secondElement,je.amPM].concat(je.pluginElements).filter(function(e){return e}),l=s.indexOf(e.target);if(l!==-1){var c=s[l+(e.shiftKey?-1:1)];e.preventDefault(),(c||je._input).focus()}}else!je.config.noCalendar&&je.daysContainer&&je.daysContainer.contains(e.target)&&e.shiftKey&&(e.preventDefault(),je._input.focus())}}if(void 0!==je.amPM&&e.target===je.amPM)switch(e.key){case je.l10n.amPM[0].charAt(0):case je.l10n.amPM[0].charAt(0).toLowerCase():je.amPM.textContent=je.l10n.amPM[0],S(),Re();break;case je.l10n.amPM[1].charAt(0):case je.l10n.amPM[1].charAt(0).toLowerCase():je.amPM.textContent=je.l10n.amPM[1],S(),Re()}(t||ce(e.target))&&Oe("onKeyDown",e)}function ge(e){if(1===je.selectedDates.length&&(!e||e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled"))){for(var t=e?e.dateObj.getTime():je.days.firstElementChild.dateObj.getTime(),n=je.parseDate(je.selectedDates[0],void 0,!0).getTime(),r=Math.min(t,je.selectedDates[0].getTime()),i=Math.max(t,je.selectedDates[0].getTime()),o=!1,A=0,a=0,s=r;s<i;s+=Q.DAY)fe(new Date(s),!0)||(o=o||s>r&&s<i,s<n&&(!A||s>A)?A=s:s>n&&(!a||s<a)&&(a=s));for(var l=0;l<je.config.showMonths;l++)for(var c=je.daysContainer.children[l],u=function(r,i){var s=c.children[r],l=s.dateObj,u=l.getTime(),d=A>0&&u<A||a>0&&u>a;return d?(s.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){s.classList.remove(e)}),"continue"):o&&!d?"continue":(["startRange","inRange","endRange","notAllowed"].forEach(function(e){s.classList.remove(e)}),void(void 0!==e&&(e.classList.add(t<=je.selectedDates[0].getTime()?"startRange":"endRange"),n<t&&u===n?s.classList.add("startRange"):n>t&&u===n&&s.classList.add("endRange"),u>=A&&(0===a||u<=a)&&C(u,n,t)&&s.classList.add("inRange"))))},d=0,f=c.children.length;d<f;d++)u(d,f)}}function me(){!je.isOpen||je.config.static||je.config.inline||Ee()}function ve(){je.setDate(void 0!==je.config.minDate?new Date(je.config.minDate.getTime()):new Date,!0),k(),Re()}function Be(e,t){if(void 0===t&&(t=je._positionElement),je.isMobile===!0)return e&&(e.preventDefault(),e.target&&e.target.blur()),void 0!==je.mobileInput&&(je.mobileInput.focus(),je.mobileInput.click()),void Oe("onOpen");if(!je._input.disabled&&!je.config.inline){var n=je.isOpen;je.isOpen=!0,n||(je.calendarContainer.classList.add("open"),je._input.classList.add("active"),Oe("onOpen"),Ee(t)),je.config.enableTime===!0&&je.config.noCalendar===!0&&(0===je.selectedDates.length&&ve(),je.config.allowInput!==!1||void 0!==e&&je.timeContainer.contains(e.relatedTarget)||setTimeout(function(){return je.hourElement.select()},50))}}function we(e){return function(t){var n=je.config["_"+e+"Date"]=je.parseDate(t,je.config.dateFormat),r=je.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(je["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),je.selectedDates&&(je.selectedDates=je.selectedDates.filter(function(e){return fe(e)}),je.selectedDates.length||"min"!==e||N(n),Re()),je.daysContainer&&(Ce(),void 0!==n?je.currentYearElement[e]=n.getFullYear().toString():je.currentYearElement.removeAttribute(e),je.currentYearElement.disabled=!!r&&void 0!==n&&r.getFullYear()===n.getFullYear())}}function ye(){var e=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],t=c({},l,JSON.parse(JSON.stringify(s.dataset||{}))),n={};je.config.parseDate=t.parseDate,je.config.formatDate=t.formatDate,Object.defineProperty(je.config,"enable",{get:function(){return je.config._enable},set:function(e){je.config._enable=xe(e)}}),Object.defineProperty(je.config,"disable",{get:function(){return je.config._disable},set:function(e){je.config._disable=xe(e)}});var r="time"===t.mode;if(!t.dateFormat&&(t.enableTime||r)){var i=F.defaultConfig.dateFormat||d.dateFormat;n.dateFormat=t.noCalendar||r?"H:i"+(t.enableSeconds?":S":""):i+" H:i"+(t.enableSeconds?":S":"")}if(t.altInput&&(t.enableTime||r)&&!t.altFormat){var o=F.defaultConfig.altFormat||d.altFormat;n.altFormat=t.noCalendar||r?"h:i"+(t.enableSeconds?":S K":" K"):o+(" h:i"+(t.enableSeconds?":S":"")+" K")}t.altInputClass||(je.config.altInputClass=je.input.className+" "+je.config.altInputClass),Object.defineProperty(je.config,"minDate",{get:function(){return je.config._minDate},set:we("min")}),Object.defineProperty(je.config,"maxDate",{get:function(){return je.config._maxDate},set:we("max")});var A=function(e){return function(t){je.config["min"===e?"_minTime":"_maxTime"]=je.parseDate(t,"H:i")}};Object.defineProperty(je.config,"minTime",{get:function(){return je.config._minTime},set:A("min")}),Object.defineProperty(je.config,"maxTime",{get:function(){return je.config._maxTime},set:A("max")}),"time"===t.mode&&(je.config.noCalendar=!0,je.config.enableTime=!0),Object.assign(je.config,n,t);for(var a=0;a<e.length;a++)je.config[e[a]]=je.config[e[a]]===!0||"true"===je.config[e[a]];u.filter(function(e){return void 0!==je.config[e]}).forEach(function(e){je.config[e]=g(je.config[e]||[]).map(y)}),je.isMobile=!je.config.disableMobile&&!je.config.inline&&"single"===je.config.mode&&!je.config.disable.length&&!je.config.enable.length&&!je.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var a=0;a<je.config.plugins.length;a++){var f=je.config.plugins[a](je)||{};for(var p in f)u.indexOf(p)>-1?je.config[p]=g(f[p]).map(y).concat(je.config[p]):"undefined"==typeof t[p]&&(je.config[p]=f[p])}Oe("onParseConfig")}function be(){"object"!=typeof je.config.locale&&"undefined"==typeof F.l10ns[je.config.locale]&&je.config.errorHandler(new Error("flatpickr: invalid locale "+je.config.locale)),je.l10n=c({},F.l10ns.default,"object"==typeof je.config.locale?je.config.locale:"default"!==je.config.locale?F.l10ns[je.config.locale]:void 0),w.K="("+je.l10n.amPM[0]+"|"+je.l10n.amPM[1]+"|"+je.l10n.amPM[0].toLowerCase()+"|"+je.l10n.amPM[1].toLowerCase()+")";var e=c({},l,JSON.parse(JSON.stringify(s.dataset||{})));void 0===e.time_24hr&&void 0===F.defaultConfig.time_24hr&&(je.config.time_24hr=je.l10n.time_24hr),je.formatDate=b(je),je.parseDate=E({config:je.config,l10n:je.l10n})}function Ee(e){if(void 0!==je.calendarContainer){Oe("onPreCalendarPosition");var n=e||je._positionElement,r=Array.prototype.reduce.call(je.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),i=je.calendarContainer.offsetWidth,o=je.config.position.split(" "),A=o[0],a=o.length>1?o[1]:null,s=n.getBoundingClientRect(),l=window.innerHeight-s.bottom,c="above"===A||"below"!==A&&l<r&&s.top>r,u=window.pageYOffset+s.top+(c?-r-2:n.offsetHeight+2);if(t(je.calendarContainer,"arrowTop",!c),t(je.calendarContainer,"arrowBottom",c),!je.config.inline){var d=window.pageXOffset+s.left-(null!=a&&"center"===a?(i-s.width)/2:0),f=window.document.body.offsetWidth-s.right,p=d+i>window.document.body.offsetWidth,h=f+i>window.document.body.offsetWidth;if(t(je.calendarContainer,"rightMost",p),!je.config.static)if(je.calendarContainer.style.top=u+"px",p)if(h){var g=document.styleSheets[0];if(void 0===g)return;var m=window.document.body.offsetWidth,v=Math.max(0,m/2-i/2),B=".flatpickr-calendar.centerMost:before",w=".flatpickr-calendar.centerMost:after",y=g.cssRules.length,b="{left:"+s.left+"px;right:auto;}";t(je.calendarContainer,"rightMost",!1),t(je.calendarContainer,"centerMost",!0),g.insertRule(B+","+w+b,y),je.calendarContainer.style.left=v+"px",je.calendarContainer.style.right="auto"}else je.calendarContainer.style.left="auto",je.calendarContainer.style.right=f+"px";else je.calendarContainer.style.left=d+"px",je.calendarContainer.style.right="auto"}}}function Ce(){je.config.noCalendar||je.isMobile||(Me(),q())}function Qe(){je._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||void 0!==navigator.msMaxTouchPoints?setTimeout(je.close,0):je.close()}function Ue(e){e.preventDefault(),e.stopPropagation();var t=function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")},n=i(e.target,t);if(void 0!==n){var r=n,o=je.latestSelectedDateObj=new Date(r.dateObj.getTime()),A=(o.getMonth()<je.currentMonth||o.getMonth()>je.currentMonth+je.config.showMonths-1)&&"range"!==je.config.mode;if(je.selectedDateElem=r,"single"===je.config.mode)je.selectedDates=[o];else if("multiple"===je.config.mode){var s=Le(o);s?je.selectedDates.splice(parseInt(s),1):je.selectedDates.push(o)}else"range"===je.config.mode&&(2===je.selectedDates.length&&je.clear(!1,!1),je.latestSelectedDateObj=o,je.selectedDates.push(o),0!==a(o,je.selectedDates[0],!0)&&je.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(S(),A){var l=je.currentYear!==o.getFullYear();je.currentYear=o.getFullYear(),je.currentMonth=o.getMonth(),l&&(Oe("onYearChange"),
Z()),Oe("onMonthChange")}if(Me(),q(),Re(),je.config.enableTime&&setTimeout(function(){return je.showTimeInput=!0},50),A||"range"===je.config.mode||1!==je.config.showMonths?void 0!==je.selectedDateElem&&void 0===je.hourElement&&je.selectedDateElem&&je.selectedDateElem.focus():G(r),void 0!==je.hourElement&&void 0!==je.hourElement&&je.hourElement.focus(),je.config.closeOnSelect){var c="single"===je.config.mode&&!je.config.enableTime,u="range"===je.config.mode&&2===je.selectedDates.length&&!je.config.enableTime;(c||u)&&Qe()}M()}}function Fe(e,t){if(null!==e&&"object"==typeof e){Object.assign(je.config,e);for(var n in e)void 0!==Ve[n]&&Ve[n].forEach(function(e){return e()})}else je.config[e]=t,void 0!==Ve[e]?Ve[e].forEach(function(e){return e()}):u.indexOf(e)>-1&&(je.config[e]=g(t));je.redraw(),Re(!1)}function _e(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return je.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[je.parseDate(e,t)];else if("string"==typeof e)switch(je.config.mode){case"single":case"time":n=[je.parseDate(e,t)];break;case"multiple":n=e.split(je.config.conjunction).map(function(e){return je.parseDate(e,t)});break;case"range":n=e.split(je.l10n.rangeSeparator).map(function(e){return je.parseDate(e,t)})}else je.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));je.selectedDates=n.filter(function(e){return e instanceof Date&&fe(e,!1)}),"range"===je.config.mode&&je.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function He(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=je.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length?je.clear(t):(_e(e,n),je.showTimeInput=je.selectedDates.length>0,je.latestSelectedDateObj=je.selectedDates[je.selectedDates.length-1],je.redraw(),R(),N(),0===je.selectedDates.length&&je.clear(!1),Re(t),void(t&&Oe("onChange")))}function xe(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?je.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:je.parseDate(e.from,void 0),to:je.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function Te(){je.selectedDates=[],je.now=je.parseDate(je.config.now)||new Date;var e=je.config.defaultDate||("INPUT"!==je.input.nodeName&&"TEXTAREA"!==je.input.nodeName||!je.input.placeholder||je.input.value!==je.input.placeholder?je.input.value:null);e&&_e(e,je.config.dateFormat),je._initialDate=je.selectedDates.length>0?je.selectedDates[0]:je.config.minDate&&je.config.minDate.getTime()>je.now.getTime()?je.config.minDate:je.config.maxDate&&je.config.maxDate.getTime()<je.now.getTime()?je.config.maxDate:je.now,je.currentYear=je._initialDate.getFullYear(),je.currentMonth=je._initialDate.getMonth(),je.selectedDates.length>0&&(je.latestSelectedDateObj=je.selectedDates[0]),void 0!==je.config.minTime&&(je.config.minTime=je.parseDate(je.config.minTime,"H:i")),void 0!==je.config.maxTime&&(je.config.maxTime=je.parseDate(je.config.maxTime,"H:i")),je.minDateHasTime=!!je.config.minDate&&(je.config.minDate.getHours()>0||je.config.minDate.getMinutes()>0||je.config.minDate.getSeconds()>0),je.maxDateHasTime=!!je.config.maxDate&&(je.config.maxDate.getHours()>0||je.config.maxDate.getMinutes()>0||je.config.maxDate.getSeconds()>0),Object.defineProperty(je,"showTimeInput",{get:function(){return je._showTimeInput},set:function(e){je._showTimeInput=e,je.calendarContainer&&t(je.calendarContainer,"showTimeInput",e),je.isOpen&&Ee()}})}function Se(){return je.input=je.config.wrap?s.querySelector("[data-input]"):s,je.input?(je.input._type=je.input.type,je.input.type="text",je.input.classList.add("flatpickr-input"),je._input=je.input,je.config.altInput&&(je.altInput=n(je.input.nodeName,je.config.altInputClass),je._input=je.altInput,je.altInput.placeholder=je.input.placeholder,je.altInput.disabled=je.input.disabled,je.altInput.required=je.input.required,je.altInput.tabIndex=je.input.tabIndex,je.altInput.type="text",je.input.setAttribute("type","hidden"),!je.config.static&&je.input.parentNode&&je.input.parentNode.insertBefore(je.altInput,je.input.nextSibling)),je.config.allowInput||je._input.setAttribute("readonly","readonly"),void(je._positionElement=je.config.positionElement||je._input)):void je.config.errorHandler(new Error("Invalid input element specified"))}function Ne(){var e=je.config.enableTime?je.config.noCalendar?"time":"datetime-local":"date";je.mobileInput=n("input",je.input.className+" flatpickr-mobile"),je.mobileInput.step=je.input.getAttribute("step")||"any",je.mobileInput.tabIndex=1,je.mobileInput.type=e,je.mobileInput.disabled=je.input.disabled,je.mobileInput.required=je.input.required,je.mobileInput.placeholder=je.input.placeholder,je.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",je.selectedDates.length>0&&(je.mobileInput.defaultValue=je.mobileInput.value=je.formatDate(je.selectedDates[0],je.mobileFormatStr)),je.config.minDate&&(je.mobileInput.min=je.formatDate(je.config.minDate,"Y-m-d")),je.config.maxDate&&(je.mobileInput.max=je.formatDate(je.config.maxDate,"Y-m-d")),je.input.type="hidden",void 0!==je.altInput&&(je.altInput.type="hidden");try{je.input.parentNode&&je.input.parentNode.insertBefore(je.mobileInput,je.input.nextSibling)}catch(e){}L(je.mobileInput,"change",function(e){je.setDate(e.target.value,!1,je.mobileFormatStr),Oe("onChange"),Oe("onClose")})}function ke(e){return je.isOpen===!0?je.close():void je.open(e)}function Oe(e,t){if(void 0!==je.config){var n=je.config[e];if(void 0!==n&&n.length>0)for(var r=0;n[r]&&r<n.length;r++)n[r](je.selectedDates,je.input.value,je,t);"onChange"===e&&(je.input.dispatchEvent(Ie("change")),je.input.dispatchEvent(Ie("input")))}}function Ie(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function Le(e){for(var t=0;t<je.selectedDates.length;t++)if(0===a(je.selectedDates[t],e))return""+t;return!1}function De(e){return!("range"!==je.config.mode||je.selectedDates.length<2)&&(a(e,je.selectedDates[0])>=0&&a(e,je.selectedDates[1])<=0)}function Me(){je.config.noCalendar||je.isMobile||!je.monthNav||(je.yearElements.forEach(function(e,t){var n=new Date(je.currentYear,je.currentMonth,1);n.setMonth(je.currentMonth+t),je.config.showMonths>1?je.monthElements[t].textContent=v(n.getMonth(),je.config.shorthandCurrentMonth,je.l10n)+" ":je.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()}),je._hidePrevMonthArrow=void 0!==je.config.minDate&&(je.currentYear===je.config.minDate.getFullYear()?je.currentMonth<=je.config.minDate.getMonth():je.currentYear<je.config.minDate.getFullYear()),je._hideNextMonthArrow=void 0!==je.config.maxDate&&(je.currentYear===je.config.maxDate.getFullYear()?je.currentMonth+1>je.config.maxDate.getMonth():je.currentYear>je.config.maxDate.getFullYear()))}function Ke(e){return je.selectedDates.map(function(t){return je.formatDate(t,e)}).filter(function(e,t,n){return"range"!==je.config.mode||je.config.enableTime||n.indexOf(e)===t}).join("range"!==je.config.mode?je.config.conjunction:je.l10n.rangeSeparator)}function Re(e){void 0===e&&(e=!0),void 0!==je.mobileInput&&je.mobileFormatStr&&(je.mobileInput.value=void 0!==je.latestSelectedDateObj?je.formatDate(je.latestSelectedDateObj,je.mobileFormatStr):""),je.input.value=Ke(je.config.dateFormat),void 0!==je.altInput&&(je.altInput.value=Ke(je.config.altFormat)),e!==!1&&Oe("onValueUpdate")}function Pe(e){var t=je.prevMonthNav.contains(e.target),n=je.nextMonthNav.contains(e.target);t||n?Ae(t?-1:1):je.yearElements.indexOf(e.target)>=0?e.target.select():e.target.classList.contains("arrowUp")?je.changeYear(je.currentYear+1):e.target.classList.contains("arrowDown")&&je.changeYear(je.currentYear-1)}function ze(e){e.preventDefault();var t="keydown"===e.type,n=e.target;void 0!==je.amPM&&e.target===je.amPM&&(je.amPM.textContent=je.l10n.amPM[h(je.amPM.textContent===je.l10n.amPM[0])]);var r=parseFloat(n.getAttribute("min")),i=parseFloat(n.getAttribute("max")),o=parseFloat(n.getAttribute("step")),A=parseInt(n.value,10),a=e.delta||(t?38===e.which?1:-1:0),s=A+o*a;if("undefined"!=typeof n.value&&2===n.value.length){var l=n===je.hourElement,c=n===je.minuteElement;s<r?(s=i+s+h(!l)+(h(l)&&h(!je.amPM)),c&&z(void 0,-1,je.hourElement)):s>i&&(s=n===je.hourElement?s-i-h(!je.amPM):r,c&&z(void 0,1,je.hourElement)),je.amPM&&l&&(1===o?s+A===23:Math.abs(s-A)>o)&&(je.amPM.textContent=je.l10n.amPM[h(je.amPM.textContent===je.l10n.amPM[0])]),n.value=p(s)}}var je={config:c({},d,F.defaultConfig),l10n:f};je.parseDate=E({config:je.config,l10n:je.l10n}),je._handlers=[],je.pluginElements=[],je.loadedPlugins=[],je._bind=L,je._setHoursFromDate=N,je._positionCalendar=Ee,je.changeMonth=Ae,je.changeYear=de,je.clear=ae,je.close=se,je._createElement=n,je.destroy=le,je.isEnabled=fe,je.jumpToDate=R,je.open=Be,je.redraw=Ce,je.set=Fe,je.setDate=He,je.toggle=ke;var Ve={locale:[be,ie],showMonths:[ee,_,re],minDate:[R],maxDate:[R]};return B(),je}function l(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),r=[],i=0;i<n.length;i++){var o=n[i];try{if(null!==o.getAttribute("data-fp-omit"))continue;void 0!==o._flatpickr&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=s(o,t||{}),r.push(o._flatpickr)}catch(e){console.error(e)}}return 1===r.length?r[0]:r}/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0
	
	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.
	
	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */
var c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},c.apply(this,arguments)},u=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],d={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},f={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",time_24hr:!1},p=function(e){return("0"+e).slice(-2)},h=function(e){return e===!0?1:0},g=function(e){return e instanceof Array?e:[e]},m=function(){},v=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},B={D:m,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours(parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*h(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),i=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours(parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:m,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:m,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},w={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return v(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return p(y.h(e,t,n))},H:function(e){return p(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[h(e.getHours()>11)]},M:function(e,t){return v(e.getMonth(),!0,t)},S:function(e){return p(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return e.getFullYear()},d:function(e){return p(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return p(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return p(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},b=function(e){var t=e.config,n=void 0===t?d:t,r=e.l10n,i=void 0===r?f:r;return function(e,t,r){var o=r||i;return void 0!==n.formatDate?n.formatDate(e,t,o):t.split("").map(function(t,r,i){return y[t]&&"\\"!==i[r-1]?y[t](e,o,n):"\\"!==t?t:""}).join("")}},E=function(e){var t=e.config,n=void 0===t?d:t,r=e.l10n,i=void 0===r?f:r;return function(e,t,r,o){if(0===e||e){var A,a=o||i,s=e;if(e instanceof Date)A=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)A=new Date(e);else if("string"==typeof e){var l=t||(n||d).dateFormat,c=String(e).trim();if("today"===c)A=new Date,r=!0;else if(/Z$/.test(c)||/GMT$/.test(c))A=new Date(e);else if(n&&n.parseDate)A=n.parseDate(e,l);else{A=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var u=void 0,f=[],p=0,h=0,g="";p<l.length;p++){var m=l[p],v="\\"===m,y="\\"===l[p-1]||v;if(w[m]&&!y){g+=w[m];var b=new RegExp(g).exec(e);b&&(u=!0)&&f["Y"!==m?"push":"unshift"]({fn:B[m],val:b[++h]})}else v||(g+=".");f.forEach(function(e){var t=e.fn,n=e.val;return A=t(A,n,a)||A})}A=u?A:void 0}}return A instanceof Date&&!isNaN(A.getTime())?(r===!0&&A.setHours(0,0,0,0),A):void n.errorHandler(new Error("Invalid date provided: "+s))}}},C=function(e,t,n){return e>Math.min(t,n)&&e<Math.max(t,n)},Q={DAY:864e5};"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},i=0,o=t;i<o.length;i++){var A=o[i];r(A)}return e});var U=300;"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return l(this,e)},HTMLElement.prototype.flatpickr=function(e){return l([this],e)});var F=function(e,t){return"string"==typeof e?l(window.document.querySelectorAll(e),t):e instanceof Node?l([e],t):l(e,t)};return F.defaultConfig={},F.l10ns={en:c({},f),default:c({},f)},F.localize=function(e){F.l10ns.default=c({},F.l10ns.default,e)},F.setDefaults=function(e){F.defaultConfig=c({},F.defaultConfig,e)},F.parseDate=E({}),F.formatDate=b({}),F.compareDates=a,"undefined"!=typeof jQuery&&"undefined"!=typeof jQuery.fn&&(jQuery.fn.flatpickr=function(e){return l(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=F),F})},function(e,t,n){/*! choices.js v3.0.4 | (c) 2018 Josh Johnson | https://github.com/jshjohnson/Choices#readme */
!function(t,n){e.exports=n()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/assets/scripts/dist/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=r(s),c=n(3),u=r(c),d=n(4),f=r(d),p=n(31),h=n(32);n(33);var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-choice]",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(A(this,e),(0,h.isType)("String",t)){var r=document.querySelectorAll(t);if(r.length>1)for(var i=1;i<r.length;i++){var o=r[i];new e(o,n)}}var a={silent:!1,items:[],choices:[],renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,removeItems:!0,removeItemButton:!1,editItems:!1,duplicateItems:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,regexFilter:null,shouldSort:!0,shouldSortItems:!1,sortFilter:h.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",addItemText:function(e){return'Press Enter to add <b>"'+(0,h.stripHTML)(e)+'"</b>'},maxItemText:function(e){return"Only "+e+" values can be added."},itemComparer:function(e,t){return e===t},uniqueItemText:"Only unique values can be added.",classNames:{containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",hiddenState:"is-hidden",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},fuseOptions:{include:"score"},callbackOnInit:null,callbackOnCreateTemplates:null};if(this.idNames={itemChoice:"item-choice"},this.config=(0,h.extend)(a,n),"auto"!==this.config.renderSelectedChoices&&"always"!==this.config.renderSelectedChoices&&(this.config.silent||console.warn("renderSelectedChoices: Possible values are 'auto' and 'always'. Falling back to 'auto'."),this.config.renderSelectedChoices="auto"),this.store=new f.default(this.render),this.initialised=!1,this.currentState={},this.prevState={},this.currentValue="",this.element=t,this.passedElement=(0,h.isType)("String",t)?document.querySelector(t):t,!this.passedElement)return void(this.config.silent||console.error("Passed element not found"));this.isTextElement="text"===this.passedElement.type,this.isSelectOneElement="select-one"===this.passedElement.type,this.isSelectMultipleElement="select-multiple"===this.passedElement.type,this.isSelectElement=this.isSelectOneElement||this.isSelectMultipleElement,this.isValidElementType=this.isTextElement||this.isSelectElement,this.isIe11=!(!navigator.userAgent.match(/Trident/)||!navigator.userAgent.match(/rv[ :]11/)),this.isScrollingOnIe=!1,this.config.shouldSortItems===!0&&this.isSelectOneElement&&(this.config.silent||console.warn("shouldSortElements: Type of passed element is 'select-one', falling back to false.")),this.highlightPosition=0,this.canSearch=this.config.searchEnabled,this.placeholder=!1,this.isSelectOneElement||(this.placeholder=!!this.config.placeholder&&(this.config.placeholderValue||this.passedElement.getAttribute("placeholder"))),this.presetChoices=this.config.choices,this.presetItems=this.config.items,this.passedElement.value&&(this.presetItems=this.presetItems.concat(this.passedElement.value.split(this.config.delimiter))),this.baseId=(0,h.generateId)(this.passedElement,"choices-"),this.render=this.render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this.wasTap=!0;var s="classList"in document.documentElement;s||this.config.silent||console.error("Choices: Your browser doesn't support Choices");var l=(0,h.isElement)(this.passedElement)&&this.isValidElementType;if(l){if("active"===this.passedElement.getAttribute("data-choice"))return;this.init()}else this.config.silent||console.error("Incompatible input passed")}return a(e,[{key:"init",value:function(){if(this.initialised!==!0){var e=this.config.callbackOnInit;this.initialised=!0,this._createTemplates(),this._createInput(),this.store.subscribe(this.render),this.render(),this._addEventListeners(),e&&(0,h.isType)("Function",e)&&e.call(this)}}},{key:"destroy",value:function(){if(this.initialised!==!1){this._removeEventListeners(),this.passedElement.classList.remove(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.removeAttribute("tabindex");var e=this.passedElement.getAttribute("data-choice-orig-style");Boolean(e)?(this.passedElement.removeAttribute("data-choice-orig-style"),this.passedElement.setAttribute("style",e)):this.passedElement.removeAttribute("style"),this.passedElement.removeAttribute("aria-hidden"),this.passedElement.removeAttribute("data-choice"),this.passedElement.value=this.passedElement.value,this.containerOuter.parentNode.insertBefore(this.passedElement,this.containerOuter),this.containerOuter.parentNode.removeChild(this.containerOuter),this.clearStore(),this.config.templates=null,this.initialised=!1}}},{key:"renderGroups",value:function(e,t,n){var r=this,i=n||document.createDocumentFragment(),o=this.config.sortFilter;return this.config.shouldSort&&e.sort(o),e.forEach(function(e){var n=t.filter(function(t){return r.isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&!t.selected});if(n.length>=1){var o=r._getTemplate("choiceGroup",e);i.appendChild(o),r.renderChoices(n,i,!0)}}),i}},{key:"renderChoices",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t||document.createDocumentFragment(),A=this.config,a=A.renderSelectedChoices,s=A.searchResultLimit,l=A.renderChoiceLimit,c=this.isSearching?h.sortByScore:this.config.sortFilter,u=function(e){var t="auto"!==a||n.isSelectOneElement||!e.selected;if(t){var r=n._getTemplate("choice",e);i.appendChild(r)}},d=e;"auto"!==a||this.isSelectOneElement||(d=e.filter(function(e){return!e.selected}));var f=d.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=f.placeholderChoices,g=f.normalChoices;(this.config.shouldSort||this.isSearching)&&g.sort(c);var m=d.length,v=[].concat(o(p),o(g));this.isSearching?m=s:l>0&&!r&&(m=l);for(var B=0;B<m;B++)v[B]&&u(v[B]);return i}},{key:"renderItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n||document.createDocumentFragment();if(this.config.shouldSortItems&&!this.isSelectOneElement&&e.sort(this.config.sortFilter),this.isTextElement){var i=this.store.getItemsReducedToValues(e),o=i.join(this.config.delimiter);this.passedElement.setAttribute("value",o),this.passedElement.value=o}else{var A=document.createDocumentFragment();e.forEach(function(e){var n=t._getTemplate("option",e);A.appendChild(n)}),this.passedElement.innerHTML="",this.passedElement.appendChild(A)}return e.forEach(function(e){var n=t._getTemplate("item",e);r.appendChild(n)}),r}},{key:"render",value:function(){if(!this.store.isLoading()&&(this.currentState=this.store.getState(),this.currentState!==this.prevState)){if((this.currentState.choices!==this.prevState.choices||this.currentState.groups!==this.prevState.groups||this.currentState.items!==this.prevState.items)&&this.isSelectElement){var e=this.store.getGroupsFilteredByActive(),t=this.store.getChoicesFilteredByActive(),n=document.createDocumentFragment();this.choiceList.innerHTML="",this.config.resetScrollPosition&&(this.choiceList.scrollTop=0),e.length>=1&&this.isSearching!==!0?n=this.renderGroups(e,t,n):t.length>=1&&(n=this.renderChoices(t,n));var r=this.store.getItemsFilteredByActive(),i=this._canAddItem(r,this.input.value);if(n.childNodes&&n.childNodes.length>0)i.response?(this.choiceList.appendChild(n),this._highlightChoice()):this.choiceList.appendChild(this._getTemplate("notice",i.notice));else{var o=void 0,A=void 0;this.isSearching?(A=(0,h.isType)("Function",this.config.noResultsText)?this.config.noResultsText():this.config.noResultsText,o=this._getTemplate("notice",A,"no-results")):(A=(0,h.isType)("Function",this.config.noChoicesText)?this.config.noChoicesText():this.config.noChoicesText,o=this._getTemplate("notice",A,"no-choices")),this.choiceList.appendChild(o)}}if(this.currentState.items!==this.prevState.items){var a=this.store.getItemsFilteredByActive();if(this.itemList.innerHTML="",a&&a){var s=this.renderItems(a);s.childNodes&&this.itemList.appendChild(s)}}this.prevState=this.currentState}}},{key:"highlightItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return this;var n=e.id,r=e.groupId,i=r>=0?this.store.getGroupById(r):null;return this.store.dispatch((0,p.highlightItem)(n,!0)),t&&(i&&i.value?(0,h.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:e.value,label:e.label,groupValue:i.value}):(0,h.triggerEvent)(this.passedElement,"highlightItem",{id:n,value:e.value,label:e.label})),this}},{key:"unhighlightItem",value:function(e){if(!e)return this;var t=e.id,n=e.groupId,r=n>=0?this.store.getGroupById(n):null;return this.store.dispatch((0,p.highlightItem)(t,!1)),r&&r.value?(0,h.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label,groupValue:r.value}):(0,h.triggerEvent)(this.passedElement,"unhighlightItem",{id:t,value:e.value,label:e.label}),this}},{key:"highlightAll",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.highlightItem(t)}),this}},{key:"unhighlightAll",value:function(){var e=this,t=this.store.getItems();return t.forEach(function(t){e.unhighlightItem(t)}),this}},{key:"removeItemsByValue",value:function(e){var t=this;if(!e||!(0,h.isType)("String",e))return this;var n=this.store.getItemsFilteredByActive();return n.forEach(function(n){n.value===e&&t._removeItem(n)}),this}},{key:"removeActiveItems",value:function(e){var t=this,n=this.store.getItemsFilteredByActive();return n.forEach(function(n){n.active&&e!==n.id&&t._removeItem(n)}),this}},{key:"removeHighlightedItems",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.store.getItemsFilteredByActive();return n.forEach(function(n){n.highlighted&&n.active&&(e._removeItem(n),t&&e._triggerChange(n.value))}),this}},{key:"showDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.body,n=document.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.containerOuter.classList.add(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","true"),this.dropdown.classList.add(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","true");var i=this.dropdown.getBoundingClientRect(),o=Math.ceil(i.top+window.scrollY+this.dropdown.offsetHeight),A=!1;return"auto"===this.config.position?A=o>=r:"top"===this.config.position&&(A=!0),A&&this.containerOuter.classList.add(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement!==this.input&&this.input.focus(),(0,h.triggerEvent)(this.passedElement,"showDropdown",{}),this}},{key:"hideDropdown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.containerOuter.classList.contains(this.config.classNames.flippedState);return this.containerOuter.classList.remove(this.config.classNames.openState),this.containerOuter.setAttribute("aria-expanded","false"),this.dropdown.classList.remove(this.config.classNames.activeState),this.dropdown.setAttribute("aria-expanded","false"),t&&this.containerOuter.classList.remove(this.config.classNames.flippedState),e&&this.canSearch&&document.activeElement===this.input&&this.input.blur(),(0,h.triggerEvent)(this.passedElement,"hideDropdown",{}),this}},{key:"toggleDropdown",value:function(){var e=this.dropdown.classList.contains(this.config.classNames.activeState);return e?this.hideDropdown():this.showDropdown(!0),this}},{key:"getValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.store.getItemsFilteredByActive(),r=[];return n.forEach(function(n){e.isTextElement?r.push(t?n.value:n):n.active&&r.push(t?n.value:n)}),this.isSelectOneElement?r[0]:r}},{key:"setValue",value:function(e){var t=this;if(this.initialised===!0){var n=[].concat(o(e)),r=function(e){var n=(0,h.getType)(e);if("Object"===n){if(!e.value)return;t.isTextElement?t._addItem(e.value,e.label,e.id,void 0,e.customProperties,e.placeholder):t._addChoice(e.value,e.label,!0,!1,-1,e.customProperties,e.placeholder)}else"String"===n&&(t.isTextElement?t._addItem(e):t._addChoice(e,e,!0,!1,-1,null))};n.length>1?n.forEach(function(e){r(e)}):r(n[0])}return this}},{key:"setValueByChoice",value:function(e){var t=this;if(!this.isTextElement){var n=this.store.getChoices(),r=(0,h.isType)("Array",e)?e:[e];r.forEach(function(e){var r=n.find(function(n){return t.config.itemComparer(n.value,e)});r?r.selected?t.config.silent||console.warn("Attempting to select choice already selected"):t._addItem(r.value,r.label,r.id,r.groupId,r.customProperties,r.placeholder,r.keyCode):t.config.silent||console.warn("Attempting to select choice that does not exist")})}return this}},{key:"setChoices",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised===!0&&this.isSelectElement){if(!(0,h.isType)("Array",e)||!t)return this;i&&this._clearChoices(),this._setLoading(!0),e&&e.length&&(this.containerOuter.classList.remove(this.config.classNames.loadingState),e.forEach(function(e){e.choices?r._addGroup(e,e.id||null,t,n):r._addChoice(e[t],e[n],e.selected,e.disabled,void 0,e.customProperties,e.placeholder)})),this._setLoading(!1)}return this}},{key:"clearStore",value:function(){return this.store.dispatch((0,p.clearAll)()),this}},{key:"clearInput",value:function(){return this.input.value&&(this.input.value=""),this.isSelectOneElement||this._setInputWidth(),!this.isTextElement&&this.config.searchEnabled&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0))),this}},{key:"enable",value:function(){if(this.initialised){this.passedElement.disabled=!1;var e=this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._addEventListeners(),this.passedElement.removeAttribute("disabled"),this.input.removeAttribute("disabled"),this.containerOuter.classList.remove(this.config.classNames.disabledState),this.containerOuter.removeAttribute("aria-disabled"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","0"))}return this}},{key:"disable",value:function(){if(this.initialised){this.passedElement.disabled=!0;var e=!this.containerOuter.classList.contains(this.config.classNames.disabledState);e&&(this._removeEventListeners(),this.passedElement.setAttribute("disabled",""),this.input.setAttribute("disabled",""),this.containerOuter.classList.add(this.config.classNames.disabledState),this.containerOuter.setAttribute("aria-disabled","true"),this.isSelectOneElement&&this.containerOuter.setAttribute("tabindex","-1"))}return this}},{key:"ajax",value:function(e){var t=this;return this.initialised===!0&&this.isSelectElement&&(requestAnimationFrame(function(){t._handleLoadingState(!0)}),e(this._ajaxCallback())),this}},{key:"_triggerChange",value:function(e){e&&(0,h.triggerEvent)(this.passedElement,"change",{value:e})}},{key:"_handleButtonAction",value:function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var n=t.parentNode.getAttribute("data-id"),r=e.find(function(e){return e.id===parseInt(n,10)});this._removeItem(r),this._triggerChange(r.value),this.isSelectOneElement&&this._selectPlaceholderChoice()}}},{key:"_selectPlaceholderChoice",value:function(){var e=this.store.getPlaceholderChoice();e&&(this._addItem(e.value,e.label,e.id,e.groupId,null,e.placeholder),this._triggerChange(e.value))}},{key:"_handleItemAction",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&t&&this.config.removeItems&&!this.isSelectOneElement){var i=t.getAttribute("data-id");e.forEach(function(e){e.id!==parseInt(i,10)||e.highlighted?r||e.highlighted&&n.unhighlightItem(e):n.highlightItem(e)}),document.activeElement!==this.input&&this.input.focus()}}},{key:"_handleChoiceAction",value:function(e,t){if(e&&t){var n=t.getAttribute("data-id"),r=this.store.getChoiceById(n),i=e[0]&&e[0].keyCode?e[0].keyCode:null,o=this.dropdown.classList.contains(this.config.classNames.activeState);if(r.keyCode=i,(0,h.triggerEvent)(this.passedElement,"choice",{choice:r}),r&&!r.selected&&!r.disabled){var A=this._canAddItem(e,r.value);A.response&&(this._addItem(r.value,r.label,r.id,r.groupId,r.customProperties,r.placeholder,r.keyCode),this._triggerChange(r.value))}this.clearInput(),o&&this.isSelectOneElement&&(this.hideDropdown(),this.containerOuter.focus())}}},{key:"_handleBackspace",value:function(e){if(this.config.removeItems&&e){var t=e[e.length-1],n=e.some(function(e){return e.highlighted});this.config.editItems&&!n&&t?(this.input.value=t.value,this._setInputWidth(),this._removeItem(t),this._triggerChange(t.value)):(n||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}}},{key:"_canAddItem",value:function(e,t){var n=!0,r=(0,h.isType)("Function",this.config.addItemText)?this.config.addItemText(t):this.config.addItemText;(this.isSelectMultipleElement||this.isTextElement)&&this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(n=!1,r=(0,h.isType)("Function",this.config.maxItemText)?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),this.isTextElement&&this.config.addItems&&n&&this.config.regexFilter&&(n=this._regexFilter(t));var i=!e.some(function(e){return(0,h.isType)("String",t)?e.value===t.trim():e.value===t});return i||this.config.duplicateItems||this.isSelectOneElement||!n||(n=!1,r=(0,h.isType)("Function",this.config.uniqueItemText)?this.config.uniqueItemText(t):this.config.uniqueItemText),{response:n,notice:r}}},{key:"_handleLoadingState",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.itemList.querySelector("."+this.config.classNames.placeholder);e?(this.containerOuter.classList.add(this.config.classNames.loadingState),this.containerOuter.setAttribute("aria-busy","true"),this.isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText),this.itemList.appendChild(t)):this.input.placeholder=this.config.loadingText):(this.containerOuter.classList.remove(this.config.classNames.loadingState),this.isSelectOneElement?t.innerHTML=this.placeholder||"":this.input.placeholder=this.placeholder||"")}},{key:"_ajaxCallback",value:function(){var e=this;return function(t,n,r){if(t&&n){var i=(0,h.isType)("Object",t)?[t]:t;i&&(0,h.isType)("Array",i)&&i.length?(e._handleLoadingState(!1),e._setLoading(!0),i.forEach(function(t){if(t.choices){var i=t.id||null;e._addGroup(t,i,n,r)}else e._addChoice(t[n],t[r],t.selected,t.disabled,void 0,t.customProperties,t.placeholder)}),e._setLoading(!1),e.isSelectOneElement&&e._selectPlaceholderChoice()):e._handleLoadingState(!1),e.containerOuter.removeAttribute("aria-busy")}}}},{key:"_searchChoices",value:function(e){var t=(0,h.isType)("String",e)?e.trim():e,n=(0,h.isType)("String",this.currentValue)?this.currentValue.trim():this.currentValue;if(t.length>=1&&t!==n+" "){var r=this.store.getSearchableChoices(),i=t,o=(0,h.isType)("Array",this.config.searchFields)?this.config.searchFields:[this.config.searchFields],A=Object.assign(this.config.fuseOptions,{keys:o}),a=new l.default(r,A),s=a.search(i);return this.currentValue=t,this.highlightPosition=0,this.isSearching=!0,this.store.dispatch((0,p.filterChoices)(s)),s.length}return 0}},{key:"_handleSearch",value:function(e){if(e){var t=this.store.getChoices(),n=t.some(function(e){return!e.active});if(this.input===document.activeElement)if(e&&e.length>=this.config.searchFloor){var r=0;this.config.searchChoices&&(r=this._searchChoices(e)),(0,h.triggerEvent)(this.passedElement,"search",{value:e,resultCount:r})}else n&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}}},{key:"_addEventListeners",value:function(){document.addEventListener("keyup",this._onKeyUp),document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd),document.addEventListener("mousedown",this._onMouseDown),document.addEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.addEventListener("focus",this._onFocus),this.containerOuter.addEventListener("blur",this._onBlur)),this.input.addEventListener("input",this._onInput),this.input.addEventListener("paste",this._onPaste),this.input.addEventListener("focus",this._onFocus),this.input.addEventListener("blur",this._onBlur)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keyup",this._onKeyUp),document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd),document.removeEventListener("mousedown",this._onMouseDown),document.removeEventListener("mouseover",this._onMouseOver),this.isSelectOneElement&&(this.containerOuter.removeEventListener("focus",this._onFocus),this.containerOuter.removeEventListener("blur",this._onBlur)),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("paste",this._onPaste),this.input.removeEventListener("focus",this._onFocus),this.input.removeEventListener("blur",this._onBlur)}},{key:"_setInputWidth",value:function(){this.placeholder?this.input.value&&this.input.value.length>=this.placeholder.length/1.25&&(this.input.style.width=(0,h.getWidthOfInput)(this.input)):this.input.style.width=(0,h.getWidthOfInput)(this.input)}},{key:"_onKeyDown",value:function(e){var t,n=this;if(e.target===this.input||this.containerOuter.contains(e.target)){var r=e.target,o=this.store.getItemsFilteredByActive(),A=this.input===document.activeElement,a=this.dropdown.classList.contains(this.config.classNames.activeState),s=this.itemList&&this.itemList.children,l=String.fromCharCode(e.keyCode),c=46,u=8,d=13,f=65,p=27,g=38,m=40,v=33,B=34,w=e.ctrlKey||e.metaKey;this.isTextElement||!/[a-zA-Z0-9-_ ]/.test(l)||a||this.showDropdown(!0),this.canSearch=this.config.searchEnabled;var y=function(){w&&s&&(n.canSearch=!1,n.config.removeItems&&!n.input.value&&n.input===document.activeElement&&n.highlightAll())},b=function(){if(n.isTextElement&&r.value){var t=n.input.value,i=n._canAddItem(o,t);i.response&&(a&&n.hideDropdown(),n._addItem(t),n._triggerChange(t),n.clearInput())}if(r.hasAttribute("data-button")&&(n._handleButtonAction(o,r),e.preventDefault()),a){e.preventDefault();var A=n.dropdown.querySelector("."+n.config.classNames.highlightedState);A&&(o[0]&&(o[0].keyCode=d),n._handleChoiceAction(o,A))}else n.isSelectOneElement&&(a||(n.showDropdown(!0),e.preventDefault()))},E=function(){a&&(n.toggleDropdown(),n.containerOuter.focus())},C=function(){if(a||n.isSelectOneElement){a||n.showDropdown(!0),n.canSearch=!1;var t=e.keyCode===m||e.keyCode===B?1:-1,r=e.metaKey||e.keyCode===B||e.keyCode===v,i=void 0;if(r)i=t>0?Array.from(n.dropdown.querySelectorAll("[data-choice-selectable]")).pop():n.dropdown.querySelector("[data-choice-selectable]");else{var o=n.dropdown.querySelector("."+n.config.classNames.highlightedState);i=o?(0,h.getAdjacentEl)(o,"[data-choice-selectable]",t):n.dropdown.querySelector("[data-choice-selectable]")}i&&((0,h.isScrolledIntoView)(i,n.choiceList,t)||n._scrollToChoice(i,t),n._highlightChoice(i)),e.preventDefault()}},Q=function(){!A||e.target.value||n.isSelectOneElement||(n._handleBackspace(o),e.preventDefault())},U=(t={},i(t,f,y),i(t,d,b),i(t,p,E),i(t,g,C),i(t,v,C),i(t,m,C),i(t,B,C),i(t,u,Q),i(t,c,Q),t);U[e.keyCode]&&U[e.keyCode]()}}},{key:"_onKeyUp",value:function(e){if(e.target===this.input){var t=this.input.value,n=this.store.getItemsFilteredByActive(),r=this._canAddItem(n,t);if(this.isTextElement){var i=this.dropdown.classList.contains(this.config.classNames.activeState);if(t){if(r.notice){var o=this._getTemplate("notice",r.notice);this.dropdown.innerHTML=o.outerHTML}r.response===!0?i||this.showDropdown():!r.notice&&i&&this.hideDropdown()}else i&&this.hideDropdown()}else{var A=46,a=8;e.keyCode!==A&&e.keyCode!==a||e.target.value?this.canSearch&&r.response&&this._handleSearch(this.input.value):!this.isTextElement&&this.isSearching&&(this.isSearching=!1,this.store.dispatch((0,p.activateChoices)(!0)))}this.canSearch=this.config.searchEnabled}}},{key:"_onInput",value:function(){this.isSelectOneElement||this._setInputWidth()}},{key:"_onTouchMove",value:function(){this.wasTap===!0&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,n=this.dropdown.classList.contains(this.config.classNames.activeState);this.wasTap===!0&&this.containerOuter.contains(t)&&(t!==this.containerOuter&&t!==this.containerInner||this.isSelectOneElement||(this.isTextElement?document.activeElement!==this.input&&this.input.focus():n||this.showDropdown(!0)),e.stopPropagation()),this.wasTap=!0}},{key:"_onMouseDown",value:function(e){var t=e.target;if(t===this.choiceList&&this.isIe11&&(this.isScrollingOnIe=!0),this.containerOuter.contains(t)&&t!==this.input){var n=void 0,r=this.store.getItemsFilteredByActive(),i=e.shiftKey;(n=(0,h.findAncestorByAttrName)(t,"data-button"))?this._handleButtonAction(r,n):(n=(0,h.findAncestorByAttrName)(t,"data-item"))?this._handleItemAction(r,n,i):(n=(0,h.findAncestorByAttrName)(t,"data-choice"))&&this._handleChoiceAction(r,n),e.preventDefault()}}},{key:"_onClick",value:function(e){var t=e.target,n=this.dropdown.classList.contains(this.config.classNames.activeState),r=this.store.getItemsFilteredByActive();if(this.containerOuter.contains(t))t.hasAttribute("data-button")&&this._handleButtonAction(r,t),n?this.isSelectOneElement&&t!==this.input&&!this.dropdown.contains(t)&&this.hideDropdown(!0):this.isTextElement?document.activeElement!==this.input&&this.input.focus():this.canSearch?this.showDropdown(!0):(this.showDropdown(),this.containerOuter.focus());else{var i=r.some(function(e){return e.highlighted});i&&this.unhighlightAll(),this.containerOuter.classList.remove(this.config.classNames.focusState),n&&this.hideDropdown()}}},{key:"_onMouseOver",value:function(e){(e.target===this.dropdown||this.dropdown.contains(e.target))&&e.target.hasAttribute("data-choice")&&this._highlightChoice(e.target)}},{key:"_onPaste",value:function(e){e.target!==this.input||this.config.paste||e.preventDefault()}},{key:"_onFocus",value:function(e){var t=this,n=e.target;if(this.containerOuter.contains(n)){var r=this.dropdown.classList.contains(this.config.classNames.activeState),i={text:function(){n===t.input&&t.containerOuter.classList.add(t.config.classNames.focusState)},"select-one":function(){t.containerOuter.classList.add(t.config.classNames.focusState),n===t.input&&(r||t.showDropdown())},"select-multiple":function(){n===t.input&&(t.containerOuter.classList.add(t.config.classNames.focusState),r||t.showDropdown(!0))}};i[this.passedElement.type]()}}},{key:"_onBlur",value:function(e){var t=this,n=e.target;if(this.containerOuter.contains(n)&&!this.isScrollingOnIe){var r=this.store.getItemsFilteredByActive(),i=this.dropdown.classList.contains(this.config.classNames.activeState),o=r.some(function(e){return e.highlighted}),A={text:function(){n===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),o&&t.unhighlightAll(),i&&t.hideDropdown())},"select-one":function(){t.containerOuter.classList.remove(t.config.classNames.focusState),n===t.containerOuter&&i&&!t.canSearch&&t.hideDropdown(),n===t.input&&i&&t.hideDropdown()},"select-multiple":function(){n===t.input&&(t.containerOuter.classList.remove(t.config.classNames.focusState),i&&t.hideDropdown(),o&&t.unhighlightAll())}};A[this.passedElement.type]()}else this.isScrollingOnIe=!1,this.input.focus()}},{key:"_regexFilter",value:function(e){if(!e)return!1;var t=this.config.regexFilter,n=new RegExp(t.source,"i");return n.test(e)}},{key:"_scrollToChoice",value:function(e,t){var n=this;if(e){var r=this.choiceList.offsetHeight,i=e.offsetHeight,o=e.offsetTop+i,A=this.choiceList.scrollTop+r,a=t>0?this.choiceList.scrollTop+o-A:e.offsetTop,s=function e(){var r=4,i=n.choiceList.scrollTop,o=!1,A=void 0,s=void 0;t>0?(A=(a-i)/r,s=A>1?A:1,n.choiceList.scrollTop=i+s,i<a&&(o=!0)):(A=(i-a)/r,s=A>1?A:1,n.choiceList.scrollTop=i-s,i>a&&(o=!0)),o&&requestAnimationFrame(function(n){e(n,a,t)})};requestAnimationFrame(function(e){s(e,a,t)})}}},{key:"_highlightChoice",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Array.from(this.dropdown.querySelectorAll("[data-choice-selectable]")),r=t;if(n&&n.length){var i=Array.from(this.dropdown.querySelectorAll("."+this.config.classNames.highlightedState));i.forEach(function(t){t.classList.remove(e.config.classNames.highlightedState),t.setAttribute("aria-selected","false")}),r?this.highlightPosition=n.indexOf(r):(r=n.length>this.highlightPosition?n[this.highlightPosition]:n[n.length-1],r||(r=n[0])),r.classList.add(this.config.classNames.highlightedState),r.setAttribute("aria-selected","true"),this.containerOuter.setAttribute("aria-activedescendant",r.id)}}},{key:"_addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],A=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=(0,h.isType)("String",e)?e.trim():e,s=A,l=this.store.getItems(),c=t||a,u=parseInt(n,10)||-1,d=r>=0?this.store.getGroupById(r):null,f=l?l.length+1:1;return this.config.prependValue&&(a=this.config.prependValue+a.toString()),this.config.appendValue&&(a+=this.config.appendValue.toString()),this.store.dispatch((0,p.addItem)(a,c,f,u,r,i,o,s)),this.isSelectOneElement&&this.removeActiveItems(f),d&&d.value?(0,h.triggerEvent)(this.passedElement,"addItem",{
id:f,value:a,label:c,groupValue:d.value,keyCode:s}):(0,h.triggerEvent)(this.passedElement,"addItem",{id:f,value:a,label:c,keyCode:s}),this}},{key:"_removeItem",value:function(e){if(!e||!(0,h.isType)("Object",e))return this;var t=e.id,n=e.value,r=e.label,i=e.choiceId,o=e.groupId,A=o>=0?this.store.getGroupById(o):null;return this.store.dispatch((0,p.removeItem)(t,i)),A&&A.value?(0,h.triggerEvent)(this.passedElement,"removeItem",{id:t,value:n,label:r,groupValue:A.value}):(0,h.triggerEvent)(this.passedElement,"removeItem",{id:t,value:n,label:r}),this}},{key:"_addChoice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,A=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if("undefined"!=typeof e&&null!==e){var s=this.store.getChoices(),l=t||e,c=s?s.length+1:1,u=this.baseId+"-"+this.idNames.itemChoice+"-"+c;this.store.dispatch((0,p.addChoice)(e,l,c,i,r,u,o,A,a)),n&&this._addItem(e,l,c,void 0,o,A,a)}}},{key:"_clearChoices",value:function(){this.store.dispatch((0,p.clearChoices)())}},{key:"_addGroup",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"value",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"label",o=(0,h.isType)("Object",e)?e.choices:Array.from(e.getElementsByTagName("OPTION")),A=t?t:Math.floor((new Date).valueOf()*Math.random()),a=!!e.disabled&&e.disabled;o?(this.store.dispatch((0,p.addGroup)(e.label,A,!0,a)),o.forEach(function(e){var t=e.disabled||e.parentNode&&e.parentNode.disabled;n._addChoice(e[r],(0,h.isType)("Object",e)?e[i]:e.innerHTML,e.selected,t,A,e.customProperties,e.placeholder)})):this.store.dispatch((0,p.addGroup)(e.label,e.id,!1,e.disabled))}},{key:"_getTemplate",value:function(e){if(!e)return null;for(var t=this.config.templates,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t[e].apply(t,r)}},{key:"_createTemplates",value:function(){var e=this,t=this.config.classNames,n={containerOuter:function(n){return(0,h.strToEl)('\n          <div\n            class="'+t.containerOuter+'"\n            '+(e.isSelectElement?e.config.searchEnabled?'role="combobox" aria-autocomplete="list"':'role="listbox"':"")+'\n            data-type="'+e.passedElement.type+'"\n            '+(e.isSelectOneElement?'tabindex="0"':"")+'\n            aria-haspopup="true"\n            aria-expanded="false"\n            dir="'+n+'"\n            >\n          </div>\n        ')},containerInner:function(){return(0,h.strToEl)('\n          <div class="'+t.containerInner+'"></div>\n        ')},itemList:function(){var n,r=(0,u.default)(t.list,(n={},i(n,t.listSingle,e.isSelectOneElement),i(n,t.listItems,!e.isSelectOneElement),n));return(0,h.strToEl)('\n          <div class="'+r+'"></div>\n        ')},placeholder:function(e){return(0,h.strToEl)('\n          <div class="'+t.placeholder+'">\n            '+e+"\n          </div>\n        ")},item:function(n){var r,o=(0,u.default)(t.item,(r={},i(r,t.highlightedState,n.highlighted),i(r,t.itemSelectable,!n.highlighted),i(r,t.placeholder,n.placeholder),r));if(e.config.removeItemButton){var A;return o=(0,u.default)(t.item,(A={},i(A,t.highlightedState,n.highlighted),i(A,t.itemSelectable,!n.disabled),i(A,t.placeholder,n.placeholder),A)),(0,h.strToEl)('\n            <div\n              class="'+o+'"\n              data-item\n              data-id="'+n.id+'"\n              data-value="'+n.value+'"\n              data-deletable\n              '+(n.active?'aria-selected="true"':"")+"\n              "+(n.disabled?'aria-disabled="true"':"")+"\n              >\n              "+n.label+'<!--\n           --><button\n                type="button"\n                class="'+t.button+'"\n                data-button\n                aria-label="Remove item: \''+n.value+"'\"\n                >\n                Remove item\n              </button>\n            </div>\n          ")}return(0,h.strToEl)('\n          <div\n            class="'+o+'"\n            data-item\n            data-id="'+n.id+'"\n            data-value="'+n.value+'"\n            '+(n.active?'aria-selected="true"':"")+"\n            "+(n.disabled?'aria-disabled="true"':"")+"\n            >\n            "+n.label+"\n          </div>\n        ")},choiceList:function(){return(0,h.strToEl)('\n          <div\n            class="'+t.list+'"\n            dir="ltr"\n            role="listbox"\n            '+(e.isSelectOneElement?"":'aria-multiselectable="true"')+"\n            >\n          </div>\n        ")},choiceGroup:function(e){var n=(0,u.default)(t.group,i({},t.itemDisabled,e.disabled));return(0,h.strToEl)('\n          <div\n            class="'+n+'"\n            data-group\n            data-id="'+e.id+'"\n            data-value="'+e.value+'"\n            role="group"\n            '+(e.disabled?'aria-disabled="true"':"")+'\n            >\n            <div class="'+t.groupHeading+'">'+e.value+"</div>\n          </div>\n        ")},choice:function(n){var r,o=(0,u.default)(t.item,t.itemChoice,(r={},i(r,t.itemDisabled,n.disabled),i(r,t.itemSelectable,!n.disabled),i(r,t.placeholder,n.placeholder),r));return(0,h.strToEl)('\n          <div\n            class="'+o+'"\n            data-select-text="'+e.config.itemSelectText+'"\n            data-choice\n            data-id="'+n.id+'"\n            data-value="'+n.value+'"\n            '+(n.disabled?'data-choice-disabled aria-disabled="true"':"data-choice-selectable")+'\n            id="'+n.elementId+'"\n            '+(n.groupId>0?'role="treeitem"':'role="option"')+"\n            >\n            "+n.label+"\n          </div>\n        ")},input:function(){var e=(0,u.default)(t.input,t.inputCloned);return(0,h.strToEl)('\n          <input\n            type="text"\n            class="'+e+'"\n            autocomplete="off"\n            autocapitalize="off"\n            spellcheck="false"\n            role="textbox"\n            aria-autocomplete="list"\n            >\n        ')},dropdown:function(){var e=(0,u.default)(t.list,t.listDropdown);return(0,h.strToEl)('\n          <div\n            class="'+e+'"\n            aria-expanded="false"\n            >\n          </div>\n        ')},notice:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=(0,u.default)(t.item,t.itemChoice,(n={},i(n,t.noResults,"no-results"===r),i(n,t.noChoices,"no-choices"===r),n));return(0,h.strToEl)('\n          <div class="'+o+'">\n            '+e+"\n          </div>\n        ")},option:function(e){return(0,h.strToEl)('\n          <option value="'+e.value+'" selected>'+e.label+"</option>\n        ")}},r=this.config.callbackOnCreateTemplates,o={};r&&(0,h.isType)("Function",r)&&(o=r.call(this,h.strToEl)),this.config.templates=(0,h.extend)(n,o)}},{key:"_setLoading",value:function(e){this.store.dispatch((0,p.setIsLoading)(e))}},{key:"_createInput",value:function(){var e=this,t=this.passedElement.getAttribute("dir")||"ltr",n=this._getTemplate("containerOuter",t),r=this._getTemplate("containerInner"),i=this._getTemplate("itemList"),o=this._getTemplate("choiceList"),A=this._getTemplate("input"),a=this._getTemplate("dropdown");this.containerOuter=n,this.containerInner=r,this.input=A,this.choiceList=o,this.itemList=i,this.dropdown=a,this.passedElement.classList.add(this.config.classNames.input,this.config.classNames.hiddenState),this.passedElement.tabIndex="-1";var s=this.passedElement.getAttribute("style");if(Boolean(s)&&this.passedElement.setAttribute("data-choice-orig-style",s),this.passedElement.setAttribute("style","display:none;"),this.passedElement.setAttribute("aria-hidden","true"),this.passedElement.setAttribute("data-choice","active"),(0,h.wrap)(this.passedElement,r),(0,h.wrap)(r,n),this.isSelectOneElement?A.placeholder=this.config.searchPlaceholderValue||"":this.placeholder&&(A.placeholder=this.placeholder,A.style.width=(0,h.getWidthOfInput)(A)),this.config.addItems||this.disable(),n.appendChild(r),n.appendChild(a),r.appendChild(i),this.isTextElement||a.appendChild(o),this.isSelectMultipleElement||this.isTextElement?r.appendChild(A):this.canSearch&&a.insertBefore(A,a.firstChild),this.isSelectElement){var l=Array.from(this.passedElement.getElementsByTagName("OPTGROUP"));if(this.highlightPosition=0,this.isSearching=!1,this._setLoading(!0),l&&l.length)l.forEach(function(t){e._addGroup(t,t.id||null)});else{var c=Array.from(this.passedElement.options),u=this.config.sortFilter,d=this.presetChoices;c.forEach(function(e){d.push({value:e.value,label:e.innerHTML,selected:e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:e.hasAttribute("placeholder")})}),this.config.shouldSort&&d.sort(u);var f=d.some(function(e){return e.selected});d.forEach(function(t,n){if(e.isSelectOneElement){var r=f||!f&&n>0;e._addChoice(t.value,t.label,!r||t.selected,!!r&&t.disabled,void 0,t.customProperties,t.placeholder)}else e._addChoice(t.value,t.label,t.selected,t.disabled,void 0,t.customProperties,t.placeholder)})}this._setLoading(!1)}else this.isTextElement&&this.presetItems.forEach(function(t){var n=(0,h.getType)(t);if("Object"===n){if(!t.value)return;e._addItem(t.value,t.label,t.id,void 0,t.customProperties,t.placeholder)}else"String"===n&&e._addItem(t)})}}]),e}();e.exports=g},function(e,t,n){!function(t){"use strict";function n(){console.log.apply(console,arguments)}function r(e,t){var n;this.list=e,this.options=t=t||{};for(n in a)a.hasOwnProperty(n)&&("boolean"==typeof a[n]?this.options[n]=n in t?t[n]:a[n]:this.options[n]=t[n]||a[n])}function i(e,t,n){var r,A,a,s,l,c;if(t){if(a=t.indexOf("."),a!==-1?(r=t.slice(0,a),A=t.slice(a+1)):r=t,s=e[r],null!==s&&void 0!==s)if(A||"string"!=typeof s&&"number"!=typeof s)if(o(s))for(l=0,c=s.length;l<c;l++)i(s[l],A,n);else A&&i(s,A,n);else n.push(s)}else n.push(e);return n}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function A(e,t){t=t||{},this.options=t,this.options.location=t.location||A.defaultOptions.location,this.options.distance="distance"in t?t.distance:A.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:A.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||A.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen<=this.options.maxPatternLength&&(this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet())}var a={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:A,sortFn:function(e,t){return e.score-t.score},getFn:i,keys:[],verbose:!1,tokenize:!1,matchAllTokens:!1,tokenSeparator:/ +/g,minMatchCharLength:1,findAllMatches:!1};r.VERSION="2.7.3",r.prototype.set=function(e){return this.list=e,e},r.prototype.search=function(e){this.options.verbose&&n("\nSearch term:",e,"\n"),this.pattern=e,this.results=[],this.resultMap={},this._keyMap=null,this._prepareSearchers(),this._startSearch(),this._computeScore(),this._sort();var t=this._format();return t},r.prototype._prepareSearchers=function(){var e=this.options,t=this.pattern,n=e.searchFn,r=t.split(e.tokenSeparator),i=0,o=r.length;if(this.options.tokenize)for(this.tokenSearchers=[];i<o;i++)this.tokenSearchers.push(new n(r[i],e));this.fullSeacher=new n(t,e)},r.prototype._startSearch=function(){var e,t,n,r,i=this.options,o=i.getFn,A=this.list,a=A.length,s=this.options.keys,l=s.length,c=null;if("string"==typeof A[0])for(n=0;n<a;n++)this._analyze("",A[n],n,n);else for(this._keyMap={},n=0;n<a;n++)for(c=A[n],r=0;r<l;r++){if(e=s[r],"string"!=typeof e){if(t=1-e.weight||1,this._keyMap[e.name]={weight:t},e.weight<=0||e.weight>1)throw new Error("Key weight has to be > 0 and <= 1");e=e.name}else this._keyMap[e]={weight:1};this._analyze(e,o(c,e,[]),c,n)}},r.prototype._analyze=function(e,t,r,i){var A,a,s,l,c,u,d,f,p,h,g,m,v,B,w,y=this.options,b=!1;if(void 0!==t&&null!==t){a=[];var E=0;if("string"==typeof t){if(A=t.split(y.tokenSeparator),y.verbose&&n("---------\nKey:",e),this.options.tokenize){for(B=0;B<this.tokenSearchers.length;B++){for(f=this.tokenSearchers[B],y.verbose&&n("Pattern:",f.pattern),p=[],m=!1,w=0;w<A.length;w++){h=A[w],g=f.search(h);var C={};g.isMatch?(C[h]=g.score,b=!0,m=!0,a.push(g.score)):(C[h]=1,this.options.matchAllTokens||a.push(1)),p.push(C)}m&&E++,y.verbose&&n("Token scores:",p)}for(l=a[0],u=a.length,B=1;B<u;B++)l+=a[B];l/=u,y.verbose&&n("Token score average:",l)}d=this.fullSeacher.search(t),y.verbose&&n("Full text score:",d.score),c=d.score,void 0!==l&&(c=(c+l)/2),y.verbose&&n("Score average:",c),v=!this.options.tokenize||!this.options.matchAllTokens||E>=this.tokenSearchers.length,y.verbose&&n("Check Matches",v),(b||d.isMatch)&&v&&(s=this.resultMap[i],s?s.output.push({key:e,score:c,matchedIndices:d.matchedIndices}):(this.resultMap[i]={item:r,output:[{key:e,score:c,matchedIndices:d.matchedIndices}]},this.results.push(this.resultMap[i])))}else if(o(t))for(B=0;B<t.length;B++)this._analyze(e,t[B],r,i)}},r.prototype._computeScore=function(){var e,t,r,i,o,A,a,s,l,c=this._keyMap,u=this.results;for(this.options.verbose&&n("\n\nComputing score:\n"),e=0;e<u.length;e++){for(r=0,i=u[e].output,o=i.length,s=1,t=0;t<o;t++)A=i[t].score,a=c?c[i[t].key].weight:1,l=A*a,1!==a?s=Math.min(s,l):(r+=l,i[t].nScore=l);1===s?u[e].score=r/o:u[e].score=s,this.options.verbose&&n(u[e])}},r.prototype._sort=function(){var e=this.options;e.shouldSort&&(e.verbose&&n("\n\nSorting...."),this.results.sort(e.sortFn))},r.prototype._format=function(){var e,t,r,i,o=this.options,A=o.getFn,a=[],s=this.results,l=o.include;for(o.verbose&&n("\n\nOutput:\n\n",s),r=o.id?function(e){s[e].item=A(s[e].item,o.id,[])[0]}:function(){},i=function(e){var t,n,r,i,o,A=s[e];if(l.length>0){if(t={item:A.item},l.indexOf("matches")!==-1)for(r=A.output,t.matches=[],n=0;n<r.length;n++)i=r[n],o={indices:i.matchedIndices},i.key&&(o.key=i.key),t.matches.push(o);l.indexOf("score")!==-1&&(t.score=s[e].score)}else t=A.item;return t},e=0,t=s.length;e<t;e++)r(e),a.push(i(e));return a},A.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},A.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},A.prototype._bitapScore=function(e,t){var n=e/this.patternLen,r=Math.abs(this.options.location-t);return this.options.distance?n+r/this.options.distance:r?1:n},A.prototype.search=function(e){var t,n,r,i,o,A,a,s,l,c,u,d,f,p,h,g,m,v,B,w,y,b,E,C=this.options;if(e=C.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};if(this.patternLen>C.maxPatternLength){if(v=e.match(new RegExp(this.pattern.replace(C.tokenSeparator,"|"))),B=!!v)for(y=[],t=0,b=v.length;t<b;t++)E=v[t],y.push([e.indexOf(E),E.length-1]);return{isMatch:B,score:B?.5:1,matchedIndices:y}}for(i=C.findAllMatches,o=C.location,r=e.length,A=C.threshold,a=e.indexOf(this.pattern,o),w=[],t=0;t<r;t++)w[t]=0;for(a!=-1&&(A=Math.min(this._bitapScore(0,a),A),a=e.lastIndexOf(this.pattern,o+this.patternLen),a!=-1&&(A=Math.min(this._bitapScore(0,a),A))),a=-1,g=1,m=[],c=this.patternLen+r,t=0;t<this.patternLen;t++){for(s=0,l=c;s<l;)this._bitapScore(t,o+l)<=A?s=l:c=l,l=Math.floor((c-s)/2+s);for(c=l,u=Math.max(1,o-l+1),d=i?r:Math.min(o+l,r)+this.patternLen,f=Array(d+2),f[d+1]=(1<<t)-1,n=d;n>=u;n--)if(h=this.patternAlphabet[e.charAt(n-1)],h&&(w[n-1]=1),f[n]=(f[n+1]<<1|1)&h,0!==t&&(f[n]|=(p[n+1]|p[n])<<1|1|p[n+1]),f[n]&this.matchmask&&(g=this._bitapScore(t,n-1),g<=A)){if(A=g,a=n-1,m.push(a),a<=o)break;u=Math.max(1,2*o-a)}if(this._bitapScore(t+1,o)>A)break;p=f}return y=this._getMatchedIndices(w),{isMatch:a>=0,score:0===g?.001:g,matchedIndices:y}},A.prototype._getMatchedIndices=function(e){for(var t,n=[],r=-1,i=-1,o=0,A=e.length;o<A;o++)t=e[o],t&&r===-1?r=o:t||r===-1||(i=o-1,i-r+1>=this.options.minMatchCharLength&&n.push([r,i]),r=-1);return e[o-1]&&o-1-r+1>=this.options.minMatchCharLength&&n.push([r,o-1]),n},e.exports=r}(this)},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var A in r)o.call(r,A)&&r[A]&&e.push(A)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),s=n(26),l=r(s),c=function(){function e(){o(this,e),this.store=(0,a.createStore)(l.default,window.devToolsExtension?window.devToolsExtension():void 0)}return A(e,[{key:"getState",value:function(){return this.store.getState()}},{key:"dispatch",value:function(e){this.store.dispatch(e)}},{key:"subscribe",value:function(e){this.store.subscribe(e)}},{key:"isLoading",value:function(){var e=this.store.getState();return e.general.loading}},{key:"getItems",value:function(){var e=this.store.getState();return e.items}},{key:"getItemsFilteredByActive",value:function(){var e=this.getItems(),t=e.filter(function(e){return e.active===!0},[]);return t}},{key:"getItemsReducedToValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getItems(),t=e.reduce(function(e,t){return e.push(t.value),e},[]);return t}},{key:"getChoices",value:function(){var e=this.store.getState();return e.choices}},{key:"getChoicesFilteredByActive",value:function(){var e=this.getChoices(),t=e.filter(function(e){return e.active===!0});return t}},{key:"getChoicesFilteredBySelectable",value:function(){var e=this.getChoices(),t=e.filter(function(e){return e.disabled!==!0});return t}},{key:"getSearchableChoices",value:function(){var e=this.getChoicesFilteredBySelectable();return e.filter(function(e){return e.placeholder!==!0})}},{key:"getChoiceById",value:function(e){if(e){var t=this.getChoicesFilteredByActive(),n=t.find(function(t){return t.id===parseInt(e,10)});return n}return!1}},{key:"getGroups",value:function(){var e=this.store.getState();return e.groups}},{key:"getGroupsFilteredByActive",value:function(){var e=this.getGroups(),t=this.getChoices(),n=e.filter(function(e){var n=e.active===!0&&e.disabled===!1,r=t.some(function(e){return e.active===!0&&e.disabled===!1});return n&&r},[]);return n}},{key:"getGroupById",value:function(e){var t=this.getGroups(),n=t.find(function(t){return t.id===e});return n}},{key:"getPlaceholderChoice",value:function(){var e=this.getChoices(),t=[].concat(i(e)).reverse().find(function(e){return e.placeholder===!0});return t}}]),e}();t.default=c,e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(6),o=r(i),A=n(21),a=r(A),s=n(23),l=r(s),c=n(24),u=r(c),d=n(25),f=r(d),p=n(22);r(p),t.createStore=o.default,t.combineReducers=a.default,t.bindActionCreators=l.default,t.applyMiddleware=u.default,t.compose=f.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(){m===g&&(m=g.slice())}function o(){return h}function a(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!(0,A.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,h=p(h,e)}finally{v=!1}for(var t=g=m,n=0;n<t.length;n++){var r=t[n];r()}return e}function u(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");p=e,c({type:l.INIT})}function d(){var e,t=a;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[s.default]=function(){return this},e}var f;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var p=e,h=t,g=[],m=g,v=!1;return c({type:l.INIT}),f={dispatch:c,subscribe:a,getState:o,replaceReducer:u},f[s.default]=d,f}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var o=n(7),A=r(o),a=n(17),s=r(a),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!A(e)||i(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(8),o=n(14),A=n(16),a="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){function r(e){return null==e?void 0===e?s:a:l&&l in Object(e)?o(e):A(e)}var i=n(9),o=n(12),A=n(13),a="[object Null]",s="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=r},function(e,t,n){var r=n(10),i=r.Symbol;e.exports=i},function(e,t,n){var r=n(11),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=A.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}var i=n(9),o=Object.prototype,A=o.hasOwnProperty,a=o.toString,s=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t,n){var r=n(15),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(18)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,A=n(20),a=i(A);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var s=(0,a.default)(o);t.default=s}).call(t,function(){return this}(),n(19)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:a.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.")})}function A(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var A=t[r];"function"==typeof e[A]&&(n[A]=e[A])}var a=Object.keys(n),s=void 0;try{o(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,o={},A=0;A<a.length;A++){var l=a[A],c=n[l],u=e[l],d=c(u,t);if("undefined"==typeof d){var f=i(l,t);throw new Error(f)}o[l]=d,r=r||d!==u}return r?o:e}}t.__esModule=!0,t.default=A;var a=n(6),s=n(7),l=(r(s),n(22));r(l)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var A=r[o],a=e[A];"function"==typeof a&&(i[A]=n(a,t))}return i}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var A=e(n,r,i),s=A.dispatch,l=[],c={getState:A.getState,dispatch:function(e){return s(e)}};return l=t.map(function(e){return e(c)}),s=a.default.apply(void 0,l)(A.dispatch),o({},A,{dispatch:s})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var A=n(25),a=r(A)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(27),A=r(o),a=n(28),s=r(a),l=n(29),c=r(l),u=n(30),d=r(u),f=(0,i.combineReducers)({items:A.default,groups:s.default,choices:c.default,general:d.default}),p=function(e,t){var n=e;return"CLEAR_ALL"===t.type&&(n=void 0),f(n,t)};t.default=p},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_ITEM":var r=[].concat(n(e),[{id:t.id,choiceId:t.choiceId,groupId:t.groupId,value:t.value,label:t.label,active:!0,highlighted:!1,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);return r.map(function(e){return e.highlighted&&(e.highlighted=!1),e});case"REMOVE_ITEM":return e.map(function(e){return e.id===t.id&&(e.active=!1),e});case"HIGHLIGHT_ITEM":return e.map(function(e){return e.id===t.id&&(e.highlighted=t.highlighted),e});default:return e}};t.default=r},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_GROUP":return[].concat(n(e),[{id:t.id,value:t.value,active:t.active,disabled:t.disabled}]);case"CLEAR_CHOICES":return e.groups=[];default:return e}};t.default=r},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];switch(t.type){case"ADD_CHOICE":return[].concat(n(e),[{id:t.id,elementId:t.elementId,groupId:t.groupId,value:t.value,label:t.label||t.value,disabled:t.disabled||!1,selected:!1,active:!0,score:9999,customProperties:t.customProperties,placeholder:t.placeholder||!1,keyCode:null}]);case"ADD_ITEM":var r=e;return t.activateOptions&&(r=e.map(function(e){return e.active=t.active,e})),t.choiceId>-1&&(r=e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!0),e})),r;case"REMOVE_ITEM":return t.choiceId>-1?e.map(function(e){return e.id===parseInt(t.choiceId,10)&&(e.selected=!1),e}):e;case"FILTER_CHOICES":var i=t.results,o=e.map(function(e){return e.active=i.some(function(t){return t.item.id===e.id&&(e.score=t.score,!0)}),e});return o;case"ACTIVATE_CHOICES":return e.map(function(e){return e.active=t.active,e});case"CLEAR_CHOICES":return e.choices=[];default:return e}};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1},t=arguments[1];switch(t.type){case"LOADING":return{loading:t.isLoading};default:return e}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addItem=function(e,t,n,r,i,o,A,a){return{type:"ADD_ITEM",value:e,label:t,id:n,choiceId:r,groupId:i,customProperties:o,placeholder:A,keyCode:a}},t.removeItem=function(e,t){return{type:"REMOVE_ITEM",id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:"HIGHLIGHT_ITEM",id:e,highlighted:t}},t.addChoice=function(e,t,n,r,i,o,A,a,s){return{type:"ADD_CHOICE",value:e,label:t,id:n,groupId:r,disabled:i,elementId:o,customProperties:A,placeholder:a,keyCode:s}},t.filterChoices=function(e){return{type:"FILTER_CHOICES",results:e}},t.activateChoices=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ACTIVATE_CHOICES",active:e}},t.clearChoices=function(){return{type:"CLEAR_CHOICES"}},t.addGroup=function(e,t,n,r){return{type:"ADD_GROUP",value:e,id:t,active:n,disabled:r}},t.clearAll=function(){return{type:"CLEAR_ALL"}},t.setIsLoading=function(e){return{type:"LOADING",isLoading:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=(t.capitalise=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},t.generateChars=function(e){for(var t="",n=0;n<e;n++){var r=s(0,36);t+=r.toString(36)}return t}),i=(t.generateId=function(e,t){var n=e.id||e.name&&e.name+"-"+r(2)||r(4);return n=n.replace(/(:|\.|\[|\]|,)/g,""),n=t+n},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)}),o=t.isType=function(e,t){var n=i(t);return void 0!==t&&null!==t&&n===e},A=(t.isNode=function(e){return"object"===("undefined"==typeof Node?"undefined":n(Node))?e instanceof Node:e&&"object"===("undefined"==typeof e?"undefined":n(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName;
},t.isElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?e instanceof HTMLElement:e&&"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},t.extend=function e(){for(var t={},n=arguments.length,r=function(n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o("Object",n[r])?t[r]=e(!0,t[r],n[r]):t[r]=n[r])},i=0;i<n;i++){var A=arguments[i];o("Object",A)&&r(A)}return t},t.whichTransitionEvent=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]},t.whichAnimationEvent=function(){var e,t=document.createElement("fakeelement"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}),a=(t.getParentsUntil=function(e,t,n){for(var r=[];e&&e!==document;e=e.parentNode){if(t){var i=t.charAt(0);if("."===i&&e.classList.contains(t.substr(1)))break;if("#"===i&&e.id===t.substr(1))break;if("["===i&&e.hasAttribute(t.substr(1,t.length-1)))break;if(e.tagName.toLowerCase()===t)break}if(n){var o=n.charAt(0);"."===o&&e.classList.contains(n.substr(1))&&r.push(e),"#"===o&&e.id===n.substr(1)&&r.push(e),"["===o&&e.hasAttribute(n.substr(1,n.length-1))&&r.push(e),e.tagName.toLowerCase()===n&&r.push(e)}else r.push(e)}return 0===r.length?null:r},t.wrap=function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},t.getSiblings=function(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t},t.findAncestor=function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e},t.findAncestorByAttrName=function(e,t){for(var n=e;n;){if(n.hasAttribute(t))return n;n=n.parentElement}return null},t.debounce=function(e,t,n){var r;return function(){var i=this,o=arguments,A=function(){r=null,n||e.apply(i,o)},a=n&&!r;clearTimeout(r),r=setTimeout(A,t),a&&e.apply(i,o)}},t.getElemDistance=function(e){var t=0;if(e.offsetParent)do t+=e.offsetTop,e=e.offsetParent;while(e);return t>=0?t:0},t.getElementOffset=function(e,t){var n=t;return n>1&&(n=1),n>0&&(n=0),Math.max(e.offsetHeight*n)},t.getAdjacentEl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e&&t){var r=e.parentNode.parentNode,i=Array.from(r.querySelectorAll(t)),o=i.indexOf(e),A=n>0?1:-1;return i[o+A]}},t.getScrollPosition=function(e){return"bottom"===e?Math.max((window.scrollY||window.pageYOffset)+(window.innerHeight||document.documentElement.clientHeight)):window.scrollY||window.pageYOffset},t.isInView=function(e,t,n){return this.getScrollPosition(t)>this.getElemDistance(e)+this.getElementOffset(e,n)},t.isScrolledIntoView=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var r=void 0;return r=n>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop}},t.stripHTML=function(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&rt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}),s=(t.addAnimation=function(e,t){var n=A(),r=function r(){e.classList.remove(t),e.removeEventListener(n,r,!1)};e.classList.add(t),e.addEventListener(n,r,!1)},t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)}),l=t.strToEl=function(){var e=document.createElement("div");return function(t){var n=t.trim(),r=void 0;for(e.innerHTML=n,r=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return r}}();t.getWidthOfInput=function(e){var t=e.value||e.placeholder,n=e.offsetWidth;if(t){var r=l("<span>"+a(t)+"</span>");if(r.style.position="absolute",r.style.padding="0",r.style.top="-9999px",r.style.left="-9999px",r.style.width="auto",r.style.whiteSpace="pre",document.body.contains(e)&&window.getComputedStyle){var i=window.getComputedStyle(e);i&&(r.style.fontSize=i.fontSize,r.style.fontFamily=i.fontFamily,r.style.fontWeight=i.fontWeight,r.style.fontStyle=i.fontStyle,r.style.letterSpacing=i.letterSpacing,r.style.textTransform=i.textTransform,r.style.padding=i.padding)}document.body.appendChild(r),t&&r.offsetWidth!==e.offsetWidth&&(n=r.offsetWidth+4),document.body.removeChild(r)}return n+"px"},t.sortByAlpha=function(e,t){var n=(e.label||e.value).toLowerCase(),r=(t.label||t.value).toLowerCase();return n<r?-1:n>r?1:0},t.sortByScore=function(e,t){return e.score-t.score},t.triggerEvent=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0});return e.dispatchEvent(r)}},function(e,t){"use strict";!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},r=Math.pow(2,53)-1,i=function(e){var t=n(e);return Math.min(Math.max(t,0),r)};return function(e){var n=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,A=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof A){if(!t(A))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,s=i(r.length),l=t(n)?Object(new n(s)):new Array(s),c=0;c<s;)a=r[c],A?l[c]="undefined"==typeof o?A(a,c):A.call(o,a,c):l[c]=a,c+=1;return l.length=s,l}}()),Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;o<r;o++)if(t=n[o],e.call(i,t,o,n))return t}),e.prototype=window.Event.prototype,window.CustomEvent=e}()}])})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return e?e instanceof HTMLElement?e:e instanceof NodeList?e[0]:"string"==typeof e?document.querySelector(e):e.jquery?e.get(0):n?t:null:t}function A(e){var t=e.getContext("2d"),n=+e.width,r=+e.height,i=t.createLinearGradient(1,1,1,r-1);return i.addColorStop(0,"white"),i.addColorStop(1,"black"),{setHue:function(e){var o=t.createLinearGradient(0,0,n-1,0);o.addColorStop(0,"hsla("+e+", 100%, 50%, 0)"),o.addColorStop(1,"hsla("+e+", 100%, 50%, 1)"),t.fillStyle=i,t.fillRect(0,0,n,r),t.fillStyle=o,t.globalCompositeOperation="multiply",t.fillRect(0,0,n,r),t.globalCompositeOperation="source-over"},grabColor:function(e,n){return t.getImageData(e,n,1,1).data},findColor:function(e,i,o){for(var A=4*n,a=5,s=t.getImageData(0,0,n,r).data,l=[-1,-1],c=0;c<s.length;c+=4)if(Math.abs(s[c]-e)<=a&&Math.abs(s[c+1]-i)<=a&&Math.abs(s[c+2]-o)<=a){l=[c%A/4,Math.floor(c/A)];break}return l}}}function a(e){if(e){var t=g.COLOR_NAMES[e.toString().toLowerCase()],n=/^\s*#?((([0-9A-F])([0-9A-F])([0-9A-F]))|(([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})))\s*$/i.exec(t||e)||[],r=h(n,10),i=r[3],o=r[4],A=r[5],a=r[7],s=r[8],l=r[9];if(void 0!==i)return[parseInt(i+i,16),parseInt(o+o,16),parseInt(A+A,16)];if(void 0!==a)return[parseInt(a,16),parseInt(s,16),parseInt(l,16)]}}function s(e){if(e){var t=/^rgb\((\d+),(\d+),(\d+)\)/i.exec(e)||[],n=h(t,4),r=n[0],i=n[1],o=n[2],A=n[3];return r?[(0,g.limit)(i,0,255),(0,g.limit)(o,0,255),(0,g.limit)(A,0,255)]:void 0}}function l(e){if(e){var t=/^rgba\((\d+),(\d+),(\d+),(\d*(.\d+)?)\)/i.exec(e)||[],n=h(t,5),r=n[0],i=n[1],o=n[2],A=n[3],a=n[4];return r?[(0,g.limit)(i,0,255),(0,g.limit)(o,0,255),(0,g.limit)(A,0,255),(0,g.limit)(a,0,1)]:void 0}}function c(e){return Array.isArray(e)?e=[(0,g.limit)(e[0],0,255),(0,g.limit)(e[1],0,255),(0,g.limit)(e[2],0,255)]:a(e)||s(e)}function u(e){if(Array.isArray(e))return e=[(0,g.limit)(e[0],0,255),(0,g.limit)(e[1],0,255),(0,g.limit)(e[2],0,255),(0,g.limit)((0,g.nvl)(e[3],1),0,1)];var t=a(e)||s(e)||l(e);return t&&3===t.length&&t.push(1),t}function d(e,t,n,r){r&&"function"==typeof r?t["on"+n]=function(){r.call.apply(r,[null,e].concat(Array.prototype.slice.call(arguments)))}:t["on"+n]=null}function f(e){var t=new I(e),n={};return{get picker(){return t},get element(){return t.element},get rgb(){return[t.R,t.G,t.B]},set rgb(e){var n=h(e,3),r=n[0],i=n[1],o=n[2],A=[(0,g.limit)(r,0,255),(0,g.limit)(i,0,255),(0,g.limit)(o,0,255)];r=A[0],i=A[1],o=A[2],t.onValueChanged(S,[r,i,o,1])},get hsl(){return[t.H,t.S,t.L]},set hsl(e){var n=h(e,3),r=n[0],i=n[1],o=n[2],A=[(0,g.limit)(r,0,360),(0,g.limit)(i,0,100),(0,g.limit)(o,0,100)];r=A[0],i=A[1],o=A[2],t.onValueChanged(N,[r,i,o,1])},get rgbhex(){return(0,g.rgbToHex)(t.R,t.G,t.B)},get rgba(){return[t.R,t.G,t.B,t.A]},set rgba(e){var n=h(e,4),r=n[0],i=n[1],o=n[2],A=n[3],a=[(0,g.limit)(r,0,255),(0,g.limit)(i,0,255),(0,g.limit)(o,0,255),(0,g.limit)(A,0,1)];r=a[0],i=a[1],o=a[2],A=a[3],t.onValueChanged(S,[r,i,o,A])},get hsla(){return[t.H,t.S,t.L,t.A]},set hsla(e){var n=h(e,4),r=n[0],i=n[1],o=n[2],A=n[3],a=[(0,g.limit)(r,0,360),(0,g.limit)(i,0,100),(0,g.limit)(o,0,100),(0,g.limit)(A,0,1)];r=a[0],i=a[1],o=a[2],A=a[3],t.onValueChanged(N,[r,i,o,A])},get color(){return 1===t.A?this.rgbhex:"rgba("+t.R+","+t.G+","+t.B+","+t.A+")"},set color(e){t.onValueChanged(T,e)},get onchange(){return n.change},set onchange(e){d(this,t,"change",e),n.change=e},get oncoloradd(){return n.coloradd},set oncoloradd(e){d(this,t,"coloradd",e),n.coloradd=e},get oncolorremove(){return n.colorremove},set oncolorremove(e){d(this,t,"colorremove",e),n.colorremove=e}}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var A,a=e[Symbol.iterator]();!(r=(A=a.next()).done)&&(n.push(A.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=n(17),m=window.navigator.userAgent.indexOf("Edge")>-1,v=window.navigator.userAgent.indexOf("rv:")>-1,B={attachTo:"body",showHSL:!0,showRGB:!0,showHEX:!0,showAlpha:!1,color:"#ff0000",palette:null,paletteEditable:!1},w=[200,150],y=[150,16],b=y,E="H",C="S",Q="L",U="RGB",F="R",_="G",H="B",x="RGBHEX",T="COLOR",S="RGBA_USER",N="HSLA_USER",k="ALPHA",O='<div class="a-color-picker-row a-color-picker-stack">\n                            <canvas class="a-color-picker-sl a-color-picker-transparent"></canvas>\n                            <div class="a-color-picker-dot"></div>\n                        </div>\n                        <div class="a-color-picker-row">\n                            <div class="a-color-picker-stack a-color-picker-transparent a-color-picker-circle">\n                                <div class="a-color-picker-preview">\n                                    <input class="a-color-picker-clipbaord" type="text">\n                                </div>\n                            </div>\n                            <div class="a-color-picker-column">\n                                <div class="a-color-picker-cell a-color-picker-stack">\n                                    <canvas class="a-color-picker-h"></canvas>\n                                    <div class="a-color-picker-dot"></div>\n                                </div>\n                                <div class="a-color-picker-cell a-color-picker-stack" show-on-alpha>\n                                    <canvas class="a-color-picker-a a-color-picker-transparent"></canvas>\n                                    <div class="a-color-picker-dot"></div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="a-color-picker-row a-color-picker-hsl" show-on-hsl>\n                            <label>H</label>\n                            <input name="H" type="number" maxlength="3" min="0" max="360" value="0">\n                            <label>S</label>\n                            <input name="S" type="number" maxlength="3" min="0" max="100" value="0">\n                            <label>L</label>\n                            <input name="L" type="number" maxlength="3" min="0" max="100" value="0">\n                        </div>\n                        <div class="a-color-picker-row a-color-picker-rgb" show-on-rgb>\n                            <label>R</label>\n                            <input name="R" type="number" maxlength="3" min="0" max="255" value="0">\n                            <label>G</label>\n                            <input name="G" type="number" maxlength="3" min="0" max="255" value="0">\n                            <label>B</label>\n                            <input name="B" type="number" maxlength="3" min="0" max="255" value="0">\n                        </div>\n                        <div class="a-color-picker-row a-color-picker-single-input" show-on-single-input>\n                            <label>HEX</label>\n                            <input name="RGBHEX" type="text" select-on-focus>\n                        </div>\n                        <div class="a-color-picker-row a-color-picker-palette"></div>',I=function(){function e(t){i(this,e);var n=o(t);if(n?this.options=Object.assign({},B,{attachTo:t}):(this.options=Object.assign({},B,t),n=o(this.options.attachTo)),!n)throw"Container not found: "+this.options.attachTo;this.H=0,this.S=0,this.L=0,this.R=0,this.G=0,this.B=0,this.A=1,this.element=document.createElement("div"),this.element.className="a-color-picker",this.options.showRGB||(this.element.className+=" hide-rgb"),this.options.showHSL||(this.element.className+=" hide-hsl"),this.options.showHEX||(this.element.className+=" hide-single-input"),this.options.showAlpha||(this.element.className+=" hide-alpha"),this.element.innerHTML=O,n.appendChild(this.element);var r=this.element.querySelector(".a-color-picker-h");this.setupHueCanvas(r),this.hueBarHelper=A(r),this.huePointer=this.element.querySelector(".a-color-picker-h+.a-color-picker-dot");var a=this.element.querySelector(".a-color-picker-sl");this.setupSlCanvas(a),this.slBarHelper=A(a),this.slPointer=this.element.querySelector(".a-color-picker-sl+.a-color-picker-dot"),this.preview=this.element.querySelector(".a-color-picker-preview"),this.setupClipboard(this.preview.querySelector(".a-color-picker-clipbaord")),this.setupInput(this.inputH=this.element.querySelector(".a-color-picker-hsl>input[name=H]")),this.setupInput(this.inputS=this.element.querySelector(".a-color-picker-hsl>input[name=S]")),this.setupInput(this.inputL=this.element.querySelector(".a-color-picker-hsl>input[name=L]")),this.setupInput(this.inputR=this.element.querySelector(".a-color-picker-rgb>input[name=R]")),this.setupInput(this.inputG=this.element.querySelector(".a-color-picker-rgb>input[name=G]")),this.setupInput(this.inputB=this.element.querySelector(".a-color-picker-rgb>input[name=B]")),this.setupInput(this.inputRGBHEX=this.element.querySelector("input[name=RGBHEX]")),this.setPalette(this.element.querySelector(".a-color-picker-palette")),this.setupAlphaCanvas(this.element.querySelector(".a-color-picker-a")),this.alphaPointer=this.element.querySelector(".a-color-picker-a+.a-color-picker-dot"),this.onValueChanged(T,this.options.color)}return p(e,[{key:"setupHueCanvas",value:function(e){var t=this;e.width=y[0],e.height=y[1];for(var n=e.getContext("2d"),r=n.createLinearGradient(0,0,y[0],0),i=1/360,o=0;o<=1;o+=i)r.addColorStop(o,"hsl("+360*o+", 100%, 50%)");n.fillStyle=r,n.fillRect(0,0,y[0],y[1]);var A=function(n){var r=(0,g.limit)(n.clientX-e.getBoundingClientRect().left,0,y[0]),i=Math.round(360*r/y[0]);t.huePointer.style.left=r-7+"px",t.onValueChanged(E,i)},a=function e(){document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",e)};e.addEventListener("mousedown",function(e){A(e),document.addEventListener("mousemove",A),document.addEventListener("mouseup",a)})}},{key:"setupSlCanvas",value:function(e){var t=this;e.width=w[0],e.height=w[1];var n=function(n){var r=(0,g.limit)(n.clientX-e.getBoundingClientRect().left,0,w[0]-1),i=(0,g.limit)(n.clientY-e.getBoundingClientRect().top,0,w[1]-1),o=t.slBarHelper.grabColor(r,i);t.slPointer.style.left=r-7+"px",t.slPointer.style.top=i-7+"px",t.onValueChanged(U,o)},r=function e(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e)};e.addEventListener("mousedown",function(e){n(e),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)})}},{key:"setupAlphaCanvas",value:function(e){var t=this;e.width=b[0],e.height=b[1];var n=e.getContext("2d"),r=n.createLinearGradient(0,0,e.width-1,0);r.addColorStop(0,"hsla(0, 0%, 50%, 0)"),r.addColorStop(1,"hsla(0, 0%, 50%, 1)"),n.fillStyle=r,n.fillRect(0,0,b[0],b[1]);var i=function(n){var r=(0,g.limit)(n.clientX-e.getBoundingClientRect().left,0,b[0]),i=+(r/b[0]).toFixed(2);t.alphaPointer.style.left=r-7+"px",t.onValueChanged(k,i)},o=function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)};e.addEventListener("mousedown",function(e){i(e),document.addEventListener("mousemove",i),document.addEventListener("mouseup",o)})}},{key:"setupInput",value:function(e){var t=this,n=+e.min,r=+e.max,i=e.name;e.hasAttribute("select-on-focus")&&e.addEventListener("focus",function(){e.select()}),"text"===e.type?e.addEventListener("change",function(){t.onValueChanged(i,e.value)}):((m||v)&&e.addEventListener("keydown",function(o){"Up"===o.key?(e.value=(0,g.limit)(+e.value+1,n,r),t.onValueChanged(i,e.value),o.returnValue=!1):"Down"===o.key&&(e.value=(0,g.limit)(+e.value-1,n,r),t.onValueChanged(i,e.value),o.returnValue=!1)}),e.addEventListener("change",function(){var o=+e.value;t.onValueChanged(i,(0,g.limit)(o,n,r))}))}},{key:"setupClipboard",value:function(e){var t=this;e.title="click to copy",e.addEventListener("click",function(n){e.value=(0,g.rgbToHex)(t.R,t.G,t.B),e.select(),document.execCommand("copy")})}},{key:"setPalette",value:function(e){var t=this,n=(0,g.ensureArray)(this.options.palette);if(this.options.paletteEditable||n.length>0){var i=function(n,r,i){var o=e.querySelector('.a-color-picker-palette-color[data-color="'+n+'"]')||document.createElement("div");o.className="a-color-picker-palette-color",o.style.backgroundColor=n,o.setAttribute("data-color",n),o.title=n,e.insertBefore(o,r),i&&t.onPaletteColorAdd(n)},o=function(n,r){n?(e.removeChild(n),r&&t.onPaletteColorRemove(n.getAttribute("data-color"))):(e.querySelectorAll(".a-color-picker-palette-color[data-color]").forEach(function(t){e.removeChild(t)}),r&&t.onPaletteColorRemove())};if(n.map(function(e){return e&&c(e)}).filter(function(e){return!!e}).forEach(function(e){return i(g.rgbToHex.apply(void 0,r(e)))}),this.options.paletteEditable){var A=document.createElement("div");A.className="a-color-picker-palette-color a-color-picker-palette-add",A.innerHTML="+",e.appendChild(A)}e.addEventListener("click",function(e){/a-color-picker-palette-add/.test(e.target.className)?e.shiftKey?o(null,!0):i((0,g.rgbToHex)(t.R,t.G,t.B),e.target,!0):/a-color-picker-palette-color/.test(e.target.className)&&(e.shiftKey?o(e.target,!0):t.onValueChanged(T,e.target.getAttribute("data-color")))})}else e.style.display="none"}},{key:"onValueChanged",value:function(e,t){switch(e){case E:this.H=t;var n=(0,g.hslToRgb)(this.H,this.S,this.L),r=h(n,3);this.R=r[0],this.G=r[1],this.B=r[2],this.slBarHelper.setHue(t),this.updatePointerH(this.H),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case C:this.S=t;var i=(0,g.hslToRgb)(this.H,this.S,this.L),o=h(i,3);this.R=o[0],this.G=o[1],this.B=o[2],this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case Q:this.L=t;var A=(0,g.hslToRgb)(this.H,this.S,this.L),s=h(A,3);this.R=s[0],this.G=s[1],this.B=s[2],this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case F:this.R=t;var l=(0,g.rgbToHsl)(this.R,this.G,this.B),c=h(l,3);this.H=c[0],this.S=c[1],this.L=c[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case _:this.G=t;var d=(0,g.rgbToHsl)(this.R,this.G,this.B),f=h(d,3);this.H=f[0],this.S=f[1],this.L=f[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case H:this.B=t;var p=(0,g.rgbToHsl)(this.R,this.G,this.B),m=h(p,3);this.H=m[0],this.S=m[1],this.L=m[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case U:var v=h(t,3);this.R=v[0],this.G=v[1],this.B=v[2];var B=(0,g.rgbToHsl)(this.R,this.G,this.B),w=h(B,3);this.H=w[0],this.S=w[1],this.L=w[2],this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case S:var y=h(t,4);this.R=y[0],this.G=y[1],this.B=y[2],this.A=y[3];var b=(0,g.rgbToHsl)(this.R,this.G,this.B),O=h(b,3);this.H=O[0],this.S=O[1],this.L=O[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case N:var I=h(t,4);this.H=I[0],this.S=I[1],this.L=I[2],this.A=I[3];var L=(0,g.hslToRgb)(this.H,this.S,this.L),D=h(L,3);this.R=D[0],this.G=D[1],this.B=D[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case x:var M=a(t)||[this.R,this.G,this.B],K=h(M,3);this.R=K[0],this.G=K[1],this.B=K[2];var R=(0,g.rgbToHsl)(this.R,this.G,this.B),P=h(R,3);this.H=P[0],this.S=P[1],this.L=P[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B);break;case T:var z=u(t)||[0,0,0,1],j=h(z,4);this.R=j[0],this.G=j[1],this.B=j[2],this.A=j[3];var V=(0,g.rgbToHsl)(this.R,this.G,this.B),G=h(V,3);this.H=G[0],this.S=G[1],this.L=G[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case k:this.A=t}this.onColorChanged(this.R,this.G,this.B,this.A)}},{key:"onColorChanged",value:function(e,t,n,r){1===r?this.preview.style.backgroundColor="rgb("+e+","+t+","+n+")":this.preview.style.backgroundColor="rgba("+e+","+t+","+n+","+r+")",this.onchange&&this.onchange()}},{key:"onPaletteColorAdd",value:function(e){this.oncoloradd&&this.oncoloradd(e)}},{key:"onPaletteColorRemove",value:function(e){this.oncolorremove&&this.oncolorremove(e)}},{key:"updateInputHSL",value:function(e,t,n){this.inputH.value=e,this.inputS.value=t,this.inputL.value=n}},{key:"updateInputRGB",value:function(e,t,n){this.inputR.value=e,this.inputG.value=t,this.inputB.value=n}},{key:"updateInputRGBHEX",value:function(e,t,n){this.inputRGBHEX.value=(0,g.rgbToHex)(e,t,n)}},{key:"updatePointerH",value:function(e){var t=y[0]*e/360;this.huePointer.style.left=t-7+"px"}},{key:"updatePointerSL",value:function(e,t,n){var r=(0,g.hslToRgb)(e,t,n),i=h(r,3),o=i[0],A=i[1],a=i[2],s=this.slBarHelper.findColor(o,A,a),l=h(s,2),c=l[0],u=l[1];c>=0&&(this.slPointer.style.left=c-7+"px",this.slPointer.style.top=u-7+"px")}},{key:"updatePointerA",value:function(e){var t=b[0]*e;this.alphaPointer.style.left=t-7+"px"}}]),e}();t.default={createPicker:f,parseColorToRgb:c,parseColorToRgba:u,rgbToHex:g.rgbToHex,hslToRgb:g.hslToRgb,rgbToHsl:g.rgbToHsl,rgbToInt:g.rgbToInt,intToRgb:g.intToRgb,COLOR_NAMES:g.COLOR_NAMES,PALETTE_MATERIAL_500:g.PALETTE_MATERIAL_500,PALETTE_MATERIAL_CHROME:g.PALETTE_MATERIAL_CHROME},e.exports=t.default},function(e,t){"use strict";function n(e,t,n){return e=+e,isNaN(e)?t:e<t?t:e>n?n:e}function r(e,t){return null===e||void 0===e?t:e}function i(e){return e?Array.from(e):[]}function o(e,t,r){var i=[n(e,0,255),n(t,0,255),n(r,0,255)];return e=i[0],t=i[1],r=i[2],"#"+("000000"+(e<<16|t<<8|r).toString(16)).slice(-6)}function A(e,t,r){var i=void 0,o=void 0,A=void 0,a=[n(e,0,360)/360,n(t,0,100)/100,n(r,0,100)/100];if(e=a[0],t=a[1],r=a[2],0==t)i=o=A=r;else{var s=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=s(c,l,e+1/3),o=s(c,l,e),A=s(c,l,e-1/3)}return[255*i,255*o,255*A].map(Math.round)}function a(e,t,r){var i=[n(e,0,255)/255,n(t,0,255)/255,n(r,0,255)/255];e=i[0],t=i[1],r=i[2];var o=Math.max(e,t,r),A=Math.min(e,t,r),a=void 0,s=void 0,l=(o+A)/2;if(o==A)a=s=0;else{var c=o-A;switch(s=l>.5?c/(2-o-A):c/(o+A),o){case e:a=(t-r)/c+(t<r?6:0);break;case t:a=(r-e)/c+2;break;case r:a=(e-t)/c+4}a/=6}return[360*a,100*s,100*l].map(Math.round)}function s(e,t,n){return e<<16|t<<8|n}function l(e){return[e>>16&255,e>>8&255,255&e]}Object.defineProperty(t,"__esModule",{value:!0});var c={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4","indianred ":"#CD5C5C","indigo ":"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},u=["#F44336","#E91E63","#E91E63","#9C27B0","#9C27B0","#673AB7","#673AB7","#3F51B5","#3F51B5","#2196F3","#2196F3","#03A9F4","#03A9F4","#00BCD4","#00BCD4","#009688","#009688","#4CAF50","#4CAF50","#8BC34A","#8BC34A","#CDDC39","#CDDC39","#FFEB3B","#FFEB3B","#FFC107","#FFC107","#FF9800","#FF9800","#FF5722","#FF5722","#795548","#795548","#9E9E9E","#9E9E9E","#607D8B","#607D8B"],d=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"];t.COLOR_NAMES=c,t.PALETTE_MATERIAL_500=u,t.PALETTE_MATERIAL_CHROME=d,t.rgbToHex=o,t.hslToRgb=A,t.rgbToHsl=a,t.rgbToInt=s,t.intToRgb=l,t.limit=n,t.ensureArray=i,t.nvl=r},function(e,t,n){var r,i,o;/*! nouislider - 11.1.0 - 2018-04-02 11:18:13 */
!function(n){i=[],r=n,o="function"==typeof r?r.apply(t,i):r,!(void 0!==o&&(e.exports=o))}(function(){"use strict";function e(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}function t(e){e.parentElement.removeChild(e)}function n(e){return null!==e&&void 0!==e}function r(e){e.preventDefault()}function i(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function o(e,t){return Math.round(e/t)*t}function A(e,t){var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.documentElement,o=h(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?n.top+o.y-i.clientTop:n.left+o.x-i.clientLeft}function a(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function s(e,t,n){n>0&&(d(e,t),setTimeout(function(){f(e,t)},n))}function l(e){return Math.max(Math.min(e,100),0)}function c(e){return Array.isArray(e)?e:[e]}function u(e){e=String(e);var t=e.split(".");return t.length>1?t[1].length:0}function d(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function f(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function p(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function h(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||""),r=t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,i=t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:i}}function g(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function m(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}function v(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function B(e,t){return 100/(t-e)}function w(e,t){return 100*t/(e[1]-e[0])}function y(e,t){return w(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function b(e,t){return t*(e[1]-e[0])/100+e[0]}function E(e,t){for(var n=1;e>=t[n];)n+=1;return n}function C(e,t,n){if(n>=e.slice(-1)[0])return 100;var r=E(n,e),i=e[r-1],o=e[r],A=t[r-1],a=t[r];return A+y([i,o],n)/B(A,a)}function Q(e,t,n){if(n>=100)return e.slice(-1)[0];var r=E(n,t),i=e[r-1],o=e[r],A=t[r-1],a=t[r];return b([i,o],(n-A)*B(A,a))}function U(e,t,n,r){if(100===r)return r;var i=E(r,e),A=e[i-1],a=e[i];return n?r-A>(a-A)/2?a:A:t[i-1]?e[i-1]+o(r-e[i-1],t[i-1]):r}function F(e,t,n){var r;if("number"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error("noUiSlider ("+Z+"): 'range' contains invalid value.");if(r="min"===e?0:"max"===e?100:parseFloat(e),!a(r)||!a(t[0]))throw new Error("noUiSlider ("+Z+"): 'range' value isn't numeric.");n.xPct.push(r),n.xVal.push(t[0]),r?n.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(n.xSteps[0]=t[1]),n.xHighestCompleteStep.push(0)}function _(e,t,n){if(!t)return!0;n.xSteps[e]=w([n.xVal[e],n.xVal[e+1]],t)/B(n.xPct[e],n.xPct[e+1]);var r=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],i=Math.ceil(Number(r.toFixed(3))-1),o=n.xVal[e]+n.xNumSteps[e]*i;n.xHighestCompleteStep[e]=o}function H(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var r,i=[];for(r in e)e.hasOwnProperty(r)&&i.push([e[r],r]);for(i.length&&"object"==typeof i[0][0]?i.sort(function(e,t){return e[0][0]-t[0][0]}):i.sort(function(e,t){return e[0]-t[0]}),r=0;r<i.length;r++)F(i[r][1],i[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)_(r,this.xNumSteps[r],this)}function x(t){if(e(t))return!0;throw new Error("noUiSlider ("+Z+"): 'format' requires 'to' and 'from' methods.")}function T(e,t){if(!a(t))throw new Error("noUiSlider ("+Z+"): 'step' is not numeric.");e.singleStep=t}function S(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+Z+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+Z+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+Z+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new H(t,e.snap,e.singleStep)}function N(e,t){if(t=c(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+Z+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function k(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+Z+"): 'snap' option must be a boolean.")}function O(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+Z+"): 'animate' option must be a boolean.")}function I(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider ("+Z+"): 'animationDuration' option must be a number.")}function L(e,t){var n,r=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),t===!0||t===!1){for(n=1;n<e.handles;n++)r.push(t);r.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+Z+"): 'connect' option doesn't match handle count.");r=t}e.connect=r}function D(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+Z+"): 'orientation' option is invalid.")}}function M(e,t){if(!a(t))throw new Error("noUiSlider ("+Z+"): 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider ("+Z+"): 'margin' option is only supported on linear sliders.")}function K(e,t){if(!a(t))throw new Error("noUiSlider ("+Z+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||e.handles<2)throw new Error("noUiSlider ("+Z+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function R(e,t){if(!a(t)&&!Array.isArray(t))throw new Error("noUiSlider ("+Z+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!a(t[0])&&!a(t[1]))throw new Error("noUiSlider ("+Z+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){if(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getMargin(t[0]),e.spectrum.getMargin(t[1])],e.padding[0]===!1||e.padding[1]===!1)throw new Error("noUiSlider ("+Z+"): 'padding' option is only supported on linear sliders.");if(e.padding[0]<0||e.padding[1]<0)throw new Error("noUiSlider ("+Z+"): 'padding' option must be a positive number(s).");if(e.padding[0]+e.padding[1]>=100)throw new Error("noUiSlider ("+Z+"): 'padding' option must not exceed 100% of the range.")}}function P(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+Z+"): 'direction' option was not recognized.")}}function z(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+Z+"): 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,r=t.indexOf("drag")>=0,i=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,A=t.indexOf("hover")>=0;if(i){if(2!==e.handles)throw new Error("noUiSlider ("+Z+"): 'fixed' behaviour must be used with 2 handles");M(e,e.start[1]-e.start[0])}e.events={tap:n||o,drag:r,fixed:i,snap:o,hover:A}}function j(e,t){if(t!==!1)if(t===!0){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=c(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+Z+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+Z+"): 'tooltips' must be passed a formatter or 'false'.")})}}function V(e,t){e.ariaFormat=t,x(t)}function G(e,t){e.format=t,x(t)}function X(e,t){if("string"!=typeof t&&t!==!1)throw new Error("noUiSlider ("+Z+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function J(e,t){if("object"!=typeof t)throw new Error("noUiSlider ("+Z+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function W(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:$,format:$},r={step:{r:!1,t:T},start:{r:!0,t:N},connect:{r:!0,t:L},direction:{r:!0,t:P},snap:{r:!1,t:k},animate:{r:!1,t:O},animationDuration:{r:!1,t:I},range:{r:!0,t:S},orientation:{r:!1,t:D},margin:{r:!1,t:M},limit:{r:!1,t:K},padding:{r:!1,t:R},behaviour:{r:!0,t:z},ariaFormat:{r:!1,t:V},format:{r:!1,t:G},tooltips:{r:!1,t:j},cssPrefix:{r:!0,t:X},cssClasses:{r:!0,t:J}},i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(r).forEach(function(o){if(!n(e[o])&&void 0===i[o]){if(r[o].r)throw new Error("noUiSlider ("+Z+"): '"+o+"' is required.");return!0}r[o].t(t,n(e[o])?e[o]:i[o])}),t.pips=e.pips;var o=document.createElement("div"),A=void 0!==o.style.msTransform,a=void 0!==o.style.transform;t.transformRule=a?"transform":A?"msTransform":"webkitTransform";var s=[["left","top"],["right","bottom"]];return t.style=s[t.dir][t.ort],t}function Y(e,n,o){/*! In this file: Construction of DOM elements; */
function a(e,t){var n=Ce.createElement("div");return t&&d(n,t),e.appendChild(n),n}function u(e,t){var r=a(e,n.cssClasses.origin),i=a(r,n.cssClasses.handle);return i.setAttribute("data-handle",t),i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===t?d(i,n.cssClasses.handleLower):t===n.handles-1&&d(i,n.cssClasses.handleUpper),r}function B(e,t){return!!t&&a(e,n.cssClasses.connect)}function w(e,t){var r=a(t,n.cssClasses.connects);ce=[],ue=[],ue.push(B(r,e[0]));for(var i=0;i<n.handles;i++)ce.push(u(t,i)),Be[i]=i,ue.push(B(r,e[i+1]))}function y(e){d(e,n.cssClasses.target),0===n.dir?d(e,n.cssClasses.ltr):d(e,n.cssClasses.rtl),0===n.ort?d(e,n.cssClasses.horizontal):d(e,n.cssClasses.vertical),le=a(e,n.cssClasses.base)}function b(e,t){return!!n.tooltips[t]&&a(e.firstChild,n.cssClasses.tooltip)}function E(){var e=ce.map(b);P("update",function(t,r,i){if(e[r]){var o=t[r];n.tooltips[r]!==!0&&(o=n.tooltips[r].to(i[r])),e[r].innerHTML=o}})}function C(){P("update",function(e,t,r,i,o){Be.forEach(function(e){var t=ce[e],i=G(ve,e,0,!0,!0,!0),A=G(ve,e,100,!0,!0,!0),a=o[e],s=n.ariaFormat.to(r[e]);t.children[0].setAttribute("aria-valuemin",i.toFixed(1)),t.children[0].setAttribute("aria-valuemax",A.toFixed(1)),t.children[0].setAttribute("aria-valuenow",a.toFixed(1)),t.children[0].setAttribute("aria-valuetext",s)})})}function Q(e,t,n){if("range"===e||"steps"===e)return ye.xVal;if("count"===e){if(t<2)throw new Error("noUiSlider ("+Z+"): 'values' (>= 2) required for mode 'count'.");var r=t-1,i=100/r;for(t=[];r--;)t[r]=r*i;t.push(100),e="positions"}return"positions"===e?t.map(function(e){return ye.fromStepping(n?ye.getStep(e):e)}):"values"===e?n?t.map(function(e){return ye.fromStepping(ye.getStep(ye.toStepping(e)))}):t:void 0}function U(e,t,n){function r(e,t){return(e+t).toFixed(7)/1}var o={},A=ye.xVal[0],a=ye.xVal[ye.xVal.length-1],s=!1,l=!1,c=0;return n=i(n.slice().sort(function(e,t){return e-t})),n[0]!==A&&(n.unshift(A),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(i,A){var a,u,d,f,p,h,g,m,v,B,w=i,y=n[A+1];if("steps"===t&&(a=ye.xNumSteps[A]),a||(a=y-w),w!==!1&&void 0!==y)for(a=Math.max(a,1e-7),u=w;u<=y;u=r(u,a)){for(f=ye.toStepping(u),p=f-c,m=p/e,v=Math.round(m),B=p/v,d=1;d<=v;d+=1)h=c+d*B,o[h.toFixed(5)]=["x",0];g=n.indexOf(u)>-1?1:"steps"===t?2:0,!A&&s&&(g=0),u===y&&l||(o[f.toFixed(5)]=[u,g]),c=f}}),o}function F(e,t,r){function i(e,t){var r=t===n.cssClasses.value,i=r?c:u,o=r?s:l;return t+" "+i[n.ort]+" "+o[e]}function o(e,o){o[1]=o[1]&&t?t(o[0],o[1]):o[1];var s=a(A,!1);s.className=i(o[1],n.cssClasses.marker),s.style[n.style]=e+"%",o[1]&&(s=a(A,!1),s.className=i(o[1],n.cssClasses.value),s.setAttribute("data-value",o[0]),s.style[n.style]=e+"%",s.innerText=r.to(o[0]))}var A=Ce.createElement("div"),s=[n.cssClasses.valueNormal,n.cssClasses.valueLarge,n.cssClasses.valueSub],l=[n.cssClasses.markerNormal,n.cssClasses.markerLarge,n.cssClasses.markerSub],c=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],u=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];return d(A,n.cssClasses.pips),d(A,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){o(t,e[t])}),A}function _(){fe&&(t(fe),fe=null)}function H(e){_();var t=e.mode,n=e.density||1,r=e.filter||!1,i=e.values||!1,o=e.stepped||!1,A=Q(t,i,o),a=U(n,t,A),s=e.format||{to:Math.round};return fe=me.appendChild(F(a,r,s))}/*! In this file: Browser events (not slider events like slide, change); */
function x(){var e=le.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return 0===n.ort?e.width||le[t]:e.height||le[t]}function T(e,t,r,i){var o=function(o){return!!(o=S(o,i.pageOffset,i.target||t))&&(!(me.hasAttribute("disabled")&&!i.doNotReject)&&(!(p(me,n.cssClasses.tap)&&!i.doNotReject)&&(!(e===pe.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(ge||o.preventDefault(),o.calcPoint=o.points[n.ort],void r(o,i))))))},A=[];return e.split(" ").forEach(function(e){t.addEventListener(e,o,!!ge&&{passive:!0}),A.push([e,o])}),A}function S(e,t,n){var r,i,o=0===e.type.indexOf("touch"),A=0===e.type.indexOf("mouse"),a=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(a=!0),o){var s=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var l=Array.prototype.filter.call(e.touches,s);if(l.length>1)return!1;r=l[0].pageX,i=l[0].pageY}else{var c=Array.prototype.find.call(e.changedTouches,s);if(!c)return!1;r=c.pageX,i=c.pageY}}return t=t||h(Ce),(A||a)&&(r=e.clientX+t.x,i=e.clientY+t.y),e.pageOffset=t,e.points=[r,i],e.cursor=A||a,e}function N(e){var t=e-A(le,n.ort),r=100*t/x();return r=l(r),n.dir?100-r:r}function k(e){var t=100,n=!1;return ce.forEach(function(r,i){if(!r.hasAttribute("disabled")){var o=Math.abs(ve[i]-e);(o<t||100===o&&100===t)&&(n=i,t=o)}}),n}function O(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&L(e,t)}function I(e,t){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===e.buttons&&0!==t.buttonsProperty)return L(e,t);var r=(n.dir?-1:1)*(e.calcPoint-t.startCalcPoint),i=100*r/t.baseSize;J(r>0,i,t.locations,t.handleNumbers)}function L(e,t){t.handle&&(f(t.handle,n.cssClasses.active),we-=1),t.listeners.forEach(function(e){Qe.removeEventListener(e[0],e[1])}),0===we&&(f(me,n.cssClasses.drag),$(),e.cursor&&(Ue.style.cursor="",Ue.removeEventListener("selectstart",r))),t.handleNumbers.forEach(function(e){j("change",e),j("set",e),j("end",e)})}function D(e,t){var i;if(1===t.handleNumbers.length){var o=ce[t.handleNumbers[0]];if(o.hasAttribute("disabled"))return!1;i=o.children[0],we+=1,d(i,n.cssClasses.active)}e.stopPropagation();var A=[],a=T(pe.move,Qe,I,{target:e.target,handle:i,listeners:A,startCalcPoint:e.calcPoint,baseSize:x(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:ve.slice()}),s=T(pe.end,Qe,L,{target:e.target,handle:i,listeners:A,doNotReject:!0,handleNumbers:t.handleNumbers}),l=T("mouseout",Qe,O,{target:e.target,handle:i,listeners:A,doNotReject:!0,handleNumbers:t.handleNumbers});A.push.apply(A,a.concat(s,l)),e.cursor&&(Ue.style.cursor=getComputedStyle(e.target).cursor,ce.length>1&&d(me,n.cssClasses.drag),Ue.addEventListener("selectstart",r,!1)),t.handleNumbers.forEach(function(e){j("start",e)})}function M(e){e.stopPropagation();var t=N(e.calcPoint),r=k(t);return r!==!1&&(n.events.snap||s(me,n.cssClasses.tap,n.animationDuration),ee(r,t,!0,!0),$(),j("slide",r,!0),j("update",r,!0),j("change",r,!0),j("set",r,!0),void(n.events.snap&&D(e,{handleNumbers:[r]})))}function K(e){var t=N(e.calcPoint),n=ye.getStep(t),r=ye.fromStepping(n);Object.keys(Ee).forEach(function(e){"hover"===e.split(".")[0]&&Ee[e].forEach(function(e){e.call(de,r)})})}function R(e){e.fixed||ce.forEach(function(e,t){T(pe.start,e.children[0],D,{handleNumbers:[t]})}),e.tap&&T(pe.start,le,M,{}),e.hover&&T(pe.move,le,K,{hover:!0}),e.drag&&ue.forEach(function(t,r){if(t!==!1&&0!==r&&r!==ue.length-1){var i=ce[r-1],o=ce[r],A=[t];d(t,n.cssClasses.draggable),e.fixed&&(A.push(i.children[0]),A.push(o.children[0])),A.forEach(function(e){T(pe.start,e,D,{handles:[i,o],handleNumbers:[r-1,r]})})}})}/*! In this file: Slider events (not browser events); */
function P(e,t){Ee[e]=Ee[e]||[],Ee[e].push(t),"update"===e.split(".")[0]&&ce.forEach(function(e,t){j("update",t)})}function z(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(Ee).forEach(function(e){var r=e.split(".")[0],i=e.substring(r.length);t&&t!==r||n&&n!==i||delete Ee[e]})}function j(e,t,r){Object.keys(Ee).forEach(function(i){var o=i.split(".")[0];e===o&&Ee[i].forEach(function(e){e.call(de,be.map(n.format.to),t,be.slice(),r||!1,ve.slice())})})}/*! In this file: Mechanics for slider operation */
function V(e){return e+"%"}function G(e,t,r,i,o,A){return ce.length>1&&(i&&t>0&&(r=Math.max(r,e[t-1]+n.margin)),o&&t<ce.length-1&&(r=Math.min(r,e[t+1]-n.margin))),ce.length>1&&n.limit&&(i&&t>0&&(r=Math.min(r,e[t-1]+n.limit)),o&&t<ce.length-1&&(r=Math.max(r,e[t+1]-n.limit))),n.padding&&(0===t&&(r=Math.max(r,n.padding[0])),t===ce.length-1&&(r=Math.min(r,100-n.padding[1]))),r=ye.getStep(r),r=l(r),!(r===e[t]&&!A)&&r}function X(e,t){var r=n.ort;return(r?t:e)+", "+(r?e:t)}function J(e,t,n,r){var i=n.slice(),o=[!e,e],A=[e,!e];r=r.slice(),e&&r.reverse(),r.length>1?r.forEach(function(e,n){var r=G(i,e,i[e]+t,o[n],A[n],!1);r===!1?t=0:(t=r-i[e],i[e]=r)}):o=A=[!0];var a=!1;r.forEach(function(e,r){a=ee(e,n[e]+t,o[r],A[r])||a}),a&&r.forEach(function(e){j("update",e),j("slide",e)})}function Y(e,t){return n.dir?100-e-t:e}function q(e,t){ve[e]=t,be[e]=ye.fromStepping(t);var r="translate("+X(V(Y(t,0)-Fe),"0")+")";ce[e].style[n.transformRule]=r,te(e),te(e+1)}function $(){Be.forEach(function(e){var t=ve[e]>50?-1:1,n=3+(ce.length+t*e);ce[e].style.zIndex=n})}function ee(e,t,n,r){return t=G(ve,e,t,n,r,!1),t!==!1&&(q(e,t),!0)}function te(e){if(ue[e]){var t=0,r=100;0!==e&&(t=ve[e-1]),e!==ue.length-1&&(r=ve[e]);var i=r-t,o="translate("+X(V(Y(t,i)),"0")+")",A="scale("+X(i/100,"1")+")";ue[e].style[n.transformRule]=o+" "+A}}/*! In this file: All methods eventually exposed in slider.noUiSlider... */
function ne(e,t){return null===e||e===!1||void 0===e?ve[t]:("number"==typeof e&&(e=String(e)),e=n.format.from(e),e=ye.toStepping(e),e===!1||isNaN(e)?ve[t]:e)}function re(e,t){var r=c(e),i=void 0===ve[0];t=void 0===t||!!t,n.animate&&!i&&s(me,n.cssClasses.tap,n.animationDuration),Be.forEach(function(e){ee(e,ne(r[e],e),!0,!1)}),Be.forEach(function(e){ee(e,ve[e],!0,!0)}),$(),Be.forEach(function(e){j("update",e),null!==r[e]&&t&&j("set",e)})}function ie(e){re(n.start,e)}function oe(){var e=be.map(n.format.to);return 1===e.length?e[0]:e}function Ae(){for(var e in n.cssClasses)n.cssClasses.hasOwnProperty(e)&&f(me,n.cssClasses[e]);for(;me.firstChild;)me.removeChild(me.firstChild);delete me.noUiSlider}function ae(){return ve.map(function(e,t){var n=ye.getNearbySteps(e),r=be[t],i=n.thisStep.step,o=null;i!==!1&&r+i>n.stepAfter.startValue&&(i=n.stepAfter.startValue-r),o=r>n.thisStep.startValue?n.thisStep.step:n.stepBefore.step!==!1&&r-n.stepBefore.highestStep,100===e?i=null:0===e&&(o=null);var A=ye.countStepDecimals();return null!==i&&i!==!1&&(i=Number(i.toFixed(A))),null!==o&&o!==!1&&(o=Number(o.toFixed(A))),[o,i]})}function se(e,t){var r=oe(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])});var A=W(o);i.forEach(function(t){void 0!==e[t]&&(n[t]=A[t])}),ye=A.spectrum,n.margin=A.margin,n.limit=A.limit,n.padding=A.padding,n.pips&&H(n.pips),ve=[],re(e.start||r,t)}var le,ce,ue,de,fe,pe=g(),he=v(),ge=he&&m(),me=e,ve=[],Be=[],we=0,ye=n.spectrum,be=[],Ee={},Ce=e.ownerDocument,Qe=Ce.documentElement,Ue=Ce.body,Fe="rtl"===Ce.dir||1===n.ort?0:100;/*! In this file: Calls to functions. All other scope_ files define functions only; */
return y(me),w(n.connect,le),R(n.events),re(n.start),de={destroy:Ae,steps:ae,on:P,off:z,get:oe,set:re,reset:ie,__moveHandles:function(e,t,n){J(e,t,ve,n)},options:o,updateOptions:se,target:me,removePips:_,pips:H},n.pips&&H(n.pips),n.tooltips&&E(),C(),de}function q(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider ("+Z+"): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider ("+Z+"): Slider was already initialized.");var n=W(t,e),r=Y(e,n,t);return e.noUiSlider=r,r}var Z="11.1.0";H.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!==0)throw new Error("noUiSlider ("+Z+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&w(this.xVal,e)},H.prototype.toStepping=function(e){return e=C(this.xVal,this.xPct,e)},H.prototype.fromStepping=function(e){return Q(this.xVal,this.xPct,e)},H.prototype.getStep=function(e){return e=U(this.xPct,this.xSteps,this.snap,e)},H.prototype.getNearbySteps=function(e){var t=E(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},H.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(u);return Math.max.apply(null,e)},H.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var $={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:Z,create:q}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Finder=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),l=n(6),c=r(l),u=n(11),d=t.Finder=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e,t){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fred.fe.browse_files",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,e),this.wrapper=null,c.default.lngExists(n)&&(n=c.default.lng(n)),this.title=n,this.options=o({width:"800px",height:"600px"},r),this.onSelect=t.bind(this)}return A(e,[{key:"render",value:function(){var e=this;this.wrapper=(0,u.section)(["fred--modal-bg"]);var t=(0,u.div)(["fred--modal"]);t.setAttribute("aria-hidden","true");var n=(0,u.div)(["fred--modal-header"]),r=(0,u.button)('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="20px" height="20px" viewBox="-4 -4 20 20" enable-background="new -4 -4 20 20" xml:space="preserve"><polygon points="16.079,-0.666 12.717,-4.027 6.052,2.637 -0.613,-4.027 -3.975,-0.666 2.69,6 -3.975,12.664 -0.612,16.026 6.052,9.362 12.717,16.027 16.079,12.664 9.414,6 "></polygon></svg>',"fred.fe.close",["button"],this.close.bind(this));this.titleEl=(0,u.h4)(this.title),this.body=(0,u.div)(["fred--modal-body"]),t.style.width=this.options.width||"800px",t.style.height=this.options.height||"600px",this.body.style.padding="0";var i=["fredToken="+c.default.jwt];this.options.mediaSource&&i.push("mediaSource="+this.options.mediaSource),this.options.type&&(i.push("type="+this.options.type),window.getLexicon=function(e){return c.default.lng(e)}),void 0!==this.options.showOnlyFolders&&i.push("showOnlyFolders="+this.options.showOnlyFolders);var o="";i.length>0&&(o="?"+i.join("&"));var A=(0,u.iFrame)(c.default.config.assetsUrl+"elfinder/index.html"+o);return A.style.width="100%",A.style.height="100%",this.body.appendChild(A),n.appendChild(r),n.appendChild(this.titleEl),t.appendChild(n),t.appendChild(this.body),this.wrapper.appendChild(t),window.fredFinderOnChange=function(t,n){e.onSelect(t,n),e.close()},s.default.emit("fred-wrapper-insert",this.wrapper),this.wrapper}},{key:"close",value:function(){delete window.fredFinderOnChange,this.wrapper.remove()}}],[{key:"getFinderOptionsFromElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r="";return e.fredEl.options.mediaSource&&""!==e.fredEl.options.mediaSource&&(r=e.fredEl.options.mediaSource),t&&e.fredEl.options.imageMediaSource&&""!==e.fredEl.options.imageMediaSource&&(r=e.fredEl.options.imageMediaSource),e.dataset.fredMediaSource&&""!==e.dataset.fredMediaSource&&(r=e.dataset.fredMediaSource),t&&e.dataset.fredImageMediaSource&&""!==e.dataset.fredImageMediaSource&&(r=e.dataset.fredImageMediaSource),""!==r&&(n.mediaSource=r),n}}]),e}();t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.pluginTools=t.valueParser=t.getTemplateSettings=t.buildBlueprint=t.loadElements=t.fixChoices=t.applyScripts=t.errorHandler=t.debounce=void 0;var o=n(11),A=n(21),a=r(A),s=n(6),l=r(s),c=n(12),u=r(c),d=n(1),f=r(d),p=n(10),h=r(p),g=n(38),m=r(g),v=n(57),B=r(v),w=n(71),y=r(w),b=n(54),E=r(b),C=n(15),Q=r(C),U=n(14),F=r(U),_=n(16),H=r(_),x=n(18),T=r(x),S=n(55),N=r(S),k=n(19),O=r(k),I=(t.debounce=function(e,t){var n=void 0;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];n&&clearTimeout(n),n=setTimeout(function(){t.apply(void 0,i),n=null},e)}},t.errorHandler=function(e){return e.status>=200&&e.status<300?e.json():e.json().then(function(e){var t=new Error(e.message);throw t.response=e,t})},t.applyScripts=function(e){var t=e.querySelectorAll("script"),n=!0,r=!1,i=void 0;try{for(var o,A=t[Symbol.iterator]();!(n=(o=A.next()).done);n=!0){var a=o.value,s=document.createElement("script");s.dataset.fredRender="false",s.innerHTML=a.innerHTML,a.parentNode.replaceChild(s,a)}}catch(e){r=!0,i=e}finally{try{!n&&A.return&&A.return()}finally{if(r)throw i}}},t.fixChoices=function(e){var t=function(e,t){return e.score-t.score};e.renderChoices=function(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],A=n||document.createDocumentFragment(),a=this.config,s=a.renderSelectedChoices,l=a.searchResultLimit,c=a.renderChoiceLimit,u=this.isSearching?t:this.config.sortFilter,d=function(e){var t="auto"!==s||(r.isSelectOneElement||!e.selected);if(t){var n=r._getTemplate("choice",e);A.appendChild(n)}},f=e;"auto"!==s||this.isSelectOneElement||(f=e.filter(function(e){return!e.selected}));var p=f.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),h=p.placeholderChoices,g=p.normalChoices;(this.config.shouldSort||this.isSearching)&&g.sort(u);var m=f.length,v=[].concat(i(h),i(g));this.isSearching?l>0&&(m=l):c>0&&!o&&(m=c);for(var B=0;B<m;B++)v[B]&&d(v[B]);return A},e.ajax=function(e){var t=this;return this.initialised===!0&&this.isSelectElement&&requestAnimationFrame(function(){t._handleLoadingState(!0),e(t._ajaxCallback())}),this}},function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=[],s=function(s){if(t.hasOwnProperty(s)){var l=[];t[s].forEach(function(t){if(r[t.widget].html){var A=(0,o.div)(["chunk"]);A.setAttribute("hidden","hidden"),A.dataset.fredElementId=t.widget,A.dataset.fredElementTitle=r[t.widget].title,A.dataset.invalidTheme=r[t.widget].invalidTheme,A.elementMarkup=r[t.widget].html,A.elementOptions=r[t.widget].options||{};var c=new a.default(A,s,n,t.values,t.settings||{},t.pluginsData||{},t.elId||null);l.push(c.render().then(function(){return e(t.children,c,r,i).then(function(){if(i===!0){var e=new CustomEvent("FredElementDrop",{detail:{fredEl:c}});document.body.dispatchEvent(e);var t=c.wrapper.querySelectorAll("[data-fred-on-drop]"),r=!0,o=!1,A=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;window[u.dataset.fredOnDrop]&&window[u.dataset.fredOnDrop](u)}}catch(e){o=!0,A=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw A}}}return{zoneName:s,contentElement:c,parent:n}})}))}}),A.push(Promise.all(l).then(function(e){e.forEach(function(e){e.parent.addElementToDropZone(e.zoneName,e.contentElement)})}))}};for(var l in t)s(l);return Promise.all(A)}),L=(t.loadElements=function(e){var t=e.data,n=[],r=function(r){if(t.hasOwnProperty(r)){var i=document.querySelector('[data-fred-dropzone="'+r+'"]');if(i){var A=[];i.innerHTML="",t[r].forEach(function(t){if(e.elements[t.widget].html){var n=(0,o.div)(["chunk"]);n.setAttribute("hidden","hidden"),n.dataset.fredElementId=t.widget,n.dataset.fredElementTitle=e.elements[t.widget].title,n.dataset.invalidTheme=e.elements[t.widget].invalidTheme,n.elementMarkup=e.elements[t.widget].html,n.elementOptions=e.elements[t.widget].options||{};var i=new a.default(n,r,null,t.values,t.settings||{},t.pluginsData||{},t.elId||null);A.push(i.render().then(function(n){return I(t.children,i,e.elements).then(function(){return n})}))}}),n.push(Promise.all(A).then(function(e){e.forEach(function(e){i.appendChild(e)})}))}}};for(var i in t)r(i);return Promise.all(n)},t.buildBlueprint=function(e,t,n,r){var i=e.complete||!1,A=!0,s=!0,c=!1,u=void 0;try{for(var d,f=l.default.fred.dropzones[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;if(p.querySelector(".fred--block")){A=!1;break}}}catch(e){c=!0,u=e}finally{try{!s&&f.return&&f.return()}finally{if(c)throw u}}var h=[];if(i===!1)h=e.data;else{if(A===!0){var g=e.data,m=[],v=function(t){if(g.hasOwnProperty(t)){var n=document.querySelector('[data-fred-dropzone="'+t+'"]');if(n){var r=[];g[t].forEach(function(n){var i=(0,o.div)(["chunk"]);i.setAttribute("hidden","hidden"),i.dataset.fredElementId=n.widget,i.dataset.fredElementTitle=e.elements[n.widget].title,i.elementMarkup=e.elements[n.widget].html,i.elementOptions=e.elements[n.widget].options;var A=new a.default(i,t,null,n.values,n.settings||{},n.pluginsData||{});r.push(A.render().then(function(t){return I(n.children,A,e.elements,!0).then(function(){var e=new CustomEvent("FredElementDrop",{detail:{fredEl:A}});document.body.dispatchEvent(e);var t=A.wrapper.querySelectorAll("[data-fred-on-drop]"),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;window[s.dataset.fredOnDrop]&&window[s.dataset.fredOnDrop](s)}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}),t}))}),m.push(Promise.all(r).then(function(e){e.forEach(function(e){n.appendChild(e)})}))}}};for(var B in g)v(B);return Promise.all(m)}var w="";if(null===t&&e.data[n.dataset.fredDropzone]?w=n.dataset.fredDropzone:e.data.content&&(w="content"),""===w)return void console.error("Something wrong happened with blueprint.");h=e.data[w]}var y=[];return h.forEach(function(i){var A=(0,o.div)(["chunk"]);A.setAttribute("hidden","hidden"),A.dataset.fredElementId=i.widget,A.dataset.fredElementTitle=e.elements[i.widget].title,A.elementMarkup=e.elements[i.widget].html,A.elementOptions=e.elements[i.widget].options||{};var s=new a.default(A,n.dataset.fredDropzone,t,i.values,i.settings||{},i.pluginsData||{});y.push(s.render().then(function(){t&&(null===r?t.dzs[n.dataset.fredDropzone].children.push(s.wrapper):t.dzs[n.dataset.fredDropzone].children.splice(t.dzs[n.dataset.fredDropzone].children.indexOf(r),0,s.wrapper)),I(i.children,s,e.elements,!0).then(function(){var e=new CustomEvent("FredElementDrop",{detail:{fredEl:s}});document.body.dispatchEvent(e);var t=s.wrapper.querySelectorAll("[data-fred-on-drop]"),n=!0,r=!1,i=void 0;try{for(var o,A=t[Symbol.iterator]();!(n=(o=A.next()).done);n=!0){var a=o.value;window[a.dataset.fredOnDrop]&&window[a.dataset.fredOnDrop](a)}}catch(e){r=!0,i=e}finally{try{!n&&A.return&&A.return()}finally{if(r)throw i}}}),null!==r?r.insertAdjacentElement("beforeBegin",s.wrapper):n.appendChild(s.wrapper)}))}),Promise.all(y)},t.getTemplateSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{theme_dir:"{{theme_dir}}",template:{theme_dir:e?"[[++fred.theme_dir]]":l.default.config.themeDir}}},t.valueParser=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"!=typeof e?e:e=t===!0?e.replace("{{theme_dir}}","[[++fred.theme_dir]]"):e.replace("{{theme_dir}}",l.default.config.themeDir)});t.pluginTools=function(){return{valueParser:L,ui:u.default,emitter:f.default,Modal:h.default,Finder:O.default,fetch:m.default,fredConfig:l.default,utilitySidebar:B.default,actions:y.default,Mousetrap:E.default,Choices:Q.default,flatpickr:F.default,ColorPicker:H.default,noUiSlider:T.default,hoverintent:N.default}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ContentElement=void 0;var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(22),l=r(s),c=n(1),u=r(c),d=n(51),f=n(6),p=r(f),h=n(11),g=n(20),m=n(54),v=r(m),B=n(55),w=r(B),y=n(56),b=r(y),E=n(58),C=n(59),Q=r(C),U=n(37),F=r(U),_=t.ContentElement=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=this,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;o(this,e),this.config=p.default.config,this.el=t,this.template=(0,d.twig)({data:this.el.elementMarkup}),this.id=this.el.dataset.fredElementId,this.title=this.el.dataset.fredElementTitle,this.wrapper=null,this.invalidTheme="true"===this.el.dataset.invalidTheme,c?this.elId=c:this.elId=this.generateElId(),this.contentEl=null,this.setUpEditors(),this.render=this.render.bind(this),this.parent=r,this.dzName=n,this.options=JSON.parse(JSON.stringify(this.el.elementOptions||{})),this.content=JSON.parse(JSON.stringify(i)),this.pluginsData=JSON.parse(JSON.stringify(l)),Array.isArray(this.content)&&(this.content={}),this.settings={},this.parsedSettings={},this.parsedSettingsClean={},this.options.rteConfig||(this.options.rteConfig={}),this.options.settings&&this.options.settings.forEach(function(e){e.group&&e.settings?e.settings.forEach(function(e){s.settings[e.name]=void 0!==e.value?e.value:""}):s.settings[e.name]=void 0!==e.value?e.value:""}),this.settings=A({},this.settings,JSON.parse(JSON.stringify(a)));for(var u in this.settings)this.settings.hasOwnProperty(u)&&(this.parsedSettings[u]=(0,g.valueParser)(this.settings[u]),this.parsedSettingsClean[u]=(0,g.valueParser)(this.settings[u],!0));this.dzs={},this.inEditor=!1}return a(e,[{key:"generateElId",value:function(){var e=new F.default("SHA-256","TEXT");return e.update(this.title),"fred_"+e.getHash("HEX").substr(-7)+"_"+Math.random().toString(36).substr(2,11)}},{key:"setSetting",value:function(e,t){this.settings[e]=t,this.parsedSettings[e]=(0,g.valueParser)(t),this.parsedSettingsClean[e]=(0,g.valueParser)(t,!0)}},{key:"setUpEditors",value:function(){this.editors=p.default.editors,this.iconEditor=this.config.iconEditor||"IconEditor",this.iconEditor=this.editors[this.iconEditor]||null,this.imageEditor=this.config.imageEditor||"ImageEditor",this.imageEditor=this.editors[this.imageEditor]||null}},{key:"setEl",value:function(e){void 0===e.elementMarkup?this.el.elementMarkup=e:this.el.elementMarkup=e.elementMarkup,this.template=(0,d.twig)({data:this.el.elementMarkup})}},{key:"getContent",value:function(){var e=this,t={elId:this.elId,widget:this.id,values:this.content,pluginsData:this.pluginsData,settings:this.settings,children:{}},n=function(n){e.dzs.hasOwnProperty(n)&&e.dzs[n].children.length>0&&(t.children[n]=[],e.dzs[n].children.forEach(function(e){t.children[n].push(e.fredEl.getContent())}))};for(var r in this.dzs)n(r);return t}},{key:"setWrapperActiveState",value:function(e){var t=this;(0,w.default)(e,function(e){var n=!1;if(e.path)e.path.forEach(function(e){if(e.classList&&e.classList.contains("fred--block")){if(e.classList.add("fred--block-active"),p.default.sidebar.visible===!0){var r=p.default.sidebar.wrapper.clientWidth,i=e.getBoundingClientRect().x,o=20+r-i;o>0&&(e.fredEl.contentEl.titleEl.style.left=o+"px")}t.atTop(e)&&e.classList.add("fred--block-active_top"),(t.atHeight(e)||t.atWidth(e))&&e.classList.add("fred--block-active_short"),t.atWidth(e)&&e.classList.add("fred--block-active_narrow"),n===!0&&(e.classList.add("fred--block-active_parent"),e.fredEl.toolbar&&e.fredEl.toolbar.hidePlugins()),n===!1&&t.options.settings&&v.default.bind("mod+alt+s",function(){b.default.open(t)}),n=!0}});else for(var r=e.target.parentNode;r;)r.classList&&r.classList.contains("fred--block")&&(r.classList.add("fred--block-active"),t.atTop(r)&&r.classList.add("fred--block-active_top"),(t.atHeight(r)||t.atWidth(r))&&r.classList.add("fred--block-active_short"),t.atWidth(r)&&r.classList.add("fred--block-active_narrow"),n===!0&&(r.classList.add("fred--block-active_parent"),r.fredEl.toolbar&&r.fredEl.toolbar.hidePlugins()),n=!0),r=r.parentNode},function(n){if(t.inEditor===!1){e.classList.remove("fred--block-active"),e.classList.remove("fred--block-active_top"),e.classList.remove("fred--block-active_short"),e.classList.remove("fred--block-active_narrow"),e.classList.remove("fred--block-active_parent"),e.fredEl&&(e.fredEl.contentEl.titleEl.style.left=null,e.fredEl.toolbar&&e.fredEl.toolbar.hidePlugins());for(var r=n.target.parentNode,i=!1;r;)r.classList&&r.classList.contains("fred--block-active_parent")&&i===!1&&(r.classList.remove("fred--block-active_parent"),i=!0),r=r.parentNode;if(n.target.hasChildNodes())for(var o=n.target.childNodes,A=0;A<o.length;A++)o[A].classList&&o[A].classList.contains("fred--block-active")&&o[A].classList.remove("fred--block-active");v.default.unbind("mod+alt+s")}}).options({sensitivity:100,timeout:250,interval:250})}},{key:"atTop",value:function(e){for(this.toTop=0;e;)this.toTop+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return this.toTop<38}},{key:"atHeight",value:function(e){return e.offsetHeight<280}},{key:"atWidth",value:function(e){return e.offsetWidth<280||e.offsetHeight<160}},{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=["fred--block"];this.invalidTheme&&n.push("fred--block-invalid");var r=(0,h.div)(n);r.fredEl=this,this.setWrapperActiveState(r),this.toolbar=new Q.default(this),r.appendChild(this.toolbar.render()),this.contentEl=(0,h.div)(["fred--block_content"]),this.contentEl.dataset.fredElementId=this.el.dataset.fredElementId,this.contentEl.dataset.fredElementTitle=this.title;var o=(0,h.div)(["fred--block_title"],this.title);return o.addEventListener("click",function(e){o.classList.add("fred--hidden")}),r.appendChild(o),this.contentEl.titleEl=o,this.templateRender(!0,!1,t).then(function(t){e.contentEl.innerHTML=t,(0,g.applyScripts)(e.contentEl);var n=e.contentEl.querySelectorAll("[data-fred-block-class]"),o=!0,A=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=c.dataset.fredBlockClass.split(" ").filter(function(e){return e});if(u.length>0){var d;(d=r.classList).add.apply(d,i(u))}}}catch(e){A=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(A)throw a}}if(e.initElements(r),e.initDropZones(r),r.appendChild(e.contentEl),null!==e.wrapper){if(e.parent){var f=e.parent.dzs[e.dzName].children.indexOf(e.wrapper);f>-1&&(e.parent.dzs[e.dzName].children[f]=r)}e.wrapper.replaceWith(r)}return e.wrapper=r,r})}},{key:"initDropZones",value:function(e){var t=this,n=this.contentEl.querySelectorAll("[data-fred-dropzone]"),r=null,i=!0,o=!1,A=void 0;try{for(var a,s=function(){var e=a.value;null===r?(r=e,e.fredEl=t,t.dzs[e.dataset.fredDropzone]?(t.dzs[e.dataset.fredDropzone].el=e,t.dzs[e.dataset.fredDropzone].children.forEach(function(n){t.dzs[e.dataset.fredDropzone].el.appendChild(n)})):t.dzs[e.dataset.fredDropzone]={el:e,children:[]}):r.contains(e)||(e.fredEl=t,r=e,t.dzs[e.dataset.fredDropzone]?(t.dzs[e.dataset.fredDropzone].el=e,t.dzs[e.dataset.fredDropzone].children.forEach(function(n){t.dzs[e.dataset.fredDropzone].el.appendChild(n)})):t.dzs[e.dataset.fredDropzone]={el:e,children:[]})},l=n[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)s()}catch(e){o=!0,A=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw A}}}},{key:"onRTEInitFactory",value:function(e){return function(){e.rteInited=!0}}},{key:"onRTEContentChangeFactory",value:function(e){var t=this;return function(n){t.setValue(e,n)}}},{key:"onRTEFocusFactory",value:function(e,t){var n=this;return function(){n.inEditor=!0}}},{key:"onRTEBlurFactory",value:function(e,t){var n=this;return function(){n.inEditor=!1,e.classList.remove("fred--block-active"),e.classList.remove("fred--block-active_top"),e.classList.remove("fred--block-active_short"),e.classList.remove("fred--block-active_narrow"),e.classList.remove("fred--block-active_parent")}}},{key:"initValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.content[e.dataset.fredName]&&!Array.isArray(this.content[e.dataset.fredName])||(this.content[e.dataset.fredName]={}),this.content[e.dataset.fredName]._raw&&!Array.isArray(this.content[e.dataset.fredName]._raw)||(this.content[e.dataset.fredName]._raw={});var i=this.content[e.dataset.fredName]._raw._value;if(void 0===i)switch(e.nodeName){case"IMG":i=e.getAttribute("src");break;case"I":i=e.className;break;default:i=e.innerHTML}if(this.setElValue(e,i,"_value","_raw",n,r),e.dataset.fredAttrs){var o=e.dataset.fredAttrs.split(",");o.forEach(function(i){var o=t.content[e.dataset.fredName]._raw[i];void 0===o&&(o=e.getAttribute(i)),o=(0,g.valueParser)(o,!r&&null!==n),e.setAttribute(i,o)})}}},{key:"initEvents",value:function(e){var t=this;switch(e.nodeName){case"IMG":"true"===e.getAttribute("data-fred-editable")&&e.addEventListener("click",function(n){n.preventDefault(),null!==t.imageEditor?new t.imageEditor(e):console.log("Editor "+t.config.imageEditor+" not found")});break;case"I":"true"===e.getAttribute("data-fred-editable")&&e.addEventListener("click",function(n){n.preventDefault(),null!==t.iconEditor?new t.iconEditor(e):console.log("Editor "+t.config.iconEditor+" not found")})}}},{key:"setValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_value",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_raw",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],A=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return this.content[e.dataset.fredName]&&!Array.isArray(this.content[e.dataset.fredName])||(this.content[e.dataset.fredName]={}),this.content[e.dataset.fredName][r]&&!Array.isArray(this.content[e.dataset.fredName][r])||(this.content[e.dataset.fredName][r]={}),this.content[e.dataset.fredName][r][n]!==t&&u.default.emit("fred-content-changed","setValue"),this.content[e.dataset.fredName][r][n]=t,t=(0,g.valueParser)(t,!o&&null!==i),"_raw"===r&&"_value"===n&&(this.setValueForBindElements(e.dataset.fredName,t,i),!A&&e.dataset.fredTarget&&u.default.emit("fred-page-setting-change",e.dataset.fredTarget,this.content[e.dataset.fredName][r][n],t,e)),t}},{key:"setElValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_value",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_raw",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],A=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(t=this.setValue(e,t,n,r,i,o,A),"_value"===n)switch(e.nodeName){case"IMG":e.setAttribute("src",t);break;case"I":e.className=t;break;default:e.innerHTML=t}else if(e.dataset.fredAttrs){var a=e.dataset.fredAttrs.split(",");~a.indexOf(n)&&e.setAttribute(n,t)}}},{key:"setValueForBindElements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=this.contentEl);var r=!1,i=n.querySelectorAll('[data-fred-bind="'+e+'"]'),o=!0,A=!1,a=void 0;try{for(var s,l=i[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;switch(c.nodeName.toLowerCase()){case"i":c.className!==t&&(r=!0),c.className=t;break;case"img":c.getAttribute("src")!==t&&(r=!0),c.setAttribute("src",t);break;default:c.innerHTML!==t&&(r=!0),c.innerHTML=t}}}catch(e){A=!0,a=e}finally{try{!o&&l.return&&l.return()}finally{if(A)throw a}}r===!0&&u.default.emit("fred-content-changed","setValueForBindElements")}},{key:"setPluginValue",value:function(e,t,n){u.default.emit("fred-content-changed","setPluginValue"),Array.isArray(this.pluginsData)&&(this.pluginsData={}),this.pluginsData[e]&&!Array.isArray(this.pluginsData[e])||(this.pluginsData[e]={}),this.pluginsData[e][t]=n}},{key:"getPluginValue",value:function(e,t){if(this.pluginsData[e]&&!Array.isArray(this.pluginsData[e]))return this.pluginsData[e][t]}},{key:"deletePluginValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t||delete this.pluginsData[e],this.pluginsData[e]&&delete this.pluginsData[e][t]}},{key:"getRTEConfig",value:function(e){var t={};return e.dataset.fredRteConfig&&p.default.config.rteConfig[e.dataset.fredRteConfig]?(t=p.default.config.rteConfig[e.dataset.fredRteConfig],this.options.rteConfig&&this.options.rteConfig[e.dataset.fredRteConfig]&&(t=A({},t,this.options.rteConfig[e.dataset.fredRteConfig])),t):(p.default.config.rteConfig[this.config.rte]&&(t=p.default.config.rteConfig[this.config.rte],this.options.rteConfig&&this.options.rteConfig[this.config.rte]&&(t=A({},t,this.options.rteConfig[this.config.rte]))),t)}},{key:"getSelectionHtml",value:function(){var e="";if("undefined"!=typeof window.getSelection){var t=window.getSelection();if(t.rangeCount){for(var n=document.createElement("div"),r=0,i=t.rangeCount;r<i;++r)n.appendChild(t.getRangeAt(r).cloneContents());e=n.innerHTML}}else"undefined"!=typeof document.selection&&"Text"===document.selection.type&&(e=document.selection.createRange().htmlText);return e}},{key:"initElements",value:function(e){var t=this,n=this.contentEl.querySelectorAll("[data-fred-name]"),r=!0,i=!1,o=void 0;try{for(var A,a=function(){var n=A.value;n.fredEl=t,n.hasAttribute("data-fred-editable")===!1&&n.setAttribute("data-fred-editable","true"),["i","img"].indexOf(n.nodeName.toLowerCase())===-1&&n.setAttribute("contenteditable",n.getAttribute("data-fred-editable")),n.dataset.fredRte&&"false"!==n.dataset.fredRte&&n.rteInited||(n.addEventListener("input",function(){t.setValue(n,n.innerHTML)}),n.addEventListener("copy",function(e){e.clipboardData.setData("text/plain",window.getSelection().toString()),e.clipboardData.setData("text/html",t.getSelectionHtml()),e.preventDefault()}),n.addEventListener("cut",function(e){e.clipboardData.setData("text/plain",window.getSelection().toString()),e.clipboardData.setData("text/html",t.getSelectionHtml()),window.getSelection().deleteFromDocument(),e.preventDefault()}),n.addEventListener("paste",function(e){e.preventDefault();var t=(e.originalEvent||e).clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}),n.addEventListener("keydown",function(e){if((e.ctrlKey||e.metaKey)&&(66==e.which&&(e.preventDefault(),document.execCommand("bold",!1,null)),73==e.which&&(e.preventDefault(),document.execCommand("italic",!1,null)),85==e.which&&(e.preventDefault(),document.execCommand("underline",!1,null)),32==e.which)){e.preventDefault();var t=window.getSelection().toString();window.getSelection().deleteFromDocument(),document.execCommand("insertHTML",!1,t)}}),n.addEventListener("keyup",function(e){e.ctrlKey&&e.preventDefault()}),n.addEventListener("keypress",function(e){e.ctrlKey&&e.preventDefault()})),n.dataset.fredRte&&"false"!==n.dataset.fredRte&&t.config.rte&&p.default.rtes[t.config.rte]&&p.default.rtes[t.config.rte](n,t.getRTEConfig(n),t.onRTEInitFactory(n),t.onRTEContentChangeFactory(n),t.onRTEFocusFactory(e,n),t.onRTEBlurFactory(e,n)),t.content[n.dataset.fredName]||(t.content[n.dataset.fredName]={}),t.content[n.dataset.fredName]._raw||(t.content[n.dataset.fredName]._raw={}),n.dataset.fredTarget&&p.default.pageSettings[n.dataset.fredTarget]&&(t.content[n.dataset.fredName]._raw._value=p.default.pageSettings[n.dataset.fredTarget]),t.initValue(n),t.initEvents(n)},s=n[Symbol.iterator]();!(r=(A=s.next()).done);r=!0)a()}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},{key:"templateRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.options.remote===!0?this.remoteTemplateRender(e,t,n):Promise.resolve(this.localTemplateRender(e,t))}},{key:"localTemplateRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0;return n=t===!0?e===!0?this.parsedSettings:this.parsedSettingsClean:this.parsedSettings,this.template.render(A({},n,(0,g.getTemplateSettings)(t),{id:this.elId}))}},{key:"remoteTemplateRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.options.cacheOutput===!0;return(0,E.renderElement)(this.id,A({},n?this.parsedSettingsClean:this.parsedSettings,{id:this.elId}),e,i,r).then(function(e){var r=(0,d.twig)({data:e.data.html}).render((0,g.getTemplateSettings)(n));return t.setEl(r),r}).catch(function(e){return u.default.emit("fred-loading",e.message),""})}},{key:"cleanRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(0,h.div)();return this.templateRender(e,!0).then(function(A){o.innerHTML=A;var a=o.querySelectorAll("[data-fred-render]"),s=!0,l=!1,c=void 0;try{for(var u,d=a[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var f=u.value;"false"===f.getAttribute("data-fred-render")?f.remove():f.removeAttribute("data-fred-render")}}catch(e){l=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}var p=o.querySelectorAll("[data-fred-name]"),h=!0,g=!1,m=void 0;try{for(var v,B=p[Symbol.iterator]();!(h=(v=B.next()).done);h=!0){var w=v.value;t.initValue(w,o,r),w.removeAttribute("contenteditable"),w.removeAttribute("data-fred-editable"),w.removeAttribute("data-fred-name"),w.removeAttribute("data-fred-rte"),w.removeAttribute("data-fred-rte-config"),w.removeAttribute("data-fred-target"),w.removeAttribute("data-fred-attrs"),w.removeAttribute("data-fred-media-source"),w.removeAttribute("data-fred-image-media-source")}}catch(e){g=!0,m=e}finally{try{!h&&B.return&&B.return()}finally{if(g)throw m}}if(n===!0){var y=o.querySelectorAll("[data-fred-link-type]"),b=!0,E=!1,C=void 0;try{for(var Q,U=y[Symbol.iterator]();!(b=(Q=U.next()).done);b=!0){var F=Q.value,_=F.dataset.fredLinkType;if(F.removeAttribute("data-fred-link-type"),
"page"===_){var H=parseInt(F.dataset.fredLinkPage),x=F.dataset.fredLinkAnchor?"#"+F.dataset.fredLinkAnchor:"";H>0?F.setAttribute("href","[[~"+H+"]]"+x):F.setAttribute("href",x),F.removeAttribute("data-fred-link-page"),F.removeAttribute("data-fred-link-anchor")}}}catch(e){E=!0,C=e}finally{try{!b&&U.return&&U.return()}finally{if(E)throw C}}}var T=o.querySelectorAll("[data-fred-block-class]"),S=!0,N=!1,k=void 0;try{for(var O,I=T[Symbol.iterator]();!(S=(O=I.next()).done);S=!0){var L=O.value,D=L.dataset.fredBlockClass.split(" ").filter(function(e){return e});if(D.length>0){var M;(M=L.classList).add.apply(M,i(D))}L.removeAttribute("data-fred-block-class")}}catch(e){N=!0,k=e}finally{try{!S&&I.return&&I.return()}finally{if(N)throw k}}var K=o.querySelectorAll("[data-fred-class]"),R=!0,P=!1,z=void 0;try{for(var j,V=K[Symbol.iterator]();!(R=(j=V.next()).done);R=!0){var G=j.value,X=G.dataset.fredClass.split(" ").filter(function(e){return e});if(X.length>0){var J;(J=G.classList).add.apply(J,i(X))}G.removeAttribute("data-fred-class")}}catch(e){P=!0,z=e}finally{try{!R&&V.return&&V.return()}finally{if(P)throw z}}var W=o.querySelectorAll("[data-fred-bind]"),Y=!0,q=!1,Z=void 0;try{for(var $,ee=W[Symbol.iterator]();!(Y=($=ee.next()).done);Y=!0){var te=$.value;te.removeAttribute("data-fred-bind")}}catch(e){q=!0,Z=e}finally{try{!Y&&ee.return&&ee.return()}finally{if(q)throw Z}}var ne=o.querySelectorAll("[data-fred-on-drop]"),re=!0,ie=!1,oe=void 0;try{for(var Ae,ae=ne[Symbol.iterator]();!(re=(Ae=ae.next()).done);re=!0){var se=Ae.value;se.removeAttribute("data-fred-on-drop")}}catch(e){ie=!0,oe=e}finally{try{!re&&ae.return&&ae.return()}finally{if(ie)throw oe}}var le=o.querySelectorAll("[data-fred-on-setting-change]"),ce=!0,ue=!1,de=void 0;try{for(var fe,pe=le[Symbol.iterator]();!(ce=(fe=pe.next()).done);ce=!0){var he=fe.value;he.removeAttribute("data-fred-on-setting-change")}}catch(e){ue=!0,de=e}finally{try{!ce&&pe.return&&pe.return()}finally{if(ue)throw de}}var ge=[];for(var me in t.dzs)t.dzs.hasOwnProperty(me)&&!function(){var r=o.querySelector('[data-fred-dropzone="'+me+'"]');if(r&&(r.removeAttribute("data-fred-dropzone"),t.dzs[me].children.length>0)){var i="",A=[];t.dzs[me].children.forEach(function(t){A.push(t.fredEl.cleanRender(e,n))}),ge.push(Promise.all(A).then(function(e){e.forEach(function(e){i+=e.innerHTML}),r.innerHTML=i}))}}();return Promise.all(ge).then(function(){return o})})}},{key:"remove",value:function(){if(p.default.permission.fred_element_front_end_delete){if(this.parent){var e=this.parent.dzs[this.dzName].children.indexOf(this.wrapper);e>-1&&this.parent.dzs[this.dzName].children.splice(e,1)}this.wrapper.remove(),p.default.invalidElements&&u.default.emit("fred-clear-invalid-elements-warning")}}},{key:"duplicateDropZones",value:function(t){var n=this,r=function(r){t.hasOwnProperty(r)&&t[r].children.forEach(function(t){if(n.dzs[r]){var i=new e(t.fredEl.el,r,n,t.fredEl.content,t.fredEl.settings,t.fredEl.pluginsData);i.render().then(function(){n.addElementToDropZone(r,i),i.duplicateDropZones(t.fredEl.dzs)})}})};for(var i in t)r(i)}},{key:"duplicate",value:function(){var t=this,n=new e(this.el,this.dzName,this.parent,this.content,this.settings,this.pluginsData);n.render().then(function(){if(n.duplicateDropZones(t.dzs),null===t.wrapper.nextSibling?t.wrapper.parentNode.appendChild(n.wrapper):t.wrapper.parentNode.insertBefore(n.wrapper,t.wrapper.nextSibling),t.parent){var e=t.parent.dzs[t.dzName].children.indexOf(t.wrapper);e>-1&&t.parent.dzs[t.dzName].children.splice(e+1,0,n.wrapper)}l.default.reloadContainers()})}},{key:"addElementToDropZone",value:function(e,t){return!!this.dzs[e]&&(t.dzName=e,t.parent=this,this.dzs[e].children.push(t.wrapper),this.dzs[e].el.appendChild(t.wrapper),!0)}},{key:"unshiftElementToDropZone",value:function(e,t){return!!this.dzs[e]&&(t.dzName=e,t.parent=this,this.dzs[e].children.unshift(t.wrapper),this.dzs[e].el.firstElementChild?this.dzs[e].el.insertBefore(t.wrapper,this.dzs[e].el.firstElementChild):this.dzs[e].el.appendChild(t.wrapper),!0)}},{key:"insertBeforeElementToDropZone",value:function(e,t,n){return!!this.dzs[e]&&(n.dzName=e,n.parent=this,this.dzs[e].children.splice(this.dzs[e].children.indexOf(t.wrapper),0,n.wrapper),void t.wrapper.insertAdjacentElement("beforebegin",n.wrapper))}}],[{key:"getElValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_value",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_raw";return e.dataset.fredName?e.fredEl.content[e.dataset.fredName][n][t]:""}}]),e}();t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),s=r(a),l=n(23),c=r(l),u=n(21),d=r(u),f=n(6),p=r(f),h=n(20),g=n(35),m=function(){function e(){o(this,e),this.drake=null,this.topScroll=null,this.bottomScroll=null,this.scrollSpeed=null,this.lastPosition=null,this.scrollHandler=this.scrollHandler.bind(this)}return A(e,[{key:"initDrake",value:function(){var e=this,t=[].concat(i(document.querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=""])')));t.unshift.apply(t,i(document.querySelectorAll(".source")));var n=function(e,t){return e.contains?e!=t&&e.contains(t):!!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)};try{this.drake=(0,c.default)(t,{direction:"horizontal",copy:function(e,t){return t.classList.contains("source")},accepts:function(e,t){return!n(e,t)!=!1&&!t.classList.contains("source")},moves:function(e,t,n,r){return void 0===t.dataset.fredDropzone||""===t.dataset.fredDropzone||n.classList.contains("handle")}})}catch(e){}this.drake.on("cloned",function(e,t,n){"copy"===n&&(e.lastChild.elementOptions=t.lastChild.elementOptions,e.lastChild.elementMarkup=t.lastChild.elementMarkup)}),this.drake.on("drop",function(t,n,r,i){if(r.classList.contains("source")&&t.parentNode){var o=n.fredEl||null;if(r.classList.contains("elements-source")){var A=new d.default(t.lastChild,n.dataset.fredDropzone,o);A.render().then(function(){o&&(null===i?o.dzs[n.dataset.fredDropzone].children.push(A.wrapper):o.dzs[n.dataset.fredDropzone].children.splice(o.dzs[n.dataset.fredDropzone].children.indexOf(i),0,A.wrapper)),t.parentNode.replaceChild(A.wrapper,t);var r=new CustomEvent("FredElementDrop",{detail:{fredEl:A}});document.body.dispatchEvent(r);var a=A.wrapper.querySelectorAll("[data-fred-on-drop]"),s=!0,l=!1,c=void 0;try{for(var u,d=a[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var f=u.value;window[f.dataset.fredOnDrop]&&window[f.dataset.fredOnDrop](A)}}catch(e){l=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}e.reloadContainers()})}r.classList.contains("blueprints-source")&&(s.default.emit("fred-loading",p.default.lng("fred.fe.blueprints.building_content_from_blueprint")),t.remove(),(0,g.loadBlueprint)(t.lastChild.dataset.fredBlueprintId).then(function(e){(0,h.buildBlueprint)(e.data,o,n,i).then(function(){v.reloadContainers(),s.default.emit("fred-loading-hide")})}).catch(function(e){console.log(e)}))}else{if(n&&t.fredEl){t.fredEl.parent&&t.fredEl.parent.dzs[r.dataset.fredDropzone].children.splice(t.fredEl.parent.dzs[r.dataset.fredDropzone].children.indexOf(t),1);var a=n.fredEl||null;a&&(null===i?a.dzs[n.dataset.fredDropzone].children.push(t):a.dzs[n.dataset.fredDropzone].children.splice(a.dzs[n.dataset.fredDropzone].children.indexOf(i),0,t)),t.fredEl.parent=a,t.fredEl.dzName=n.dataset.fredDropzone}e.reloadContainers()}}),this.drake.on("drag",function(t,n){e.registerScroller(),n.classList.contains("elements-source")||(t.dragZoom=.3);var r=document.querySelectorAll("[data-fred-dropzone]"),i=!0,o=!1,A=void 0;try{for(var a,l=r[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var c=a.value;c.classList.add("fred--dropzone_highlight")}}catch(e){o=!0,A=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw A}}s.default.emit("fred-sidebar-hide",!0)}),this.drake.on("dragend",function(t){e.removeScroller();var n=document.querySelectorAll("[data-fred-dropzone]"),r=!0,i=!1,o=void 0;try{for(var A,a=n[Symbol.iterator]();!(r=(A=a.next()).done);r=!0){var l=A.value;l.classList.remove("fred--dropzone_highlight")}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}s.default.emit("fred-sidebar-show",!0)})}},{key:"cancelScroll",value:function(e){this[e+"Scroll"]&&(clearInterval(this[e+"Scroll"]),this[e+"Scroll"]=null,this.scrollSpeed=null,this.lastPosition=null)}},{key:"scrollWindow",value:function(e,t,n){var r=this,i=!1,o=null;n.forEach(function(n){if("top"===t){var r=e.y>window.innerHeight-n.offset;i=i||r,r&&(o=n.speed)}else{var A=e.y<n.offset;i=i||A,A&&(o=-1*n.speed)}}),i?(this[t+"Scroll"]&&o!==this.scrollSpeed&&(clearInterval(this[t+"Scroll"]),this[t+"Scroll"]=null),null===this[t+"Scroll"]&&(this.lastPosition=window.innerHeight+window.scrollY,this[t+"Scroll"]=setInterval(function(){r.scrollSpeed=o,window.scrollBy(0,o);var e=window.innerHeight+window.scrollY;r.lastPosition===e&&r.cancelScroll(t),r.lastPosition=e},5))):this.cancelScroll(t)}},{key:"scrollHandler",value:function(e){this.scrollWindow(e,"top",[{offset:60,speed:2},{offset:30,speed:8}]),this.scrollWindow(e,"bottom",[{offset:60,speed:2},{offset:30,speed:8}])}},{key:"registerScroller",value:function(){this.topScroll=null,this.bottomScroll=null,this.scrollSpeed=null,this.lastPosition=null,document.addEventListener("mousemove",this.scrollHandler)}},{key:"removeScroller",value:function(){document.removeEventListener("mousemove",this.scrollHandler)}},{key:"reloadContainers",value:function(){for(var e=document.querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=""])'),t=[].concat(i(e)),n=0;n<e.length;n++)t.push.apply(t,i(e[n].querySelectorAll('[data-fred-dropzone]:not([data-fred-dropzone=""])')));t.unshift.apply(t,i(document.querySelectorAll(".source"))),this.drake.containers=t}}]),e}(),v=new m;t.default=v,e.exports=t.default},function(e,t,n){(function(t){"use strict";function r(e,t){function n(e){return ue.containers.indexOf(e)!==-1||ce.isContainer(e)}function r(e){var t=e?"remove":"add";i(E,t,"mousedown",Q),i(E,t,"mouseup",k)}function a(e){var t=e?"remove":"add";i(E,t,"mousemove",U)}function h(e){var t=e?"remove":"add";w[t](E,"selectstart",C),w[t](E,"click",C)}function m(){r(!0),k({})}function C(e){ae&&e.preventDefault()}function Q(e){te=e.clientX,ne=e.clientY;var t=1!==o(e)||e.metaKey||e.ctrlKey;if(!t){var n=e.target,r=F(n);r&&(ae=r,a(),"mousedown"===e.type&&(p(n)?n.focus():e.preventDefault()))}}function U(e){if(ae){if(0===o(e))return void k({});if(void 0===e.clientX||e.clientX!==te||void 0===e.clientY||e.clientY!==ne){if(ce.ignoreInputTextSelection){var t=v("clientX",e),n=v("clientY",e),r=b.elementFromPoint(t,n);if(p(r))return}var i=ae;a(!0),h(),S(),x(i);var s=A(Z);$=v("pageX",e)-s.left,ee=v("pageY",e)-s.top,Z.dragZoom&&($=.5*Z.clientWidth,ee=.5*Z.clientHeight),y.add(oe||Z,"gu-transit"),j(),R(e)}}}function F(e){if(!(ue.dragging&&Y||n(e))){for(var t=e;f(e)&&n(f(e))===!1;){if(ce.invalid(e,t))return;if(e=f(e),!e)return}var r=f(e);if(r&&!ce.invalid(e,t)){var i=ce.moves(e,r,t,g(e));if(i)return{item:e,source:r}}}}function _(e){return!!F(e)}function H(e){var t=F(e);t&&x(t)}function x(e){J(e.item,e.source)&&(oe=e.item.cloneNode(!0),ue.emit("cloned",oe,e.item,"copy")),q=e.source,Z=e.item,re=ie=g(e.item),ue.dragging=!0,ue.emit("drag",Z,q)}function T(){return!1}function S(){if(ue.dragging){var e=oe||Z;O(e,f(e))}}function N(){ae=!1,a(!0),h(!0)}function k(e){if(N(),ue.dragging){var t=oe||Z,n=v("clientX",e),r=v("clientY",e),i=s(Y,n,r),o=K(i,n,r);o&&(oe&&ce.copySortSource||!oe||o!==q)?O(t,o):ce.removeOnSpill?I():L()}}function O(e,t){var n=f(e);oe&&ce.copySortSource&&t===q&&n.removeChild(Z),M(t)?ue.emit("cancel",e,q,q):ue.emit("drop",e,t,q,ie),D()}function I(){if(ue.dragging){var e=oe||Z,t=f(e);t&&t.removeChild(e),ue.emit(oe?"cancel":"remove",e,t,q),D()}}function L(e){if(ue.dragging){var t=arguments.length>0?e:ce.revertOnSpill,n=oe||Z,r=f(n),i=M(r);i===!1&&t&&(oe?r&&r.removeChild(oe):q.insertBefore(n,re)),i||t?ue.emit("cancel",n,q,q):ue.emit("drop",n,r,q,ie),D()}}function D(){var e=oe||Z;N(),V(),le=!1,e&&(e.style.width=null,e.style.height=null,e.style.zoom=null,e.style.transform=null,y.rm(e,"gu-transit")),Ae&&clearTimeout(Ae),ue.dragging=!1,se&&ue.emit("out",e,se,q),ue.emit("dragend",e),q=Z=oe=re=ie=Ae=se=null}function M(e,t){var n;return n=void 0!==t?t:Y?ie:g(oe||Z),e===q&&n===re}function K(e,t,r){function i(){var i=n(o);if(i===!1)return!1;var A=G(o,e),a=X(o,A,t,r),s=M(o,a);return!!s||ce.accepts(Z,o,q,a)}for(var o=e;o&&!i();)o=f(o);return o}function R(e){function t(e){ue.emit(e,i,se,q)}function n(){d&&t("over")}function r(){se&&t("out")}if(Y){e.preventDefault();var i=oe||Z;i.dragZoom&&!le&&(Y.style.width=Y.clientWidth,Y.style.height=Y.clientHeight,Y.style.transform="scale(0.3)",i.style.zoom=i.dragZoom,i.style.width=Y.clientWidth,i.style.height=Y.clientHeight,le=!0);var o=v("clientX",e),A=v("clientY",e),a=o-$,l=A-ee;Y.style.left=a+"px",Y.style.top=l+"px";var c=s(Y,o,A),u=K(c,o,A),d=null!==u&&u!==se;(d||null===u)&&(r(),se=u,n());var p=f(i);if(u===q&&oe&&!ce.copySortSource)return void(p&&p.removeChild(i));var h,m=G(u,c);if(null!==m)h=X(u,m,o,A);else{if(ce.revertOnSpill!==!0||oe)return void(oe&&p&&p.removeChild(i));h=re,u=q}(null===h&&d||h!==i&&h!==g(i))&&(ie=h,u.insertBefore(i,h),ue.emit("shadow",i,u,q))}}function P(e){y.rm(e,"gu-hide")}function z(e){ue.dragging&&y.add(e,"gu-hide")}function j(){if(!Y){var e=Z.getBoundingClientRect();Y=Z.cloneNode(!0),Y.style.width=u(e)+"px",Y.style.height=d(e)+"px",y.rm(Y,"gu-transit"),y.add(Y,"gu-mirror"),ce.mirrorContainer.appendChild(Y),i(E,"add","mousemove",R),y.add(ce.mirrorContainer,"gu-unselectable"),ue.emit("cloned",Y,Z,"mirror")}}function V(){Y&&(y.rm(ce.mirrorContainer,"gu-unselectable"),i(E,"remove","mousemove",R),f(Y).removeChild(Y),Y=null)}function G(e,t){for(var n=t;n!==e&&f(n)!==e;)n=f(n);return n===E?null:n}function X(e,t,n,r){function i(){var t,i,o,A=e.children.length;for(t=0;t<A;t++){if(i=e.children[t],o=i.getBoundingClientRect(),a&&o.left+o.width/2>n)return i;if(!a&&o.top+o.height/2>r)return i}return null}function o(){var e=t.getBoundingClientRect();return A(a?n>e.left+u(e)/2:r>e.top+d(e)/2)}function A(e){return e?g(t):t}var a="horizontal"===ce.direction,s=t!==e?o():i();return s}function J(e,t){return"boolean"==typeof ce.copy?ce.copy:ce.copy(e,t)}var W=arguments.length;1===W&&Array.isArray(e)===!1&&(t=e,e=[]);var Y,q,Z,$,ee,te,ne,re,ie,oe,Ae,ae,se=null,le=!1,ce=t||{};void 0===ce.moves&&(ce.moves=c),void 0===ce.accepts&&(ce.accepts=c),void 0===ce.invalid&&(ce.invalid=T),void 0===ce.containers&&(ce.containers=e||[]),void 0===ce.isContainer&&(ce.isContainer=l),void 0===ce.copy&&(ce.copy=!1),void 0===ce.copySortSource&&(ce.copySortSource=!1),void 0===ce.revertOnSpill&&(ce.revertOnSpill=!1),void 0===ce.removeOnSpill&&(ce.removeOnSpill=!1),void 0===ce.direction&&(ce.direction="vertical"),void 0===ce.ignoreInputTextSelection&&(ce.ignoreInputTextSelection=!0),void 0===ce.mirrorContainer&&(ce.mirrorContainer=b.body);var ue=B({containers:ce.containers,start:H,end:S,cancel:L,remove:I,destroy:m,canMove:_,dragging:!1});return ce.removeOnSpill===!0&&ue.on("over",P).on("out",z),r(),ue}function i(e,n,r,i){var o={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},A={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},a={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};t.navigator.pointerEnabled?w[n](e,A[r],i):t.navigator.msPointerEnabled?w[n](e,a[r],i):(w[n](e,o[r],i),w[n](e,r,i))}function o(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function A(e){var t=e.getBoundingClientRect();return{left:t.left+a("scrollLeft","pageXOffset"),top:t.top+a("scrollTop","pageYOffset")}}function a(e,n){return"undefined"!=typeof t[n]?t[n]:E.clientHeight?E[e]:b.body[e]}function s(e,t,n){var r,i=e||{},o=i.className;return i.className+=" gu-hide",r=b.elementFromPoint(t,n),i.className=o,r}function l(){return!1}function c(){return!0}function u(e){return e.width||e.right-e.left}function d(e){return e.height||e.bottom-e.top}function f(e){return e.parentNode===b?null:e.parentNode}function p(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||h(e)}function h(e){return!!e&&("false"!==e.contentEditable&&("true"===e.contentEditable||h(f(e))))}function g(e){function t(){var t=e;do t=t.nextSibling;while(t&&1!==t.nodeType);return t}return e.nextElementSibling||t()}function m(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function v(e,t){var n=m(t),r={pageX:"clientX",pageY:"clientY"};return e in r&&!(e in n)&&r[e]in n&&(e=r[e]),n[e]}var B=n(24),w=n(31),y=n(34),b=document,E=b.documentElement;e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(25),i=n(26);e.exports=function(e,t){var n=t||{},o={};return void 0===e&&(e={}),e.on=function(t,n){return o[t]?o[t].push(n):o[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var r=arguments.length;if(1===r)delete o[t];else if(0===r)o={};else{var i=o[t];if(!i)return e;i.splice(i.indexOf(n),1)}return e},e.emit=function(){var t=r(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var A=(o[t]||[]).slice(0);return function(){var o=r(arguments),a=this||e;if("error"===t&&n.throws!==!1&&!A.length)throw 1===o.length?o[0]:o;return A.forEach(function(r){n.async?i(r,o,a):r.apply(a,o),r._once&&e.off(t,r)}),e}},e}},function(e,t){e.exports=function(e,t){return Array.prototype.slice.call(e,t)}},function(e,t,n){"use strict";var r=n(27);e.exports=function(e,t,n){e&&r(function(){e.apply(n||null,t||[])})}},function(e,t,n){(function(t){var n,r="function"==typeof t;n=r?function(e){t(e)}:function(e){setTimeout(e,0)},e.exports=n}).call(t,n(28).setImmediate)},function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(29),t.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(t,function(){return this}())},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return h[p]=r,f(p),p++}function i(e){delete h[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function A(e){if(g)setTimeout(A,0,e);else{var t=h[e];if(t){g=!0;try{o(t)}finally{i(e),g=!1}}}}function a(){f=function(e){t.nextTick(function(){A(e)})}}function s(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function l(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&A(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),f=function(n){e.postMessage(t+n,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;A(t)},f=function(t){e.port2.postMessage(t)}}function u(){var e=m.documentElement;f=function(t){var n=m.createElement("script");n.onreadystatechange=function(){A(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function d(){f=function(e){setTimeout(A,0,e)}}if(!e.setImmediate){var f,p=1,h={},g=!1,m=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?a():s()?l():e.MessageChannel?c():m&&"onreadystatechange"in m.createElement("script")?u():d(),v.setImmediate=r,v.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(30))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function A(){h&&f&&(h=!1,f.length?p=f.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=i(A);h=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,h=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,u,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var f,p=[],h=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){return e.addEventListener(t,n,r)}function i(e,t,n){return e.attachEvent("on"+t,l(e,t,n))}function o(e,t,n,r){return e.removeEventListener(t,n,r)}function A(e,t,n){var r=c(e,t,n);if(r)return e.detachEvent("on"+t,r)}function a(e,t,n){function r(){var e;return p.createEvent?(e=p.createEvent("Event"),e.initEvent(t,!0,!0)):p.createEventObject&&(e=p.createEventObject()),e}function i(){return new d(t,{detail:n})}var o=f.indexOf(t)===-1?i():r();e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+t,o)}function s(e,n,r){return function(n){var i=n||t.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,r.call(e,i)}}function l(e,t,n){var r=c(e,t,n)||s(e,t,n);return m.push({wrapper:r,element:e,type:t,fn:n}),r}function c(e,t,n){var r=u(e,t,n);if(r){var i=m[r].wrapper;return m.splice(r,1),i}}function u(e,t,n){var r,i;for(r=0;r<m.length;r++)if(i=m[r],i.element===e&&i.type===t&&i.fn===n)return r}var d=n(32),f=n(33),p=t.document,h=r,g=o,m=[];t.addEventListener||(h=i,g=A),e.exports={add:h,remove:g,fabricate:a}}).call(t,function(){return this}())},function(e,t){(function(t){function n(){try{var e=new r("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}var r=t.CustomEvent;e.exports=n()?r:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var n=[],r="",i=/^on/;for(r in t)i.test(r)&&n.push(r.slice(2));e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=o[e];return t?t.lastIndex=0:o[e]=t=new RegExp(A+e+a,"g"),t}function r(e,t){var r=e.className;r.length?n(t).test(r)||(e.className+=" "+t):e.className=t}function i(e,t){e.className=e.className.replace(n(t)," ").trim()}var o={},A="(?:^|\\s)",a="(?:\\s|$)";e.exports={add:r,rm:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadBlueprint=t.createBlueprintCategory=t.createBlueprint=t.getBlueprints=void 0;var i=n(36),o=r(i),A=n(38),a=r(A),s=n(20),l=n(6),c=r(l);t.getBlueprints=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.config.theme;return o.default.load("blueprints",{name:"blueprints",complete:e,theme:t},function(){var n=null!==e?"&complete="+ +e:"";return(0,a.default)(c.default.config.assetsUrl+"endpoints/ajax.php?action=get-blueprints&theme="+t+n).then(function(e){return e.json()}).then(function(e){return e.data.blueprints})})},t.createBlueprint=function(e,t,n,r,i,o,A,l,u){var d={name:e,description:t,category:n,rank:r,public:i,data:o,generatedImage:"",image:l,complete:u};return""===l&&(d.generatedImage=A),(0,a.default)(c.default.config.assetsUrl+"endpoints/ajax.php?action=blueprints-create-blueprint",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then(s.errorHandler)},t.createBlueprintCategory=function(e,t,n){return(0,a.default)(c.default.config.assetsUrl+"endpoints/ajax.php?action=blueprints-create-category",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,rank:t,public:n,theme:c.default.config.theme})}).then(s.errorHandler)},t.loadBlueprint=function(e){return o.default.load("blueprints",{name:"load-blueprint",blueprint:e},function(){return(0,a.default)(c.default.config.assetsUrl+"endpoints/ajax.php?action=load-blueprint&blueprint="+e).then(s.errorHandler).catch(function(e){console.log(e)})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(37),a=r(A),s=function(){function e(){i(this,e),this._cache={}}return o(e,[{key:"_setValue",value:function(e,t,n,r){this._cache[e]||(this._cache[e]={}),this._cache[e][t]||(this._cache[e][t]={}),this._cache[e][t].value=n,this._cache[e][t].expires=r}},{key:"load",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,o=new a.default("SHA-256","TEXT");o.update(JSON.stringify(t));var A=o.getHash("HEX"),s=Math.floor(Date.now()/1e3);return this._cache[e]&&this._cache[e][A]&&this._cache[e][A].expires>s?Promise.resolve(this._cache[e][A].value):Promise.resolve(n()).then(function(t){return r._setValue(e,A,t,s+i),t})}},{key:"kill",value:function(e,t){var n=new a.default("SHA-256","TEXT");n.update(JSON.stringify(t));var r=n.getHash("HEX");this._cache[e]&&this._cache[e][r]&&delete this._cache[e][r]}},{key:"killNamespace",value:function(e){this._cache[e]&&delete this._cache[e]}}]),e}(),l=new s;t.default=l,e.exports=t.default},function(e,t,n){var r;!function(i){function o(e,t,n){var r,i,o,A,f,p,h,g,m,v=0,B=[],w=0,y=!1,b=[],E=[],C=!1,Q=!1,U=-1;if(n=n||{},r=n.encoding||"UTF8",m=n.numRounds||1,m!==parseInt(m,10)||1>m)throw Error("numRounds must a integer >= 1");if("SHA-1"===e)f=512,p=D,h=M,A=160,g=function(e){return e.slice()};else if(0===e.lastIndexOf("SHA-",0))if(p=function(t,n){return K(t,n,e)},h=function(t,n,r,i){var o,A;if("SHA-224"===e||"SHA-256"===e)o=(n+65>>>9<<4)+15,A=16;else{if("SHA-384"!==e&&"SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");o=(n+129>>>10<<5)+31,A=32}for(;t.length<=o;)t.push(0);for(t[n>>>5]|=128<<24-n%32,n+=r,t[o]=4294967295&n,t[o-1]=n/4294967296|0,r=t.length,n=0;n<r;n+=A)i=K(t.slice(n,n+A),i,e);if("SHA-224"===e)t=[i[0],i[1],i[2],i[3],i[4],i[5],i[6]];else if("SHA-256"===e)t=i;else if("SHA-384"===e)t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b];else{if("SHA-512"!==e)throw Error("Unexpected error in SHA-2 implementation");t=[i[0].a,i[0].b,i[1].a,i[1].b,i[2].a,i[2].b,i[3].a,i[3].b,i[4].a,i[4].b,i[5].a,i[5].b,i[6].a,i[6].b,i[7].a,i[7].b]}return t},g=function(e){return e.slice()},"SHA-224"===e)f=512,A=224;else if("SHA-256"===e)f=512,A=256;else if("SHA-384"===e)f=1024,A=384;else{if("SHA-512"!==e)throw Error("Chosen SHA variant is not supported");f=1024,A=512}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("Chosen SHA variant is not supported");var F=6;if(p=R,g=function(e){var t,n=[];for(t=0;5>t;t+=1)n[t]=e[t].slice();return n},U=1,"SHA3-224"===e)f=1152,A=224;else if("SHA3-256"===e)f=1088,A=256;else if("SHA3-384"===e)f=832,A=384;else if("SHA3-512"===e)f=576,A=512;else if("SHAKE128"===e)f=1344,A=-1,F=31,Q=!0;else{if("SHAKE256"!==e)throw Error("Chosen SHA variant is not supported");f=1088,A=-1,F=31,Q=!0}h=function(e,t,n,r,i){n=f;var o,A=F,a=[],s=n>>>5,l=0,c=t>>>5;for(o=0;o<c&&t>=n;o+=s)r=R(e.slice(o,o+s),r),t-=n;for(e=e.slice(o),t%=n;e.length<s;)e.push(0);for(o=t>>>3,e[o>>2]^=A<<o%4*8,e[s-1]^=2147483648,r=R(e,r);32*a.length<i&&(e=r[l%5][l/5|0],a.push(e.b),!(32*a.length>=i));)a.push(e.a),l+=1,0===64*l%n&&R(null,r);return a}}o=d(t,r,U),i=L(e),this.setHMACKey=function(t,n,o){var a;if(!0===y)throw Error("HMAC key already set");if(!0===C)throw Error("Cannot set HMAC key after calling update");if(!0===Q)throw Error("SHAKE is not supported for HMAC");if(r=(o||{}).encoding||"UTF8",n=d(n,r,U)(t),t=n.binLen,n=n.value,a=f>>>3,o=a/4-1,a<t/8){for(n=h(n,t,0,L(e),A);n.length<=o;)n.push(0);n[o]&=4294967040}else if(a>t/8){for(;n.length<=o;)n.push(0);n[o]&=4294967040}for(t=0;t<=o;t+=1)b[t]=909522486^n[t],E[t]=1549556828^n[t];i=p(b,i),v=f,y=!0},this.update=function(e){var t,n,r,A=0,a=f>>>5;for(t=o(e,B,w),e=t.binLen,n=t.value,t=e>>>5,r=0;r<t;r+=a)A+f<=e&&(i=p(n.slice(r,r+a),i),A+=f);v+=A,B=n.slice(A>>>5),w=e%f,C=!0},this.getHash=function(t,n){var r,o,d,f;if(!0===y)throw Error("Cannot call getHash after setting HMAC key");if(d=u(n),!0===Q){if(-1===d.shakeLen)throw Error("shakeLen must be specified in options");A=d.shakeLen}switch(t){case"HEX":r=function(e){return a(e,A,U,d)};break;case"B64":r=function(e){return s(e,A,U,d)};break;case"BYTES":r=function(e){return l(e,A,U)};break;case"ARRAYBUFFER":try{o=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return c(e,A,U)};break;default:throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER")}for(f=h(B.slice(),w,v,g(i),A),o=1;o<m;o+=1)!0===Q&&0!==A%32&&(f[f.length-1]&=16777215>>>24-A%32),f=h(f,A,0,L(e),A);return r(f);
},this.getHMAC=function(t,n){var r,o,d,m;if(!1===y)throw Error("Cannot call getHMAC without first setting HMAC key");switch(d=u(n),t){case"HEX":r=function(e){return a(e,A,U,d)};break;case"B64":r=function(e){return s(e,A,U,d)};break;case"BYTES":r=function(e){return l(e,A,U)};break;case"ARRAYBUFFER":try{r=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}r=function(e){return c(e,A,U)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER")}return o=h(B.slice(),w,v,g(i),A),m=p(E,L(e)),m=h(o,A,f,m,A),r(m)}}function A(e,t){this.a=e,this.b=t}function a(e,t,n,r){var i="";t/=8;var o,A,a;for(a=-1===n?3:0,o=0;o<t;o+=1)A=e[o>>>2]>>>8*(a+o%4*n),i+="0123456789abcdef".charAt(A>>>4&15)+"0123456789abcdef".charAt(15&A);return r.outputUpper?i.toUpperCase():i}function s(e,t,n,r){var i,o,A,a,s="",l=t/8;for(a=-1===n?3:0,i=0;i<l;i+=3)for(o=i+1<l?e[i+1>>>2]:0,A=i+2<l?e[i+2>>>2]:0,A=(e[i>>>2]>>>8*(a+i%4*n)&255)<<16|(o>>>8*(a+(i+1)%4*n)&255)<<8|A>>>8*(a+(i+2)%4*n)&255,o=0;4>o;o+=1)s+=8*i+6*o<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(A>>>6*(3-o)&63):r.b64Pad;return s}function l(e,t,n){var r="";t/=8;var i,o,A;for(A=-1===n?3:0,i=0;i<t;i+=1)o=e[i>>>2]>>>8*(A+i%4*n)&255,r+=String.fromCharCode(o);return r}function c(e,t,n){t/=8;var r,i,o,A=new ArrayBuffer(t);for(o=new Uint8Array(A),i=-1===n?3:0,r=0;r<t;r+=1)o[r]=e[r>>>2]>>>8*(i+r%4*n)&255;return A}function u(e){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(e=e||{},t.outputUpper=e.outputUpper||!1,!0===e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad),!0===e.hasOwnProperty("shakeLen")){if(0!==e.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=e.shakeLen}if("boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function d(e,t,n){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(e){case"HEX":e=function(e,t,r){var i,o,A,a,s,l,c=e.length;if(0!==c%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],r=r||0,s=r>>>3,l=-1===n?3:0,i=0;i<c;i+=2){if(o=parseInt(e.substr(i,2),16),isNaN(o))throw Error("String of HEX type contains invalid characters");for(a=(i>>>1)+s,A=a>>>2;t.length<=A;)t.push(0);t[A]|=o<<8*(l+a%4*n)}return{value:t,binLen:4*c+r}};break;case"TEXT":e=function(e,r,i){var o,A,a,s,l,c,u,d,f=0;if(r=r||[0],i=i||0,l=i>>>3,"UTF8"===t)for(d=-1===n?3:0,a=0;a<e.length;a+=1)for(o=e.charCodeAt(a),A=[],128>o?A.push(o):2048>o?(A.push(192|o>>>6),A.push(128|63&o)):55296>o||57344<=o?A.push(224|o>>>12,128|o>>>6&63,128|63&o):(a+=1,o=65536+((1023&o)<<10|1023&e.charCodeAt(a)),A.push(240|o>>>18,128|o>>>12&63,128|o>>>6&63,128|63&o)),s=0;s<A.length;s+=1){for(u=f+l,c=u>>>2;r.length<=c;)r.push(0);r[c]|=A[s]<<8*(d+u%4*n),f+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(d=-1===n?2:0,A="UTF16LE"===t&&1!==n||"UTF16LE"!==t&&1===n,a=0;a<e.length;a+=1){for(o=e.charCodeAt(a),!0===A&&(s=255&o,o=s<<8|o>>>8),u=f+l,c=u>>>2;r.length<=c;)r.push(0);r[c]|=o<<8*(d+u%4*n),f+=2}return{value:r,binLen:8*f+i}};break;case"B64":e=function(e,t,r){var i,o,A,a,s,l,c,u,d=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(o=e.indexOf("="),e=e.replace(/\=/g,""),-1!==o&&o<e.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],r=r||0,l=r>>>3,u=-1===n?3:0,o=0;o<e.length;o+=4){for(s=e.substr(o,4),A=a=0;A<s.length;A+=1)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(s[A]),a|=i<<18-6*A;for(A=0;A<s.length-1;A+=1){for(c=d+l,i=c>>>2;t.length<=i;)t.push(0);t[i]|=(a>>>16-8*A&255)<<8*(u+c%4*n),d+=1}}return{value:t,binLen:8*d+r}};break;case"BYTES":e=function(e,t,r){var i,o,A,a,s,l;for(t=t||[0],r=r||0,A=r>>>3,l=-1===n?3:0,o=0;o<e.length;o+=1)i=e.charCodeAt(o),s=o+A,a=s>>>2,t.length<=a&&t.push(0),t[a]|=i<<8*(l+s%4*n);return{value:t,binLen:8*e.length+r}};break;case"ARRAYBUFFER":try{e=new ArrayBuffer(0)}catch(e){throw Error("ARRAYBUFFER not supported by this environment")}e=function(e,t,r){var i,o,A,a,s,l;for(t=t||[0],r=r||0,o=r>>>3,s=-1===n?3:0,l=new Uint8Array(e),i=0;i<e.byteLength;i+=1)a=i+o,A=a>>>2,t.length<=A&&t.push(0),t[A]|=l[i]<<8*(s+a%4*n);return{value:t,binLen:8*e.byteLength+r}};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER")}return e}function f(e,t){return e<<t|e>>>32-t}function p(e,t){return 32<t?(t-=32,new A(e.b<<t|e.a>>>32-t,e.a<<t|e.b>>>32-t)):0!==t?new A(e.a<<t|e.b>>>32-t,e.b<<t|e.a>>>32-t):e}function h(e,t){return e>>>t|e<<32-t}function g(e,t){var n=null,n=new A(e.a,e.b);return n=32>=t?new A(n.a>>>t|n.b<<32-t&4294967295,n.b>>>t|n.a<<32-t&4294967295):new A(n.b>>>t-32|n.a<<64-t&4294967295,n.a>>>t-32|n.b<<64-t&4294967295)}function m(e,t){var n=null;return n=32>=t?new A(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new A(0,e.a>>>t-32)}function v(e,t,n){return e&t^~e&n}function B(e,t,n){return new A(e.a&t.a^~e.a&n.a,e.b&t.b^~e.b&n.b)}function w(e,t,n){return e&t^e&n^t&n}function y(e,t,n){return new A(e.a&t.a^e.a&n.a^t.a&n.a,e.b&t.b^e.b&n.b^t.b&n.b)}function b(e){return h(e,2)^h(e,13)^h(e,22)}function E(e){var t=g(e,28),n=g(e,34);return e=g(e,39),new A(t.a^n.a^e.a,t.b^n.b^e.b)}function C(e){return h(e,6)^h(e,11)^h(e,25)}function Q(e){var t=g(e,14),n=g(e,18);return e=g(e,41),new A(t.a^n.a^e.a,t.b^n.b^e.b)}function U(e){return h(e,7)^h(e,18)^e>>>3}function F(e){var t=g(e,1),n=g(e,8);return e=m(e,7),new A(t.a^n.a^e.a,t.b^n.b^e.b)}function _(e){return h(e,17)^h(e,19)^e>>>10}function H(e){var t=g(e,19),n=g(e,61);return e=m(e,6),new A(t.a^n.a^e.a,t.b^n.b^e.b)}function x(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function T(e,t,n,r){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)&65535)<<16|65535&i}function S(e,t,n,r,i){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16)&65535)<<16|65535&o}function N(e,t){var n,r,i;return n=(65535&e.b)+(65535&t.b),r=(e.b>>>16)+(t.b>>>16)+(n>>>16),i=(65535&r)<<16|65535&n,n=(65535&e.a)+(65535&t.a)+(r>>>16),r=(e.a>>>16)+(t.a>>>16)+(n>>>16),new A((65535&r)<<16|65535&n,i)}function k(e,t,n,r){var i,o,a;return i=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b),o=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(i>>>16),a=(65535&o)<<16|65535&i,i=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(o>>>16),o=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(i>>>16),new A((65535&o)<<16|65535&i,a)}function O(e,t,n,r,i){var o,a,s;return o=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b)+(65535&i.b),a=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(i.b>>>16)+(o>>>16),s=(65535&a)<<16|65535&o,o=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(65535&i.a)+(a>>>16),a=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(i.a>>>16)+(o>>>16),new A((65535&a)<<16|65535&o,s)}function I(e,t){return new A(e.a^t.a,e.b^t.b)}function L(e){var t,n=[];if("SHA-1"===e)n=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===e.lastIndexOf("SHA-",0))switch(n=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],t=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e){case"SHA-224":break;case"SHA-256":n=t;break;case"SHA-384":n=[new A(3418070365,n[0]),new A(1654270250,n[1]),new A(2438529370,n[2]),new A(355462360,n[3]),new A(1731405415,n[4]),new A(41048885895,n[5]),new A(3675008525,n[6]),new A(1203062813,n[7])];break;case"SHA-512":n=[new A(t[0],4089235720),new A(t[1],2227873595),new A(t[2],4271175723),new A(t[3],1595750129),new A(t[4],2917565137),new A(t[5],725511199),new A(t[6],4215389547),new A(t[7],327033209)];break;default:throw Error("Unknown SHA variant")}else{if(0!==e.lastIndexOf("SHA3-",0)&&0!==e.lastIndexOf("SHAKE",0))throw Error("No SHA variants supported");for(e=0;5>e;e+=1)n[e]=[new A(0,0),new A(0,0),new A(0,0),new A(0,0),new A(0,0)]}return n}function D(e,t){var n,r,i,o,A,a,s,l=[];for(n=t[0],r=t[1],i=t[2],o=t[3],A=t[4],s=0;80>s;s+=1)l[s]=16>s?e[s]:f(l[s-3]^l[s-8]^l[s-14]^l[s-16],1),a=20>s?S(f(n,5),r&i^~r&o,A,1518500249,l[s]):40>s?S(f(n,5),r^i^o,A,1859775393,l[s]):60>s?S(f(n,5),w(r,i,o),A,2400959708,l[s]):S(f(n,5),r^i^o,A,3395469782,l[s]),A=o,o=i,i=f(r,30),r=n,n=a;return t[0]=x(n,t[0]),t[1]=x(r,t[1]),t[2]=x(i,t[2]),t[3]=x(o,t[3]),t[4]=x(A,t[4]),t}function M(e,t,n,r){var i;for(i=(t+65>>>9<<4)+15;e.length<=i;)e.push(0);for(e[t>>>5]|=128<<24-t%32,t+=n,e[i]=4294967295&t,e[i-1]=t/4294967296|0,t=e.length,i=0;i<t;i+=16)r=D(e.slice(i,i+16),r);return r}function K(e,t,n){var r,i,o,a,s,l,c,u,d,f,p,h,g,m,I,L,D,M,K,R,j,V,G,X=[];if("SHA-224"===n||"SHA-256"===n)f=64,h=1,V=Number,g=x,m=T,I=S,L=U,D=_,M=b,K=C,j=w,R=v,G=P;else{if("SHA-384"!==n&&"SHA-512"!==n)throw Error("Unexpected error in SHA-2 implementation");f=80,h=2,V=A,g=N,m=k,I=O,L=F,D=H,M=E,K=Q,j=y,R=B,G=z}for(n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],p=0;p<f;p+=1)16>p?(d=p*h,u=e.length<=d?0:e[d],d=e.length<=d+1?0:e[d+1],X[p]=new V(u,d)):X[p]=m(D(X[p-2]),X[p-7],L(X[p-15]),X[p-16]),u=I(c,K(a),R(a,s,l),G[p],X[p]),d=g(M(n),j(n,r,i)),c=l,l=s,s=a,a=g(o,u),o=i,i=r,r=n,n=g(u,d);return t[0]=g(n,t[0]),t[1]=g(r,t[1]),t[2]=g(i,t[2]),t[3]=g(o,t[3]),t[4]=g(a,t[4]),t[5]=g(s,t[5]),t[6]=g(l,t[6]),t[7]=g(c,t[7]),t}function R(e,t){var n,r,i,o,a=[],s=[];if(null!==e)for(r=0;r<e.length;r+=2)t[(r>>>1)%5][(r>>>1)/5|0]=I(t[(r>>>1)%5][(r>>>1)/5|0],new A(e[r+1],e[r]));for(n=0;24>n;n+=1){for(o=L("SHA3-"),r=0;5>r;r+=1){i=t[r][0];var l=t[r][1],c=t[r][2],u=t[r][3],d=t[r][4];a[r]=new A(i.a^l.a^c.a^u.a^d.a,i.b^l.b^c.b^u.b^d.b)}for(r=0;5>r;r+=1)s[r]=I(a[(r+4)%5],p(a[(r+1)%5],1));for(r=0;5>r;r+=1)for(i=0;5>i;i+=1)t[r][i]=I(t[r][i],s[r]);for(r=0;5>r;r+=1)for(i=0;5>i;i+=1)o[i][(2*r+3*i)%5]=p(t[r][i],j[r][i]);for(r=0;5>r;r+=1)for(i=0;5>i;i+=1)t[r][i]=I(o[r][i],new A(~o[(r+1)%5][i].a&o[(r+2)%5][i].a,~o[(r+1)%5][i].b&o[(r+2)%5][i].b));t[0][0]=I(t[0][0],V[n])}return t}var P,z,j,V;P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],z=[new A(P[0],3609767458),new A(P[1],602891725),new A(P[2],3964484399),new A(P[3],2173295548),new A(P[4],4081628472),new A(P[5],3053834265),new A(P[6],2937671579),new A(P[7],3664609560),new A(P[8],2734883394),new A(P[9],1164996542),new A(P[10],1323610764),new A(P[11],3590304994),new A(P[12],4068182383),new A(P[13],991336113),new A(P[14],633803317),new A(P[15],3479774868),new A(P[16],2666613458),new A(P[17],944711139),new A(P[18],2341262773),new A(P[19],2007800933),new A(P[20],1495990901),new A(P[21],1856431235),new A(P[22],3175218132),new A(P[23],2198950837),new A(P[24],3999719339),new A(P[25],766784016),new A(P[26],2566594879),new A(P[27],3203337956),new A(P[28],1034457026),new A(P[29],2466948901),new A(P[30],3758326383),new A(P[31],168717936),new A(P[32],1188179964),new A(P[33],1546045734),new A(P[34],1522805485),new A(P[35],2643833823),new A(P[36],2343527390),new A(P[37],1014477480),new A(P[38],1206759142),new A(P[39],344077627),new A(P[40],1290863460),new A(P[41],3158454273),new A(P[42],3505952657),new A(P[43],106217008),new A(P[44],3606008344),new A(P[45],1432725776),new A(P[46],1467031594),new A(P[47],851169720),new A(P[48],3100823752),new A(P[49],1363258195),new A(P[50],3750685593),new A(P[51],3785050280),new A(P[52],3318307427),new A(P[53],3812723403),new A(P[54],2003034995),new A(P[55],3602036899),new A(P[56],1575990012),new A(P[57],1125592928),new A(P[58],2716904306),new A(P[59],442776044),new A(P[60],593698344),new A(P[61],3733110249),new A(P[62],2999351573),new A(P[63],3815920427),new A(3391569614,3928383900),new A(3515267271,566280711),new A(3940187606,3454069534),new A(4118630271,4000239992),new A(116418474,1914138554),new A(174292421,2731055270),new A(289380356,3203993006),new A(460393269,320620315),new A(685471733,587496836),new A(852142971,1086792851),new A(1017036298,365543100),new A(1126000580,2618297676),new A(1288033470,3409855158),new A(1501505948,4234509866),new A(1607167915,987167468),new A(1816402316,1246189591)],V=[new A(0,1),new A(0,32898),new A(2147483648,32906),new A(2147483648,2147516416),new A(0,32907),new A(0,2147483649),new A(2147483648,2147516545),new A(2147483648,32777),new A(0,138),new A(0,136),new A(0,2147516425),new A(0,2147483658),new A(0,2147516555),new A(2147483648,139),new A(2147483648,32905),new A(2147483648,32771),new A(2147483648,32770),new A(2147483648,128),new A(0,32778),new A(2147483648,2147483658),new A(2147483648,2147516545),new A(2147483648,32896),new A(0,2147483649),new A(2147483648,2147516424)],j=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]],r=function(){return o}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=r(i),A=n(39),a=r(A),s=n(49),l=r(s),c=null;t.default=function(){return null===c&&(c=(0,a.default)(l.default,{credentials:"same-origin",headers:{"X-Fred-Token":o.default.jwt}})),c.apply(void 0,arguments)},e.exports=t.default},function(e,t,n){function r(e){return i.parse(e,a,s)}var i=n(40),o=n(47).assign,A=n(47).merge,a=!1,s=!0;t=e.exports=function(e,n,i){return"string"==typeof n?n=r(n):(i=n,n=null),o(t.fetch.bind(null,e,n,i),e)},t.fetch=function(e,t,n,r,i){return null!=t&&(r=t.resolve(r)),"function"==typeof n&&(n=n(r,i)),e(r,null==i?n:A({},n,i))}},function(e,t,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(e,t,n){if(e&&l.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}function o(e){return l.isString(e)&&(e=i(e)),e instanceof r?e.format():r.prototype.format.call(e)}function A(e,t){return i(e,!1,!0).resolve(t)}function a(e,t){return e?i(e,!1,!0).resolveObject(t):t}var s=n(41),l=n(43);t.parse=i,t.resolve=A,t.resolveObject=a,t.format=o,t.Url=r;var c=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(f),h=["'"].concat(p),g=["%","/","?",";","#"].concat(h),m=["/","?","#"],v=255,B=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=n(44);r.prototype.parse=function(e,t,n){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=r!==-1&&r<e.indexOf("#")?"?":"#",o=e.split(i),A=/\\/g;o[0]=o[0].replace(A,"/"),e=o.join(i);var a=e;if(a=a.trim(),!n&&1===e.split("#").length){var u=d.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],t?this.query=C.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var f=c.exec(a);if(f){f=f[0];var p=f.toLowerCase();this.protocol=p,a=a.substr(f.length)}if(n||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var Q="//"===a.substr(0,2);!Q||f&&b[f]||(a=a.substr(2),this.slashes=!0)}if(!b[f]&&(Q||f&&!E[f])){for(var U=-1,F=0;F<m.length;F++){var _=a.indexOf(m[F]);_!==-1&&(U===-1||_<U)&&(U=_)}var H,x;x=U===-1?a.lastIndexOf("@"):a.lastIndexOf("@",U),x!==-1&&(H=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(H)),U=-1;for(var F=0;F<g.length;F++){var _=a.indexOf(g[F]);_!==-1&&(U===-1||_<U)&&(U=_)}U===-1&&(U=a.length),this.host=a.slice(0,U),a=a.slice(U),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var S=this.hostname.split(/\./),F=0,N=S.length;F<N;F++){var k=S[F];if(k&&!k.match(B)){for(var O="",I=0,L=k.length;I<L;I++)O+=k.charCodeAt(I)>127?"x":k[I];if(!O.match(B)){var D=S.slice(0,F),M=S.slice(F+1),K=k.match(w);K&&(D.push(K[1]),M.unshift(K[2])),M.length&&(a="/"+M.join(".")+a),this.hostname=D.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=s.toASCII(this.hostname));var R=this.port?":"+this.port:"",P=this.hostname||"";this.host=P+R,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!y[p])for(var F=0,N=h.length;F<N;F++){var z=h[F];if(a.indexOf(z)!==-1){var j=encodeURIComponent(z);j===z&&(j=escape(z)),a=a.split(z).join(j)}}var V=a.indexOf("#");V!==-1&&(this.hash=a.substr(V),a=a.slice(0,V));var G=a.indexOf("?");if(G!==-1?(this.search=a.substr(G),this.query=a.substr(G+1),t&&(this.query=C.parse(this.query)),a=a.slice(0,G)):t&&(this.search="",this.query={}),a&&(this.pathname=a),E[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var R=this.pathname||"",X=this.search||"";this.path=R+X}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=C.stringify(this.query));var A=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||E[t])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),A&&"?"!==A.charAt(0)&&(A="?"+A),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),A=A.replace("#","%23"),t+i+n+A+r},r.prototype.resolve=function(e){return this.resolveObject(i(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var A=i[o];n[A]=this[A]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var c=a[s];"protocol"!==c&&(n[c]=e[c])}return E[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!E[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var f=u[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||b[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",g=n.search||"";n.path=h+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),B=v||m||n.host&&e.pathname,w=B,y=n.pathname&&n.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],C=n.protocol&&!E[n.protocol];if(C&&(n.hostname="",n.port=null,n.host&&(""===y[0]?y[0]=n.host:y.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),B=B&&(""===p[0]||""===y[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,y=p;else if(p.length)y||(y=[]),y.pop(),y=y.concat(p),n.search=e.search,n.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(C){n.hostname=n.host=y.shift();var Q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");Q&&(n.auth=Q.shift(),n.host=n.hostname=Q.shift())}return n.search=e.search,n.query=e.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!y.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var U=y.slice(-1)[0],F=(n.host||e.host||y.length>1)&&("."===U||".."===U)||""===U,_=0,H=y.length;H>=0;H--)U=y[H],"."===U?y.splice(H,1):".."===U?(y.splice(H,1),_++):_&&(y.splice(H,1),_--);if(!B&&!w)for(;_--;_)y.unshift("..");!B||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),F&&"/"!==y.join("/").substr(-1)&&y.push("");var x=""===y[0]||y[0]&&"/"===y[0].charAt(0);if(C){n.hostname=n.host=x?"":y.length?y.shift():"";var Q=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");Q&&(n.auth=Q.shift(),n.host=n.hostname=Q.shift())}return B=B||n.host&&y.length,B&&!x&&y.unshift(""),y.length?n.pathname=y.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){var r;(function(e,i){!function(o){function A(e){throw RangeError(S[e])}function a(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function s(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(T,".");var i=e.split("."),o=a(i,t).join(".");return r+o}function l(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function c(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(e>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function u(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:y}function d(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function f(e,t,n){var r=0;for(e=n?k(e/Q):e>>1,e+=k(e/t);e>N*E>>1;r+=y)e=k(e/N);return k(r+(N+1)*e/(e+C))}function p(e){var t,n,r,i,o,a,s,l,d,p,h=[],g=e.length,m=0,v=F,B=U;for(n=e.lastIndexOf(_),n<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&A("not-basic"),h.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=m,a=1,s=y;i>=g&&A("invalid-input"),l=u(e.charCodeAt(i++)),(l>=y||l>k((w-m)/a))&&A("overflow"),m+=l*a,d=s<=B?b:s>=B+E?E:s-B,!(l<d);s+=y)p=y-d,a>k(w/p)&&A("overflow"),a*=p;t=h.length+1,B=f(m-o,t,0==o),k(m/t)>w-v&&A("overflow"),v+=k(m/t),m%=t,h.splice(m++,0,v)}return c(h)}function h(e){var t,n,r,i,o,a,s,c,u,p,h,g,m,v,B,C=[];for(e=l(e),g=e.length,t=F,n=0,o=U,a=0;a<g;++a)h=e[a],h<128&&C.push(O(h));for(r=i=C.length,i&&C.push(_);r<g;){for(s=w,a=0;a<g;++a)h=e[a],h>=t&&h<s&&(s=h);for(m=r+1,s-t>k((w-n)/m)&&A("overflow"),n+=(s-t)*m,t=s,a=0;a<g;++a)if(h=e[a],h<t&&++n>w&&A("overflow"),h==t){for(c=n,u=y;p=u<=o?b:u>=o+E?E:u-o,!(c<p);u+=y)B=c-p,v=y-p,C.push(O(d(p+B%v,0))),c=k(B/v);C.push(O(d(c,0))),o=f(n,m,r==i),n=0,++r}++n,++t}return C.join("")}function g(e){return s(e,function(e){return H.test(e)?p(e.slice(4).toLowerCase()):e})}function m(e){return s(e,function(e){return x.test(e)?"xn--"+h(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof i&&i);v.global!==v&&v.window!==v&&v.self!==v||(o=v);var B,w=2147483647,y=36,b=1,E=26,C=38,Q=700,U=72,F=128,_="-",H=/^xn--/,x=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=y-b,k=Math.floor,O=String.fromCharCode;B={version:"1.3.2",ucs2:{decode:l,encode:c},decode:p,encode:h,toASCII:m,toUnicode:g},r=function(){return B}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(42)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(45),t.encode=t.stringify=n(46)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var A=/\+/g;e=e.split(t);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var l=0;l<s;++l){var c,u,d,f,p=e[l].replace(A,"%20"),h=p.indexOf(r);h>=0?(c=p.substr(0,h),u=p.substr(h+1)):(c=p,u=""),d=decodeURIComponent(c),f=decodeURIComponent(u),n(o,d)?Array.isArray(o[d])?o[d].push(f):o[d]=[o[d],f]:o[d]=f}return o}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(e[i])?e[i].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[i]))}).join(t):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(e)):""}},function(e,t,n){function r(e){return function(){return!e.apply(this,arguments)}}function i(e){return c(e)?e:[e]}var o=Function.call.bind(Object.hasOwnProperty),A=Function.call.bind(Object.propertyIsEnumerable),a=n(48).getPropertyDescriptor,s=Object.prototype.__lookupGetter__,l=Object.prototype.__lookupSetter__,c=Array.isArray,u="Oolong.setPrototypeOf called on null or undefined";t.assign=function(e){if(null!=e)for(var t=1;t<arguments.length;++t){var n=arguments[t];for(var r in n)e[r]=n[r]}return e},t.assignOwn=function(e){if(null!=e)for(var t=1;t<arguments.length;++t){var n=arguments[t];for(var r in n)o(n,r)&&(e[r]=n[r])}return e},t.clone=function(e){return null==e?e:t.assign({},e)},t.cloneDeep=function(e){return null==e?e:t.merge({},e)},t.create=function(e){return e=arguments[0]=Object.create(e),1==arguments.length?e:t.assign.apply(this,arguments)},t.defaults=function(e){if(null!=e)for(var t=1;t<arguments.length;++t){var n=arguments[t];for(var r in n)r in e||(e[r]=n[r])}return e},t.defineGetter=function(e,t,n){return Object.defineProperty(e,t,{get:n,configurable:!0,enumerable:!o(e,t)||A(e,t)})},t.defineSetter=function(e,t,n){return Object.defineProperty(e,t,{set:n,configurable:!0,enumerable:!o(e,t)||A(e,t)})},t.each=function(e,t,n){for(var r in e)t.call(n,e[r],r,e);return e},t.eachOwn=function(e,t,n){for(var r in e)o(e,r)&&t.call(n,e[r],r,e);return e},t.filter=function(e,t,n){var r={};for(var i in e){var o=e[i];t.call(n,o,i,e)&&(r[i]=o)}return r},t.forEach=t.each,t.forEachOwn=t.eachOwn,t.has=function(e,t){return t in e},t.hasOwn=o,t.isEmpty=function(e){for(e in e)return!1;return!0},t.isIn=t.has,t.isInOwn=t.hasOwn,t.isObject=function(e){return null!=e&&"object"==typeof e},t.isOwnEmpty=function(e){for(var t in e)if(o(e,t))return!1;return!0},t.isPlainObject=function(e){if(null==e)return!1;if("object"!=typeof e)return!1;if(c(e))return!1;var t=Object.getPrototypeOf(e);return null===t||(!("constructor"in t)||t.constructor===Object)},t.keys=function e(t){var e=[];for(var n in t)e.push(n);return e},t.lookupGetter=s?Function.call.bind(s):function(e,t){var n=a(e,t);return n&&n.get},t.lookupSetter=l?Function.call.bind(l):function(e,t){var n=a(e,t);return n&&n.set},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.mapKeys=function(e,t,n){var r={};for(var i in e){var o=e[i];r[t.call(n,i,o,e)]=o}return r},t.merge=function e(n){if(null!=n)for(var r=1;r<arguments.length;++r){var i=arguments[r];for(var o in i){var A=n[o],a=i[o],s=t.isPlainObject(A),l=t.isPlainObject(a);s&&l?e(A,a):l?n[o]=e({},a):n[o]=a}}return n},t.object=function(e,t,n){for(var r={},i=0;i<e.length;++i){var o=e[i];r[o]=t.call(n,o,i,e)}return r},t.ownKeys=Object.keys,t.pick=function(e){for(var t={},n=1;n<arguments.length;++n){var r=arguments[n];r in e&&(t[r]=e[r])}return t},t.pickDeep=function(e){for(var t={},n=1;n<arguments.length;++n){var r,o,A=i(arguments[n]),a=A.length,s=e,l=t;for(o=0;o<a&&(r=A[o])in s;++o)s=s[r];if(o===a){for(o=0;o<a-1;++o)l=l[A[o]]||(l[A[o]]={});l[A[o]]=s}}return t},t.pluck=function(e,n){return t.map(e,t.property(n))},t.property=function(e){return function(t){return t[e]}},t.reject=function(e,n,i){return t.filter(e,r(n),i)},t.setPrototypeOf=Object.setPrototypeOf||function(e,t){if(null==e)throw new TypeError(u);return"object"==typeof e&&(e.__proto__=t),e},t.values=function e(t){var e=[];for(var n in t)e.push(t[n]);return e},t.wrap=function(e,t){var n={};return n[t]=e,n}},function(e,t){t.getPropertyDescriptor=Object.getPropertyDescriptor||function(e,t){if(t in e){var n;do if(n=Object.getOwnPropertyDescriptor(e,t))return n;while(e=Object.getPrototypeOf(e))}}},function(e,t,n){n(50),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function A(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function a(e){var t=new FileReader,n=A(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=A(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(m.arrayBuffer&&m.blob&&B(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a);
}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return y.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function h(e){var t=new i;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(m.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],B=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];this.map[e]=i?i+","+r:r},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=n(r)},i.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},u.call(f.prototype),u.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];g.redirect=function(e,t){if(b.indexOf(t)===-1)throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,r){var i=new f(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:h(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new g(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&m.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send("undefined"==typeof i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(t,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";e.exports=function(){var e=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,t=arguments,n=0,r=t[n++],i=function(e,t,n,r){n||(n=" ");var i=e.length>=t?"":new Array(1+t-e.length>>>0).join(n);return r?e+i:i+e},o=function(e,t,n,r,o){var A=r-e.length;return A>0&&(e=n||"0"!==o?i(e,r,o,n):[e.slice(0,t.length),i("",A,"0",!0),e.slice(t.length)].join("")),e},A=function(e,t,n,r,A,a){var s=e>>>0;return e=i(s.toString(t),A||0,"0",!1),o(e,"",n,r,a)},a=function(e,t,n,r,i){return null!==r&&void 0!==r&&(e=e.slice(0,r)),o(e,"",t,n,i)},s=function(e,r,s,l,c,u){var d,f,p,h,g;if("%%"===e)return"%";var m,v,B=" ",w=!1,y="";for(m=0,v=s.length;m<v;m++)switch(s.charAt(m)){case" ":case"0":B=s.charAt(m);break;case"+":y="+";break;case"-":w=!0;break;case"'":m+1<v&&(B=s.charAt(m+1),m++)}if(l=l?+l:0,!isFinite(l))throw new Error("Width must be finite");if(c=c?+c:"d"===u?0:"fFeE".indexOf(u)>-1?6:void 0,r&&0===+r)throw new Error("Argument number must be greater than zero");if(r&&+r>=t.length)throw new Error("Too few arguments");switch(g=r?t[+r]:t[n++],u){case"%":return"%";case"s":return a(g+"",w,l,c,B);case"c":return a(String.fromCharCode(+g),w,l,c,B);case"b":return A(g,2,w,l,c,B);case"o":return A(g,8,w,l,c,B);case"x":return A(g,16,w,l,c,B);case"X":return A(g,16,w,l,c,B).toUpperCase();case"u":return A(g,10,w,l,c,B);case"i":case"d":return d=+g||0,d=Math.round(d-d%1),f=d<0?"-":y,g=f+i(String(Math.abs(d)),c,"0",!1),w&&"0"===B&&(B=" "),o(g,f,w,l,B);case"e":case"E":case"f":case"F":case"g":case"G":return d=+g,f=d<0?"-":y,p=["toExponential","toFixed","toPrecision"]["efg".indexOf(u.toLowerCase())],h=["toString","toUpperCase"]["eEfFgG".indexOf(u)%2],g=f+Math.abs(d)[p](c),o(g,f,w,l,B)[h]();default:return""}};try{return r.replace(e,s)}catch(e){return!1}}},function(e,t){e.exports=n(52)},function(e,t,n){/**
	 * Twig.js
	 *
	 * @copyright 2011-2016 John Roepke and the Twig.js Contributors
	 * @license   Available under the BSD 2-Clause License
	 * @link      https://github.com/twigjs/twig.js
	 */
e.exports=n(3)()},function(e,t,n){e.exports=function e(){var t={VERSION:"1.13.3"};return n(4)(t),n(5)(t),n(6)(t),n(8)(t),n(9)(t),n(10)(t),n(20)(t),n(21)(t),n(23)(t),n(24)(t),n(25)(t),n(26)(t),n(27)(t),n(28)(t),n(29)(t),t.exports.factory=e,t.exports}},function(e,t){e.exports=function(e){"use strict";function t(t,n){if(t.options.rethrow)throw"string"==typeof n&&(n=new e.Error(n)),"TwigException"!=n.type||n.file||(n.file=t.id),n;if(e.log.error("Error parsing twig template "+t.id+": "),n.stack?e.log.error(n.stack):e.log.error(n.toString()),e.debug)return n.toString()}function n(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&n===e}return e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.placeholders={parent:"{{|PARENT|}}"},e.hasIndexOf=Array.prototype.hasOwnProperty("indexOf"),e.indexOf=function(t,n){if(e.hasIndexOf)return t.indexOf(n);if(void 0===t||null===t)throw new TypeError;var r=Object(t),i=r.length>>>0;if(0===i)return-1;var o=0;if(arguments.length>0&&(o=Number(arguments[1]),o!==o?o=0:0!==o&&o!==1/0&&o!==-(1/0)&&(o=(o>0||-1)*Math.floor(Math.abs(o)))),o>=i)return-1;for(var A=o>=0?o:Math.max(i-Math.abs(o),0);A<i;A++)if(A in r&&r[A]===n)return A;return t==n?0:-1},e.forEach=function(e,t,n){if(Array.prototype.forEach)return e.forEach(t,n);var r,i;if(null==e)throw new TypeError(" this is null or not defined");var o=Object(e),A=o.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(n&&(r=n),i=0;i<A;){var a;i in o&&(a=o[i],t.call(r,a,i,o)),i++}},e.merge=function(t,n,r){return e.forEach(Object.keys(n),function(e){(!r||e in t)&&(t[e]=n[e])}),t},e.attempt=function(e,t){try{return e()}catch(e){return t(e)}},e.Error=function(e,t){this.message=e,this.name="TwigException",this.type="TwigException",this.file=t},e.Error.prototype.toString=function(){var e=this.name+": "+this.message;return e},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?"undefined"!=typeof console.error?e.log.error=function(){console.error.apply(console,arguments)}:"undefined"!=typeof console.log&&(e.log.error=function(){console.log.apply(console,arguments)}):e.log.error=function(){},e.ChildContext=function(t){return e.lib.copy(t)},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:e.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:e.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:e.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:e.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:e.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var n,r,i,o,A={position:null,def:null},a=null,s=e.token.definitions.length;for(n=0;n<s;n++)r=e.token.definitions[n],i=t.indexOf(r.open),o=t.indexOf(r.close),e.log.trace("Twig.token.findStart: ","Searching for ",r.open," found at ",i),i>=0&&r.open.length!==r.close.length&&o<0||(i>=0&&(null===A.position||i<A.position)?(A.position=i,A.def=r,a=o):i>=0&&null!==A.position&&i===A.position&&(r.open.length>A.def.open.length?(A.position=i,A.def=r,a=o):r.open.length===A.def.open.length&&(r.close.length>A.def.close.length?o>=0&&o<a&&(A.position=i,A.def=r,a=o):o>=0&&o<a&&(A.position=i,A.def=r,a=o))));return A},e.token.findEnd=function(t,n,r){for(var i,o,A=null,a=!1,s=0,l=null,c=null,u=null,d=null,f=null,p=null;!a;){if(l=null,c=null,u=t.indexOf(n.close,s),!(u>=0))throw new e.Error("Unable to find closing bracket '"+n.close+"' opened near template position "+r);if(A=u,a=!0,n.type===e.token.type.comment)break;if(n.type===e.token.type.raw)break;for(o=e.token.strings.length,i=0;i<o;i+=1)f=t.indexOf(e.token.strings[i],s),f>0&&f<u&&(null===l||f<l)&&(l=f,c=e.token.strings[i]);if(null!==l)for(d=l+1,A=null,a=!1;;){if(p=t.indexOf(c,d),p<0)throw"Unclosed string in template";if("\\"!==t.substr(p-1,1)){s=p+1;break}d=p+1}}return A},e.tokenize=function(t){for(var n=[],r=0,i=null,o=null;t.length>0;)if(i=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",i),null!==i.position){if(i.position>0&&n.push({type:e.token.type.raw,value:t.substring(0,i.position)}),t=t.substr(i.position+i.def.open.length),r+=i.position+i.def.open.length,o=e.token.findEnd(t,i.def,r),e.log.trace("Twig.tokenize: ","Token ends at ",o),n.push({type:i.def.type,value:t.substring(0,o).trim()}),"\n"===t.substr(o+i.def.close.length,1))switch(i.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":o+=1}t=t.substr(o+i.def.close.length),r+=o+i.def.close.length}else n.push({type:e.token.type.raw,value:t}),t="";return n},e.compile=function(t){var n=this;return e.attempt(function(){for(var r=[],i=[],o=[],A=null,a=null,s=null,l=null,c=null,u=null,d=null,f=null,p=null,h=null,g=null,m=null,v=function(t){e.expression.compile.call(n,t),i.length>0?o.push(t):r.push(t)},B=function(t){if(a=e.logic.compile.call(n,t),h=a.type,g=e.logic.handler[h].open,m=e.logic.handler[h].next,e.log.trace("Twig.compile: ","Compiled logic token to ",a," next is: ",m," open is : ",g),void 0!==g&&!g){if(l=i.pop(),d=e.logic.handler[l.type],e.indexOf(d.next,h)<0)throw new Error(h+" not expected after a "+l.type);l.output=l.output||[],l.output=l.output.concat(o),o=[],p={type:e.token.type.logic,token:l},i.length>0?o.push(p):r.push(p)}void 0!==m&&m.length>0?(e.log.trace("Twig.compile: ","Pushing ",a," to logic stack."),i.length>0&&(l=i.pop(),l.output=l.output||[],l.output=l.output.concat(o),i.push(l),o=[]),i.push(a)):void 0!==g&&g&&(p={type:e.token.type.logic,token:a},i.length>0?o.push(p):r.push(p))};t.length>0;){switch(A=t.shift(),c=r[r.length-1],u=o[o.length-1],f=t[0],e.log.trace("Compiling token ",A),A.type){case e.token.type.raw:i.length>0?o.push(A):r.push(A);break;case e.token.type.logic:B.call(n,A);break;case e.token.type.comment:break;case e.token.type.output:v.call(n,A);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:switch(A.type!==e.token.type.output_whitespace_post&&A.type!==e.token.type.logic_whitespace_post&&(c&&c.type===e.token.type.raw&&(r.pop(),null===c.value.match(/^\s*$/)&&(c.value=c.value.trim(),r.push(c))),u&&u.type===e.token.type.raw&&(o.pop(),null===u.value.match(/^\s*$/)&&(u.value=u.value.trim(),o.push(u)))),A.type){case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:v.call(n,A);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:B.call(n,A)}A.type!==e.token.type.output_whitespace_pre&&A.type!==e.token.type.logic_whitespace_pre&&f&&f.type===e.token.type.raw&&(t.shift(),null===f.value.match(/^\s*$/)&&(f.value=f.value.trim(),t.unshift(f)))}e.log.trace("Twig.compile: "," Output: ",r," Logic Stack: ",i," Pending Output: ",o)}if(i.length>0)throw s=i.pop(),new Error("Unable to find an end tag for "+s.type+", expecting one of "+s.next);return r},function(t){if(n.options.rethrow)throw"TwigException"!=t.type||t.file||(t.file=n.id),t;e.log.error("Error compiling twig template "+n.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString())})},e.parse=function(n,r,i){function o(e){s.push(e)}function A(e){"undefined"!=typeof e.chain&&(d=e.chain),"undefined"!=typeof e.context&&(r=e.context),"undefined"!=typeof e.output&&s.push(e.output)}var a=this,s=[],l=null,c=!0,u=null,d=!0;if(u=e.async.forEach(n,function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:s.push(e.filters.raw(t.value));break;case e.token.type.logic:return e.logic.parseAsync.call(a,t.token,r,d).then(A);case e.token.type.comment:break;case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:case e.token.type.output:return e.log.debug("Twig.parse: ","Output token: ",t.stack),e.expression.parseAsync.call(a,t.stack,r).then(o)}}).then(function(){return s=e.output.call(a,s),c=!1,s}).catch(function(e){i&&t(a,e),l=e}),i)return u;if(null!==l)return t(this,l);if(c)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return s},e.prepare=function(t){var n,r;return e.log.debug("Twig.prepare: ","Tokenizing ",t),r=e.tokenize.call(this,t),e.log.debug("Twig.prepare: ","Compiling ",r),n=e.compile.call(this,r),e.log.debug("Twig.prepare: ","Compiled ",n),n},e.output=function(t){var n=this.options.autoescape;if(!n)return t.join("");var r="string"==typeof n?n:"html",i=0,o=t.length,A="",a=new Array(o);for(i=0;i<o;i++)A=t[i],!A||A.twig_markup===!0||A.twig_markup===r||"html"===r&&"html_attr"===A.twig_markup||(A=e.filters.escape(A,[r])),a[i]=A;return a.length<1?"":e.Markup(a.join(""),!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&e.Templates.registry.hasOwnProperty(t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,n,r){if("function"!=typeof n)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");r&&(n=n.bind(r)),this.loaders[t]=n},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return this.loaders.hasOwnProperty(e)},e.Templates.registerParser=function(t,n,r){if("function"!=typeof n)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");r&&(n=n.bind(r)),this.parsers[t]=n},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return this.parsers.hasOwnProperty(e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,n,r,i){var o,A="undefined"==typeof n.id?t:n.id,a=e.Templates.registry[A];return e.cache&&"undefined"!=typeof a?("function"==typeof r&&r(a),a):(n.parser=n.parser||"twig",n.id=A,"undefined"==typeof n.async&&(n.async=!0),o=this.loaders[n.method]||this.loaders.fs,o.call(this,t,n,r,i))},e.Template=function(t){var r=t.data,i=t.id,o=t.blocks,A=t.macros||{},a=t.base,s=t.path,l=t.url,c=t.name,u=t.method,d=t.options;this.id=i,this.method=u,this.base=a,this.path=s,this.url=l,this.name=c,this.macros=A,this.options=d,this.reset(o),n("String",r)?this.tokens=e.prepare.call(this,r):this.tokens=r,void 0!==i&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:t||{}},this.extend=null,this.parseStack=[]},e.Template.prototype.render=function(t,n,r){var i=this;return this.context=t||{},this.reset(),n&&n.blocks&&(this.blocks=n.blocks),n&&n.macros&&(this.macros=n.macros),e.async.potentiallyAsync(this,r,function(){return e.parseAsync.call(this,this.tokens,this.context).then(function(t){var r,o;return i.extend?(i.options.allowInlineIncludes&&(r=e.Templates.load(i.extend),r&&(r.options=i.options)),r||(o=e.path.parsePath(i,i.extend),r=e.Templates.loadRemote(o,{method:i.getLoaderMethod(),base:i.base,async:!1,id:o,options:i.options})),i.parent=r,i.parent.renderAsync(i.context,{blocks:i.blocks,isInclude:!0})):n?"blocks"==n.output?i.blocks:"macros"==n.output?i.macros:n.isInclude===!0?t:t.valueOf():t.valueOf()})})},e.Template.prototype.importFile=function(t){var n,r;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?e.path.parsePath(this,t):t,r=e.Templates.load(t),!r&&(r=e.Templates.loadRemote(n,{id:t,method:this.getLoaderMethod(),async:!1,path:t,options:this.options}),!r))throw new e.Error("Unable to find the template "+t);return r.options=this.options,r}return n=e.path.parsePath(this,t),r=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:n})},e.Template.prototype.importBlocks=function(t,n){var r=this.importFile(t),i=this.context,o=this;n=n||!1,r.render(i),e.forEach(Object.keys(r.blocks),function(e){(n||void 0===o.blocks[e])&&(o.blocks[e]=r.blocks[e],o.importedBlocks.push(e))})},e.Template.prototype.importMacros=function(t){var n=e.path.parsePath(this,t),r=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),async:!1,id:n});return r},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){if("string"!=typeof e||e.length<1)return e;var n=new String(e);return n.twig_markup="undefined"==typeof t||t,n},e}},function(e,t){e.exports=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,n){var r,i=JSON.stringify(t.tokens),o=t.id;if(n.module){if(void 0===e.compiler.module[n.module])throw new e.Error("Unable to find module type "+n.module);r=e.compiler.module[n.module](o,i,n.twig)}else r=e.compiler.wrap(o,i);return r},e.compiler.module={amd:function(t,n,r){return'define(["'+r+'"], function (Twig) {\n\tvar twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,n)+"\n\treturn templates;\n});"},node:function(t,n){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,n)},cjs2:function(t,n,r){return'module.declare([{ twig: "'+r+'" }], function (require, exports, module) {\n\tvar twig = require("twig").twig;\n\texports.template = '+e.compiler.wrap(t,n)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}},function(e,t,n){e.exports=function(e){"use strict";function t(t,n,r){return n?e.expression.parseAsync.call(t,n,r):e.Promise.resolve(!1)}e.expression={},n(7)(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push:function(e,t,n){n.push(e)},push_both:function(e,t,n){n.push(e),t.push(e)}},parse:{push:function(e,t,n){t.push(e)},push_value:function(e,t,n){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*(\s?as)?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,n){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,n.push(e)},parse:function(n,r,i){var o=r.pop();return t(this,n.params,i).then(function(t){var i=e.test(n.filter,o,t);"not"==n.modifier?r.push(!i):r.push(i)})}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,n,r){var i,o=n.length-1;for(delete t.match,delete t.value;o>=0;o--){if(i=n.pop(),i.type===e.expression.type.object.start||i.type===e.expression.type.parameter.start||i.type===e.expression.type.array.start){n.push(i);break}r.push(i)}r.push(t)}},{type:e.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,n){e.value=Number(e.value),n.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?\:|^(b\-and)|^(b\-or)|^(b\-xor)|^[\+\-~%\?]|^[\:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[\(|\s+]|^(or)[\(|\s+]|^(in)[\(|\s+]|^(not in)[\(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform:function(e,t){switch(e[0]){case"and(":case"or(":case"in(":case"not in(":return t[t.length-1].value=e[2],e[0];default:return""}},compile:function(t,n,r){delete t.match,t.value=t.value.trim();var i=t.value,o=e.expression.operator.lookup(i,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",i);n.length>0&&(n[n.length-1].type==e.expression.type.operator.unary||n[n.length-1].type==e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){var A=n.pop();r.push(A)}if(":"===i){if(!n[n.length-1]||"?"!==n[n.length-1].value){var a=r.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else{if(!a.expression||a.type!==e.expression.type.parameter.end&&a.type!=e.expression.type.subexpression.end)throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);t.params=a.params}return void r.push(t)}}else n.push(o)},parse:function(t,n,r){if(t.key)n.push(t);else{if(t.params)return e.expression.parseAsync.call(this,t.params,r).then(function(e){t.key=e,n.push(t),r.loop||delete t.params});e.expression.operator.parse(t.value,n)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,n,r){delete t.match,t.value=t.value.trim();var i=t.value,o=e.expression.operator.lookup(i,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",i);n.length>0&&(n[n.length-1].type==e.expression.type.operator.unary||n[n.length-1].type==e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){var A=n.pop();r.push(A)}n.push(o)},parse:function(t,n,r){e.expression.operator.parse(t.value,n)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operations_extended,compile:function(t,n,r){var i=t.value;delete t.match,i='"'===i.substring(0,1)?i.replace('\\"','"'):i.replace("\\'","'"),t.value=i.substring(1,i.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),r.push(t)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile:function(e,t,n){e.value="(",n.push(e),t.push(e)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operations_extended,validate:function(t,n){for(var r=n.length-1,i=!1,o=!1,A=0;!i&&r>=0;){var a=n[r];i=a.type===e.expression.type.subexpression.start,i&&o&&(o=!1,i=!1),a.type===e.expression.type.parameter.start?A++:a.type===e.expression.type.parameter.end?A--:a.type===e.expression.type.subexpression.end&&(o=!0),r--}return i&&0===A},compile:function(t,n,r){var i,o=t;for(i=n.pop();n.length>0&&i.type!=e.expression.type.subexpression.start;)r.push(i),i=n.pop();for(var A=[];t.type!==e.expression.type.subexpression.start;)A.unshift(t),t=r.pop();A.unshift(t);i=n[n.length-1],void 0===i||i.type!==e.expression.type._function&&i.type!==e.expression.type.filter&&i.type!==e.expression.type.test&&i.type!==e.expression.type.key.brackets?(o.expression=!0,A.pop(),A.shift(),o.params=A,r.push(o)):(o.expression=!1,i.params=A)},parse:function(t,n,r){if(t.expression)return e.expression.parseAsync.call(this,t.params,r).then(function(e){n.push(e)});throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate:function(t,n){var r=n[n.length-1];return r&&e.indexOf(e.expression.reservedWords,r.value.trim())<0},compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operations_extended,compile:function(t,n,r){var i,o=t;for(i=n.pop();n.length>0&&i.type!=e.expression.type.parameter.start;)r.push(i),i=n.pop();for(var A=[];t.type!==e.expression.type.parameter.start;)A.unshift(t),t=r.pop();A.unshift(t);t=r[r.length-1],void 0===t||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(o.expression=!0,A.pop(),A.shift(),o.params=A,r.push(o)):(o.expression=!1,t.params=A)},parse:function(t,n,r){var i=[],o=!1,A=null;if(t.expression)return e.expression.parseAsync.call(this,t.params,r).then(function(e){n.push(e)});for(;n.length>0;){if(A=n.pop(),A&&A.type&&A.type==e.expression.type.parameter.start){o=!0;break}i.unshift(A)}if(!o)throw new e.Error("Expected end of parameter set.");n.push(i)}},{type:e.expression.type.slice,regex:/^\[(\d*\:\d*)\]/,next:e.expression.set.operations_extended,compile:function(e,t,n){var r=e.match[1].split(":"),i=r[0]?parseInt(r[0]):void 0,o=r[1]?parseInt(r[1]):void 0;e.value="slice",e.params=[i,o],o||(e.params=[i]),n.push(e)},parse:function(t,n,r){var i=n.pop(),o=t.params;n.push(e.filter.call(this,t.value,i,o))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operations_extended,compile:function(t,n,r){for(var i,o=n.length-1;o>=0&&(i=n.pop(),i.type!==e.expression.type.array.start);o--)r.push(i);r.push(t)},parse:function(t,n,r){for(var i=[],o=!1,A=null;n.length>0;){if(A=n.pop(),A.type&&A.type==e.expression.type.array.start){o=!0;break}i.unshift(A)}if(!o)throw new e.Error("Expected end of array.");n.push(i)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operations_extended,compile:function(t,n,r){for(var i,o=n.length-1;o>=0&&(i=n.pop(),!i||i.type!==e.expression.type.object.start);o--)r.push(i);r.push(t)},parse:function(t,n,r){for(var i={},o=!1,A=null,a=!1,s=null;n.length>0;){if(A=n.pop(),A&&A.type&&A.type===e.expression.type.object.start){o=!0;break}if(A&&A.type&&(A.type===e.expression.type.operator.binary||A.type===e.expression.type.operator.unary)&&A.key){if(!a)throw new e.Error("Missing value for key '"+A.key+"' in object definition.");i[A.key]=s,void 0===i._keys&&(i._keys=[]),i._keys.unshift(A.key),s=null,a=!1}else a=!0,s=A}if(!o)throw new e.Error("Unexpected end of object.");n.push(i)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,n){e.value=e.match[1],n.push(e)},parse:function(n,r,i){var o=this,A=r.pop();return t(this,n.params,i).then(function(t){return e.filter.call(o,n.value,A,t)}).then(function(e){r.push(e)})}},{type:e.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:e.expression.type.parameter.start,validate:function(t,n){return t[1]&&e.indexOf(e.expression.reservedWords,t[1])<0},transform:function(e,t){return"("},compile:function(e,t,n){var r=e.match[1];e.fn=r,delete e.match,delete e.value,n.push(e)},parse:function(n,r,i){var o,A=this,a=n.fn;return t(this,n.params,i).then(function(t){if(e.functions[a])o=e.functions[a].apply(A,t);else{if("function"!=typeof i[a])throw new e.Error(a+" function does not exist and is not defined in the context");o=i[a].apply(i,t)}return o}).then(function(e){r.push(e)})}},{type:e.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t,n){return e.indexOf(e.expression.reservedWords,t[0])<0},parse:function(t,n,r){return e.expression.resolveAsync.call(this,r[t.value],r).then(function(e){n.push(e)})}},{type:e.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,n){e.key=e.match[1],delete e.match,delete e.value,n.push(e)},parse:function(n,r,i,o){var A,a=this,s=n.key,l=r.pop();return t(this,n.params,i).then(function(t){if(null===l||void 0===l){if(a.options.strict_variables)throw new e.Error("Can't access a key "+s+" on an null or undefined object.");A=void 0}else{var n=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};A="object"==typeof l&&s in l?l[s]:void 0!==l["get"+n(s)]?l["get"+n(s)]:void 0!==l["is"+n(s)]?l["is"+n(s)]:void 0}return e.expression.resolveAsync.call(a,A,i,t,o,l)}).then(function(e){r.push(e)})}},{type:e.expression.type.key.brackets,regex:/^\[([^\]\:]*)\]/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(t,n,r){var i=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:i}).stack,r.push(t)},parse:function(n,r,i,o){var A,a,s=this,l=null;return t(this,n.params,i).then(function(t){return l=t,e.expression.parseAsync.call(s,n.stack,i)}).then(function(t){if(A=r.pop(),null===A||void 0===A){if(s.options.strict_variables)throw new e.Error("Can't access a key "+t+" on an null or undefined object.");return null}return a="object"==typeof A&&t in A?A[t]:null,e.expression.resolveAsync.call(s,a,A,l,o)}).then(function(e){r.push(e)})}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,n){delete e.match,e.value=null,n.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,n){t.push(n)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,n){e.value="true"===e.match[0].toLowerCase(),delete e.match,n.push(e)},parse:e.expression.fn.parse.push_value}],e.expression.resolveAsync=function(t,n,r,i,o){if("function"!=typeof t)return e.Promise.resolve(t);var A=e.Promise.resolve(r);if(i&&i.type===e.expression.type.parameter.end){var a=!0;A=A.then(function(){return i.params&&e.expression.parseAsync.call(this,i.params,n,a)}).then(function(e){return i.cleanup=!0,e})}return A.then(function(e){return t.apply(o||n,e||[])})},e.expression.resolve=function(t,n,r,i,o){return e.async.potentiallyAsync(this,!1,function(){return e.expression.resolveAsync.call(this,t,n,r,i,o)})},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};for(;e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var n,r,i,o,A,a,s=[],l=0,c=null,u=[];for(a=function(){for(var t=arguments.length-2,r=new Array(t);t-- >0;)r[t]=arguments[t];if(e.log.trace("Twig.expression.tokenize","Matched a ",n," regular expression of ",r),c&&e.indexOf(c,n)<0)return u.push(n+" cannot follow a "+s[s.length-1].type+" at template:"+l+" near '"+r[0].substring(0,20)+"...'"),r[0];var i=e.expression.handler[n];return i.validate&&!i.validate(r,s)?r[0]:(u=[],s.push({type:n,value:r[0],match:r}),A=!0,c=o,l+=r[0].length,i.transform?i.transform(r,s):"")},e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){t=t.trim();for(n in e.expression.handler){if(o=e.expression.handler[n].next,r=e.expression.handler[n].regex,e.log.trace("Checking type ",n," on ",t),A=!1,e.lib.isArray(r))for(i=r.length;i-- >0;)t=t.replace(r[i],a);else t=t.replace(r,a);if(A)break}if(!A)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+l)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",s),s},e.expression.compile=function(t){var n=t.value,r=e.expression.tokenize(n),i=null,o=[],A=[],a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",n);r.length>0;)i=r.shift(),a=e.expression.handler[i.type],e.log.trace("Twig.expression.compile: ","Compiling ",i),a.compile&&a.compile(i,A,o),e.log.trace("Twig.expression.compile: ","Stack is",A),e.log.trace("Twig.expression.compile: ","Output is",o);for(;A.length>0;)o.push(A.pop());return e.log.trace("Twig.expression.compile: ","Final output is",o),t.stack=o,delete t.value,t},e.expression.parse=function(t,n,r,i){var o=this;e.lib.isArray(t)||(t=[t]);var A=[],a=[],s=e.expression.type.operator.binary;return e.async.potentiallyAsync(this,i,function(){return e.async.forEach(t,function(r,i){var l,c=null,u=null;if(!r.cleanup)return t.length>i+1&&(u=t[i+1]),c=e.expression.handler[r.type],c.parse&&(l=c.parse.call(o,r,A,n,u)),r.type===s&&n.loop&&a.push(r),l}).then(function(){for(var e=a.length,t=null;e-- >0;)t=a[e],t.params&&t.key&&delete t.key;if(r){var n=A.splice(0);A.push(n)}return A.pop()})})},e}},function(e,t){e.exports=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(void 0===t||null===t)return null;if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var n;for(n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1};return e.expression.operator.lookup=function(t,n){
switch(t){case"..":n.precidence=20,n.associativity=e.expression.operator.leftToRight;break;case",":n.precidence=18,n.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":n.precidence=16,n.associativity=e.expression.operator.rightToLeft;break;case"??":n.precidence=15,n.associativity=e.expression.operator.rightToLeft;break;case"or":n.precidence=14,n.associativity=e.expression.operator.leftToRight;break;case"and":n.precidence=13,n.associativity=e.expression.operator.leftToRight;break;case"b-or":n.precidence=12,n.associativity=e.expression.operator.leftToRight;break;case"b-xor":n.precidence=11,n.associativity=e.expression.operator.leftToRight;break;case"b-and":n.precidence=10,n.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":n.precidence=6,n.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":n.precidence=5,n.associativity=e.expression.operator.leftToRight;break;case"not":n.precidence=3,n.associativity=e.expression.operator.rightToLeft;break;case"matches":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"starts with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"ends with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return n.operator=t,n},e.expression.operator.parse=function(n,r){e.log.trace("Twig.expression.operator.parse: ","Handling ",n);var i,o,A;if("?"===n&&(A=r.pop()),o=r.pop(),"not"!==n&&(i=r.pop()),"in"!==n&&"not in"!==n&&(i&&Array.isArray(i)&&(i=i.length),o&&Array.isArray(o)&&(o=o.length)),"matches"===n&&o&&"string"==typeof o){var a=o.match(/^\/(.*)\/([gims]?)$/),s=a[1],l=a[2];o=new RegExp(s,l)}switch(n){case":":break;case"??":void 0===i&&(i=o,o=A,A=void 0),void 0!==i&&null!==i?r.push(i):r.push(o);break;case"?:":e.lib.boolval(i)?r.push(i):r.push(o);break;case"?":void 0===i&&(i=o,o=A,A=void 0),e.lib.boolval(i)?r.push(o):r.push(A);break;case"+":o=parseFloat(o),i=parseFloat(i),r.push(i+o);break;case"-":o=parseFloat(o),i=parseFloat(i),r.push(i-o);break;case"*":o=parseFloat(o),i=parseFloat(i),r.push(i*o);break;case"/":o=parseFloat(o),i=parseFloat(i),r.push(i/o);break;case"//":o=parseFloat(o),i=parseFloat(i),r.push(Math.floor(i/o));break;case"%":o=parseFloat(o),i=parseFloat(i),r.push(i%o);break;case"~":r.push((null!=i?i.toString():"")+(null!=o?o.toString():""));break;case"not":case"!":r.push(!e.lib.boolval(o));break;case"<":r.push(i<o);break;case"<=":r.push(i<=o);break;case">":r.push(i>o);break;case">=":r.push(i>=o);break;case"===":r.push(i===o);break;case"==":r.push(i==o);break;case"!==":r.push(i!==o);break;case"!=":r.push(i!=o);break;case"or":r.push(e.lib.boolval(i)||e.lib.boolval(o));break;case"b-or":r.push(i|o);break;case"b-xor":r.push(i^o);break;case"and":r.push(e.lib.boolval(i)&&e.lib.boolval(o));break;case"b-and":r.push(i&o);break;case"**":r.push(Math.pow(i,o));break;case"not in":r.push(!t(i,o));break;case"in":r.push(t(i,o));break;case"matches":r.push(o.test(i));break;case"starts with":r.push(0===i.indexOf(o));break;case"ends with":r.push(i.indexOf(o,i.length-o.length)!==-1);break;case"..":r.push(e.functions.range(i,o));break;default:throw new e.Error("Failed to parse operator: "+n+" is an unknown operator.")}},e}},function(e,t){e.exports=function(e){function t(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&n===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.toLowerCase().substr(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()})},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var n=e._keys||Object.keys(e).reverse();return e._keys=n,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var n=Object.keys(e),r=n.sort(function(t,n){var r;return e[t]>e[n]==!(e[t]<=e[n])?e[t]>e[n]?1:e[t]<e[n]?-1:0:isNaN(r=parseFloat(e[t]))||isNaN(b1=parseFloat(e[n]))?"string"==typeof e[t]?e[t]>e[n].toString()?1:e[t]<e[n].toString()?-1:0:"string"==typeof e[n]?e[t].toString()>e[n]?1:e[t].toString()<e[n]?-1:0:null:r>b1?1:r<b1?-1:0});return e._keys=r,e}},keys:function(t){if(void 0!==t&&null!==t){var n=t._keys||Object.keys(t),r=[];return e.forEach(n,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&r.push(e)}),r}},url_encode:function(t){if(void 0!==t&&null!==t){if(e.lib.is("Object",t)){var n=function(t,r){var i=[],o=t._keys||Object.keys(t);return e.forEach(o,function(o){if(Object.prototype.hasOwnProperty.call(t,o)){var A=r?r+"["+o+"]":o,a=t[o];i.push(e.lib.is("Object",a)||e.lib.isArray(a)?n(a,A):encodeURIComponent(A)+"="+encodeURIComponent(a))}}),i.join("&amp;")};return n(t)}var r=encodeURIComponent(t);return r=r.replace("'","%27")}},join:function(n,r){if(void 0!==n&&null!==n){var i="",o=[],A=null;return r&&r[0]&&(i=r[0]),t("Array",n)?o=n:(A=n._keys||Object.keys(n),e.forEach(A,function(e){"_keys"!==e&&n.hasOwnProperty(e)&&o.push(n[e])})),o.join(i)}},default:function(t,n){if(void 0!==n&&n.length>1)throw new e.Error("default filter expects one argument");return void 0===t||null===t||""===t?void 0===n?"":n[0]:t},json_encode:function(n){if(void 0===n||null===n)return"null";if("object"==typeof n&&t("Array",n))return i=[],e.forEach(n,function(t){i.push(e.filters.json_encode(t))}),"["+i.join(",")+"]";if("object"==typeof n&&t("Date",n))return'"'+n.toISOString()+'"';if("object"==typeof n){var r=n._keys||Object.keys(n),i=[];return e.forEach(r,function(t){i.push(JSON.stringify(t)+":"+e.filters.json_encode(n[t]))}),"{"+i.join(",")+"}"}return JSON.stringify(n)},merge:function(n,r){var i=[],o=0,A=[];if(t("Array",n)?e.forEach(r,function(e){t("Array",e)||(i={})}):i={},t("Array",i)||(i._keys=[]),t("Array",n)?e.forEach(n,function(e){i._keys&&i._keys.push(o),i[o]=e,o++}):(A=n._keys||Object.keys(n),e.forEach(A,function(e){i[e]=n[e],i._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=o&&(o=t+1)})),e.forEach(r,function(n){t("Array",n)?e.forEach(n,function(e){i._keys&&i._keys.push(o),i[o]=e,o++}):(A=n._keys||Object.keys(n),e.forEach(A,function(e){i[e]||i._keys.push(e),i[e]=n[e];var t=parseInt(e,10);!isNaN(t)&&t>=o&&(o=t+1)}))}),0===r.length)throw new e.Error("Filter merge expects at least one parameter");return i},date:function(t,n){var r=e.functions.date(t),i=n&&n.length?n[0]:"F j, Y H:i";return e.lib.date(i.replace(/\\\\/g,"\\"),r)},date_modify:function(t,n){if(void 0!==t&&null!==t){if(void 0===n||1!==n.length)throw new e.Error("date_modify filter expects 1 argument");var r,i=n[0];return e.lib.is("Date",t)&&(r=e.lib.strtotime(i,t.getTime()/1e3)),e.lib.is("String",t)&&(r=e.lib.strtotime(i,e.lib.strtotime(t))),e.lib.is("Number",t)&&(r=e.lib.strtotime(i,t)),new Date(1e3*r)}},replace:function(t,n){if(void 0!==t&&null!==t){var r,i=n[0];for(r in i)i.hasOwnProperty(r)&&"_keys"!==r&&(t=e.lib.replaceAll(t,r,i[r]));return t}},format:function(t,n){if(void 0!==t&&null!==t)return e.lib.vsprintf(t,n)},striptags:function(t,n){if(void 0!==t&&null!==t)return e.lib.strip_tags(t,n)},escape:function(t,n){if(void 0!==t&&null!==t){var r="html";if(n&&n.length&&n[0]!==!0&&(r=n[0]),"html"==r){var i=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return e.Markup(i,"html")}if("js"==r){for(var i=t.toString(),o="",A=0;A<i.length;A++)if(i[A].match(/^[a-zA-Z0-9,\._]$/))o+=i[A];else{var a=i.charCodeAt(A);o+=a<128?"\\x"+a.toString(16).toUpperCase():e.lib.sprintf("\\u%04s",a.toString(16).toUpperCase())}return e.Markup(o,"js")}if("css"==r){for(var i=t.toString(),o="",A=0;A<i.length;A++)if(i[A].match(/^[a-zA-Z0-9]$/))o+=i[A];else{var a=i.charCodeAt(A);o+="\\"+a.toString(16).toUpperCase()+" "}return e.Markup(o,"css")}if("url"==r){var o=e.filters.url_encode(t);return e.Markup(o,"url")}if("html_attr"==r){for(var i=t.toString(),o="",A=0;A<i.length;A++)if(i[A].match(/^[a-zA-Z0-9,\.\-_]$/))o+=i[A];else if(i[A].match(/^[&<>"]$/))o+=i[A].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var a=i.charCodeAt(A);o+=a<=31&&9!=a&&10!=a&&13!=a?"&#xFFFD;":a<128?e.lib.sprintf("&#x%02s;",a.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",a.toString(16).toUpperCase())}return e.Markup(o,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,n){return e.filters.escape(t,n)},nl2br:function(t){if(void 0!==t&&null!==t){var n="BACKSLASH_n_replace",r="<br />"+n;return t=e.filters.escape(t).replace(/\r\n/g,r).replace(/\r/g,r).replace(/\n/g,r),t=e.lib.replaceAll(t,n,"\n"),e.Markup(t)}},number_format:function(e,t){var n=e,r=t&&t[0]?t[0]:void 0,i=t&&void 0!==t[1]?t[1]:".",o=t&&void 0!==t[2]?t[2]:",";n=(n+"").replace(/[^0-9+\-Ee.]/g,"");var A=isFinite(+n)?+n:0,a=isFinite(+r)?Math.abs(r):0,s="",l=function(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n};return s=(a?l(A,a):""+Math.round(A)).split("."),s[0].length>3&&(s[0]=s[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(s[1]||"").length<a&&(s[1]=s[1]||"",s[1]+=new Array(a-s[1].length+1).join("0")),s.join(i)},trim:function(e,t){if(void 0!==e&&null!==e){var n,r=""+e;n=t&&t[0]?""+t[0]:" \n\r\t\f\v            ​\u2028\u2029　";for(var i=0;i<r.length;i++)if(n.indexOf(r.charAt(i))===-1){r=r.substring(i);break}for(i=r.length-1;i>=0;i--)if(n.indexOf(r.charAt(i))===-1){r=r.substring(0,i+1);break}return n.indexOf(r.charAt(0))===-1?r:""}},truncate:function(e,t){var n=30,r=!1,i="...";if(e+="",t&&(t[0]&&(n=t[0]),t[1]&&(r=t[1]),t[2]&&(i=t[2])),e.length>n){if(r&&(n=e.indexOf(" ",n),n===-1))return e;e=e.substr(0,n)+i}return e},slice:function(t,n){if(void 0!==t&&null!==t){if(void 0===n||n.length<1)throw new e.Error("slice filter expects at least 1 argument");var r=n[0]||0,i=n.length>1?n[1]:t.length,o=r>=0?r:Math.max(t.length+r,0);if(e.lib.is("Array",t)){for(var A=[],a=o;a<o+i&&a<t.length;a++)A.push(t[a]);return A}if(e.lib.is("String",t))return t.substr(o,i);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){if(void 0!==e&&null!==e)return Math.abs(e)},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.substr(0,1)},split:function(t,n){if(void 0!==t&&null!==t){if(void 0===n||n.length<1||n.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var r=n[0],i=n[1],o=t.split(r);if(void 0===i)return o;if(i<0)return t.split(r,o.length+i);var A=[];if(""==r)for(;o.length>0;){for(var a="",s=0;s<i&&o.length>0;s++)a+=o.shift();A.push(a)}else{for(var s=0;s<i-1&&o.length>0;s++)A.push(o.shift());o.length>0&&A.push(o.join(r))}return A}throw new e.Error("split filter expects value to be a string")}},last:function(t){if(e.lib.is("Object",t)){var n;return n=void 0===t._keys?Object.keys(t):t._keys,t[n[n.length-1]]}return t[t.length-1]},raw:function(t){return e.Markup(t)},batch:function(t,n){var r,i,o,A=n.shift(),a=n.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",A))throw new e.Error("batch filter expects size to be a number");if(A=Math.ceil(A),r=e.lib.chunkArray(t,A),a&&t.length%A!=0){for(i=r.pop(),o=A-i.length;o--;)i.push(a);r.push(i)}return r},round:function(t,n){n=n||[];var r=n.length>0?n[0]:0,i=n.length>1?n[1]:"common";if(t=parseFloat(t),r&&!e.lib.is("Number",r))throw new e.Error("round filter expects precision to be a number");if("common"===i)return e.lib.round(t,r);if(!e.lib.is("Function",Math[i]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[i](t*Math.pow(10,r))/Math.pow(10,r)}},e.filter=function(t,n,r){if(!e.filters[t])throw"Unable to find filter "+t;return e.filters[t].call(this,n,r)},e.filter.extend=function(t,n){e.filters[t]=n},e}},function(e,t,n){e.exports=function(t){var n='Template "{name}" is not defined.';return t.functions={range:function(e,t,n){var r,i,o,A=[],a=n||1,s=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(s=!0,r=e.charCodeAt(0),i=t.charCodeAt(0)):(r=isNaN(e)?0:e,i=isNaN(t)?0:t):(r=parseInt(e,10),i=parseInt(t,10)),o=!(r>i))for(;r<=i;)A.push(s?String.fromCharCode(r):r),r+=a;else for(;r>=i;)A.push(s?String.fromCharCode(r):r),r-=a;return A},cycle:function(e,t){var n=t%e.length;return e[n]},dump:function(){var e=arguments.length;for(args=new Array(e);e-- >0;)args[e]=arguments[e];var n="\n",r="  ",i=0,o="",A=function(e){for(var t="";e>0;)e--,t+=r;return t},a=function(e){o+=A(i),"object"==typeof e?s(e):"function"==typeof e?o+="function()"+n:"string"==typeof e?o+="string("+e.length+') "'+e+'"'+n:"number"==typeof e?o+="number("+e+")"+n:"boolean"==typeof e&&(o+="bool("+e+")"+n)},s=function(e){var t;if(null===e)o+="NULL"+n;else if(void 0===e)o+="undefined"+n;else if("object"==typeof e){o+=A(i)+typeof e,i++,o+="("+function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(e)+") {"+n;for(t in e)o+=A(i)+"["+t+"]=> "+n,a(e[t]);i--,o+=A(i)+"}"+n}else a(e)};return 0==args.length&&args.push(this.context),t.forEach(args,function(e){s(e)}),o},date:function(e,n){var r;if(void 0===e||null===e||""===e)r=new Date;else if(t.lib.is("Date",e))r=e;else if(t.lib.is("String",e))r=e.match(/^[0-9]+$/)?new Date(1e3*e):new Date(1e3*t.lib.strtotime(e));else{if(!t.lib.is("Number",e))throw new t.Error("Unable to parse date "+e);r=new Date(1e3*e)}return r},block:function(e){return this.originalBlockTokens[e]?t.logic.parse.call(this,this.originalBlockTokens[e],this.context).output:this.blocks[e]},parent:function(){return t.placeholders.parent},attribute:function(e,n,r){return t.lib.is("Object",e)&&e.hasOwnProperty(n)?"function"==typeof e[n]?e[n].apply(void 0,r):e[n]:e[n]||void 0},max:function(e){return t.lib.is("Object",e)?(delete e._keys,t.lib.max(e)):t.lib.max.apply(null,arguments)},min:function(e){return t.lib.is("Object",e)?(delete e._keys,t.lib.min(e)):t.lib.min.apply(null,arguments)},template_from_string:function(e){return void 0===e&&(e=""),t.Templates.parsers.twig({options:this.options,data:e})},random:function(e){function n(e){var t=Math.floor(Math.random()*r),n=Math.min.call(null,0,e),i=Math.max.call(null,0,e);return n+Math.floor((i-n+1)*t/r)}var r=2147483648;if(t.lib.is("Number",e))return n(e);if(t.lib.is("String",e))return e.charAt(n(e.length-1));if(t.lib.is("Array",e))return e[n(e.length-1)];if(t.lib.is("Object",e)){var i=Object.keys(e);return e[i[n(i.length-1)]]}return n(r-1)},source:function(r,i){var o,A,a=!1,s="undefined"!=typeof e.exports&&"undefined"==typeof window,l=r;A=s?"fs":"ajax";var c={id:r,path:l,method:A,parser:"source",async:!1,fetchTemplateSource:!0};"undefined"==typeof i&&(i=!1);try{o=t.Templates.loadRemote(r,c),"undefined"==typeof o||null===o?o="":a=!0}catch(e){t.log.debug("Twig.functions.source: ","Problem loading template  ",e)}return a||i?o:n.replace("{name}",r)}},t._function=function(e,n,r){if(!t.functions[e])throw"Unable to find function "+e;return t.functions[e](n,r)},t._function.extend=function(e,n){t.functions[e]=n},t}},function(e,t,n){e.exports=function(e){e.lib={},e.lib.sprintf=n(0),e.lib.vsprintf=n(11),e.lib.round=n(12),e.lib.max=n(13),e.lib.min=n(14),e.lib.strip_tags=n(15),e.lib.strtotime=n(17),e.lib.date=n(18),e.lib.boolval=n(19);var t=Object.prototype.toString;return e.lib.is=function(e,n){return"undefined"!=typeof n&&null!==n&&("Array"===e&&Array.isArray?Array.isArray(n):t.call(n).slice(8,-1)===e)},e.lib.isArray=Array.isArray||function(e){return"Array"===t.call(e).slice(8,-1)},e.lib.copy=function(e){var t,n={};for(t in e)n[t]=e[t];return n},e.lib.extend=function(e,t){var n,r=Object.keys(t||{});for(n=r.length;n--;)e[r[n]]=t[r[n]];return e},e.lib.replaceAll=function(e,t,n){return e.split(t).join(n)},e.lib.chunkArray=function(t,n){var r=[],i=0,o=t.length;if(n<1||!e.lib.is("Array",t))return[];for(;i<o;)r.push(t.slice(i,i+=n));return r},e}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(0);return r.apply(this,[e].concat(t))}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r,i,o,A;if(t|=0,r=Math.pow(10,t),e*=r,A=e>0|-(e<0),o=e%1===.5*A,i=Math.floor(e),o)switch(n){case"PHP_ROUND_HALF_DOWN":e=i+(A<0);break;case"PHP_ROUND_HALF_EVEN":e=i+i%2*A;break;case"PHP_ROUND_HALF_ODD":e=i+!(i%2);break;default:e=i+(A>0)}return(o?e:Math.round(e))/r}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e,t,n=0,i=0,o=arguments,A=o.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},s=function e(t,n){var i=0,o=0,A=0,s=0,l=0;if(t===n)return 0;if("object"===("undefined"==typeof t?"undefined":r(t))){if("object"===("undefined"==typeof n?"undefined":r(n))){if(t=a(t),n=a(n),l=t.length,s=n.length,s>l)return 1;if(s<l)return-1;for(i=0,o=l;i<o;++i){if(A=e(t[i],n[i]),1===A)return 1;if(A===-1)return-1}return 0}return-1}return"object"===("undefined"==typeof n?"undefined":r(n))?1:isNaN(n)&&!isNaN(t)?0===t?0:t<0?1:-1:isNaN(t)&&!isNaN(n)?0===n?0:n>0?1:-1:n===t?0:n>t?1:-1};if(0===A)throw new Error("At least one value should be passed to max()");if(1===A){if("object"!==r(o[0]))throw new Error("Wrong parameter count for max()");if(e=a(o[0]),0===e.length)throw new Error("Array must contain at least one element for max()")}else e=o;for(t=e[0],n=1,i=e.length;n<i;++n)1===s(t,e[n])&&(t=e[n]);return t}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e,t,n=0,i=0,o=arguments,A=o.length,a=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t},s=function e(t,n){var i=0,o=0,A=0,s=0,l=0;if(t===n)return 0;if("object"===("undefined"==typeof t?"undefined":r(t))){if("object"===("undefined"==typeof n?"undefined":r(n))){if(t=a(t),n=a(n),l=t.length,s=n.length,s>l)return 1;if(s<l)return-1;for(i=0,o=l;i<o;++i){if(A=e(t[i],n[i]),1===A)return 1;if(A===-1)return-1}return 0}return-1}return"object"===("undefined"==typeof n?"undefined":r(n))?1:isNaN(n)&&!isNaN(t)?0===t?0:t<0?1:-1:isNaN(t)&&!isNaN(n)?0===n?0:n>0?1:-1:n===t?0:n>t?1:-1};if(0===A)throw new Error("At least one value should be passed to min()");if(1===A){if("object"!==r(o[0]))throw new Error("Wrong parameter count for min()");if(e=a(o[0]),0===e.length)throw new Error("Array must contain at least one element for min()")}else e=o;for(t=e[0],n=1,i=e.length;n<i;++n)s(t,e[n])===-1&&(t=e[n]);return t}},function(e,t,n){"use strict";e.exports=function(e,t){var r=n(16);t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,o=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,A=r(e);;){var a=A;if(A=a.replace(o,"").replace(i,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""}),a===A)return A}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t="undefined"==typeof e?"undefined":r(e);switch(t){case"boolean":return e?"1":"";case"string":return e;case"number":return isNaN(e)?"NAN":isFinite(e)?e+"":(e<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(e)?"Array":null!==e?"Object":"";case"function":default:throw new Error("Unsupported value type")}}},function(e,t,n){"use strict";e.exports=function(e,t){function n(e,t,n){var r,i=l[t];"undefined"!=typeof i&&(r=i-s.getDay(),0===r?r=7*n:r>0&&"last"===e?r-=7:r<0&&"next"===e&&(r+=7),s.setDate(s.getDate()+r))}function r(e){var t=e.split(" "),r=t[0],i=t[1].substring(0,3),o=/\d+/.test(r),A="ago"===t[2],a=("last"===r?-1:1)*(A?-1:1);if(o&&(a*=parseInt(r,10)),c.hasOwnProperty(i)&&!t[1].match(/^mon(day|\.)?$/i))return s["set"+c[i]](s["get"+c[i]]()+a);if("wee"===i)return s.setDate(s.getDate()+7*a);if("next"===r||"last"===r)n(r,i,a);else if(!o)return!1;return!0}var i,o,A,a,s,l,c,u,d,f,p,h=!1;if(!e)return h;e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();var g=new RegExp(["^(\\d{1,4})","([\\-\\.\\/:])","(\\d{1,2})","([\\-\\.\\/:])","(\\d{1,4})","(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?","(?:\\s([A-Z]+)?)?$"].join(""));if(o=e.match(g),o&&o[2]===o[4])if(o[1]>1901)switch(o[2]){case"-":return o[3]>12||o[5]>31?h:new Date(o[1],parseInt(o[3],10)-1,o[5],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3;case".":return h;case"/":return o[3]>12||o[5]>31?h:new Date(o[1],parseInt(o[3],10)-1,o[5],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3}else if(o[5]>1901)switch(o[2]){case"-":return o[3]>12||o[1]>31?h:new Date(o[5],parseInt(o[3],10)-1,o[1],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3;case".":return o[3]>12||o[1]>31?h:new Date(o[5],parseInt(o[3],10)-1,o[1],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3;case"/":return o[1]>12||o[3]>31?h:new Date(o[5],parseInt(o[1],10)-1,o[3],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3}else switch(o[2]){case"-":return o[3]>12||o[5]>31||o[1]<70&&o[1]>38?h:(a=o[1]>=0&&o[1]<=38?+o[1]+2e3:o[1],new Date(a,parseInt(o[3],10)-1,o[5],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3);case".":return o[5]>=70?o[3]>12||o[1]>31?h:new Date(o[5],parseInt(o[3],10)-1,o[1],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3:o[5]<60&&!o[6]?o[1]>23||o[3]>59?h:(A=new Date,new Date(A.getFullYear(),A.getMonth(),A.getDate(),o[1]||0,o[3]||0,o[5]||0,o[9]||0)/1e3):h;case"/":return o[1]>12||o[3]>31||o[5]<70&&o[5]>38?h:(a=o[5]>=0&&o[5]<=38?+o[5]+2e3:o[5],new Date(a,parseInt(o[1],10)-1,o[3],o[6]||0,o[7]||0,o[8]||0,o[9]||0)/1e3);case":":return o[1]>23||o[3]>59||o[5]>59?h:(A=new Date,new Date(A.getFullYear(),A.getMonth(),A.getDate(),o[1]||0,o[3]||0,o[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(i=Date.parse(e)))return i/1e3|0;if(g=new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})","[ t]","([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)","([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join("")),o=e.match(g),o&&("z"===o[4]?o[4]="Z":o[4].match(/^([+-][0-9]{2})$/)&&(o[4]=o[4]+":00"),!isNaN(i=Date.parse(o[1]+"T"+o[2]+o[4]))))return i/1e3|0;if(s=t?new Date(1e3*t):new Date,l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},c={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},d="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",f="([+-]?\\d+\\s"+d+"|(last|next)\\s"+d+")(\\sago)?",o=e.match(new RegExp(f,"gi")),!o)return h;for(p=0,u=o.length;p<u;p++)if(!r(o[p]))return h;return s.getTime()/1e3}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],o=/\\?(.?)/gi,A=function(e,t){return r[e]?r[e]():t},a=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};r={d:function(){return a(r.j(),2)},D:function(){return r.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return i[r.w()]+"day"},N:function(){return r.w()||7},S:function(){var e=r.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return n.getDay()},z:function(){var e=new Date(r.Y(),r.n()-1,r.j()),t=new Date(r.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(r.Y(),r.n()-1,r.j()-r.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/864e5/7),2)},F:function(){return i[6+r.n()]},m:function(){return a(r.n(),2)},M:function(){return r.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(r.Y(),r.n(),0).getDate()},L:function(){var e=r.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=r.n(),t=r.W(),n=r.Y();return n+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return r.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return a(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return r.G()%12||12},G:function(){return n.getHours()},h:function(){return a(r.g(),2)},H:function(){return a(r.G(),2)},i:function(){return a(n.getMinutes(),2)},s:function(){return a(n.getSeconds(),2)},u:function(){return a(1e3*n.getMilliseconds(),6)},e:function(){var e="Not supported (see source code of date() for timezone on how to add support)";throw new Error(e)},I:function(){var e=new Date(r.Y(),0),t=Date.UTC(r.Y(),0),n=new Date(r.Y(),6),i=Date.UTC(r.Y(),6);return e-t!==n-i?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a(100*Math.floor(t/60)+t%60,4)},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(o,A)},r:function(){return"D, d M Y H:i:s O".replace(o,A)},U:function(){return n/1e3|0}};var s=function(e,t){return n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),e.replace(o,A)};return s(e,t)}},function(e,t,n){"use strict";e.exports=function(e){return e!==!1&&(0!==e&&0!==e&&(""!==e&&"0"!==e&&((!Array.isArray(e)||0!==e.length)&&(null!==e&&void 0!==e))))}},function(e,t){e.exports=function(e){"use strict";e.Templates.registerLoader("ajax",function(t,n,r,i){var o,A,a=n.precompiled,s=this.parsers[n.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return A=new XMLHttpRequest,A.onreadystatechange=function(){var l=null;4===A.readyState&&(200===A.status||window.cordova&&0==A.status?(e.log.debug("Got template ",A.responseText),l=a===!0?JSON.parse(A.responseText):A.responseText,n.url=t,n.data=l,o=s.call(this,n),"function"==typeof r&&r(o)):"function"==typeof i&&i(A))},A.open("GET",t,!!n.async),A.send(),!!n.async||o})}},function(e,t,n){e.exports=function(e){"use strict";var t,r;try{t=n(22),r=n(1)}catch(e){}e.Templates.registerLoader("fs",function(n,i,o,A){var a,s=null,l=i.precompiled,c=this.parsers[i.parser]||this.parser.twig;if(!t||!r)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var u=function(e,t){return e?void("function"==typeof A&&A(e)):(l===!0&&(t=JSON.parse(t)),i.data=t,i.path=i.path||n,a=c.call(this,i),void("function"==typeof o&&o(a)))};if(i.path=i.path||n,i.async)return t.stat(i.path,function(n,r){return n||!r.isFile()?void("function"==typeof A&&A(new e.Error("Unable to find template file "+i.path))):void t.readFile(i.path,"utf8",u)}),!0;try{if(!t.statSync(i.path).isFile())throw new e.Error("Unable to find template file "+i.path)}catch(t){throw new e.Error("Unable to find template file "+i.path)}return s=t.readFileSync(i.path,"utf8"),u(void 0,s),a})}},function(e,t){e.exports=n(53)},function(e,t){e.exports=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var n=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse:function(t,n,r){var i=this;return e.expression.parseAsync.call(this,t.stack,n).then(function(o){return r=!0,e.lib.boolval(o)?(r=!1,e.parseAsync.call(i,t.output,n)):""}).then(function(e){return{chain:r,output:e}})}},{type:e.logic.type.elseif,regex:/^elseif\s?([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var n=t.match[1];return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse:function(t,n,r){var i=this;return e.expression.parseAsync.call(this,t.stack,n).then(function(o){return r&&e.lib.boolval(o)?(r=!1,e.parseAsync.call(i,t.output,n)):""}).then(function(e){return{chain:r,output:e}})}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,n,r){var i=e.Promise.resolve("");return r&&(i=e.parseAsync.call(this,t.output,n)),i.then(function(e){return{chain:r,output:e}})}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var n=t.match[1],r=t.match[2],i=t.match[3],o=null;if(t.key_var=null,t.value_var=null,n.indexOf(",")>=0){if(o=n.split(","),2!==o.length)throw new e.Error("Invalid expression in for loop: "+n);t.key_var=o[0].trim(),t.value_var=o[1].trim()}else t.value_var=n.trim();return t.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,i&&(t.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:i}).stack),delete t.match,t},parse:function(t,n,r){var i,o,A=[],a=0,s=this,l=t.conditional,c=function(e,t){var r=void 0!==l;return{index:e+1,index0:e,revindex:r?void 0:t-e,revindex0:r?void 0:t-e-1,first:0===e,last:r?void 0:e===t-1,length:r?void 0:t,parent:n}},u=function(r,o){var u=e.ChildContext(n);u[t.value_var]=o,t.key_var&&(u[t.key_var]=r),u.loop=c(a,i);var d=void 0===l?e.Promise.resolve(!0):e.expression.parseAsync.call(s,l,u);return d.then(function(n){if(n)return e.parseAsync.call(s,t.output,u).then(function(e){A.push(e),a+=1})}).then(function(){delete u.loop,delete u[t.value_var],delete u[t.key_var],e.merge(n,u,!0)})};return e.expression.parseAsync.call(this,t.expression,n).then(function(t){return e.lib.isArray(t)?(i=t.length,e.async.forEach(t,function(e){var t=a;return u(t,e)})):e.lib.is("Object",t)?(o=void 0!==t._keys?t._keys:Object.keys(t),i=o.length,e.async.forEach(o,function(e){if("_keys"!==e)return u(e,t[e])})):void 0}).then(function(){return r=0===A.length,{chain:r,output:e.output.call(s,A)}})}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim(),r=t.match[2],i=e.expression.compile.call(this,{type:e.expression.type.expression,
value:r}).stack;return t.key=n,t.expression=i,delete t.match,t},parse:function(t,n,r){var i=t.key;return e.expression.parseAsync.call(this,t.expression,n).then(function(t){return t===n&&(t=e.lib.copy(t)),n[i]=t,{chain:r,context:n}})}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(t,n,r){var i=this,o=t.key;return e.parseAsync.call(this,t.output,n).then(function(e){return i.context[o]=e,n[o]=e,{chain:r,context:n}})}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var n="|"+t.match[1].trim();return t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,delete t.match,t},parse:function(t,n,r){var i=this;return e.parseAsync.call(this,t.output,n).then(function(r){var o=[{type:e.expression.type.string,value:r}].concat(t.stack);return e.expression.parseAsync.call(i,o,n)}).then(function(e){return{chain:r,output:e}})}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.block=e.match[1].trim(),delete e.match,e},parse:function(t,n,r){var i,o=this,A=e.Promise.resolve(),a=e.indexOf(this.importedBlocks,t.block)>-1,s=this.blocks[t.block]&&e.indexOf(this.blocks[t.block],e.placeholders.parent)>-1;return e.forEach(this.parseStack,function(n){n.type==e.logic.type.for_&&(t.overwrite=!0)}),(void 0===this.blocks[t.block]||a||s||t.overwrite)&&(A=t.expression?e.expression.parseAsync.call(this,t.output,n).then(function(t){return e.expression.parseAsync.call(o,{type:e.expression.type.string,value:t},n)}):e.parseAsync.call(this,t.output,n).then(function(t){return e.expression.parseAsync.call(o,{type:e.expression.type.string,value:t},n)}),A=A.then(function(n){a&&o.importedBlocks.splice(o.importedBlocks.indexOf(t.block),1),s?o.blocks[t.block]=e.Markup(o.blocks[t.block].replace(e.placeholders.parent,n)):o.blocks[t.block]=n,o.originalBlockTokens[t.block]={type:t.type,block:t.block,output:t.output,overwrite:!0}})),A.then(function(){return i=o.child.blocks[t.block]?o.child.blocks[t.block]:o.blocks[t.block],{chain:r,output:i}})}},{type:e.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,t.block=t.match[1].trim(),delete t.match,t},parse:function(t,n,r){for(var i=new Array(arguments.length),o=arguments.length;o-- >0;)i[o]=arguments[o];return e.logic.handler[e.logic.type.block].parse.apply(this,i)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse:function(t,n,r){var i,o=this,A=e.ChildContext(n);return e.expression.parseAsync.call(this,t.stack,n).then(function(t){return o.extend=t,i=t instanceof e.Template?t:o.importFile(t),i.renderAsync(A)}).then(function(){return e.lib.extend(n,A),{chain:r,output:""}})}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse:function(t,n,r){var i=this;return e.expression.parseAsync.call(this,t.stack,n).then(function(e){return i.importBlocks(e),{chain:r,output:""}})}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile:function(t){var n=t.match,r=n[1].trim(),i=void 0!==n[2],o=n[3],A=void 0!==n[4]&&n[4].length;return delete t.match,t.only=A,t.ignoreMissing=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,void 0!==o&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:o.trim()}).stack),t},parse:function(t,n,r){var i=t.only?{}:e.ChildContext(n),o=t.ignoreMissing,A=this,a=null,s={chain:r,output:""};return a="undefined"!=typeof t.withStack?e.expression.parseAsync.call(this,t.withStack,n).then(function(t){e.lib.extend(i,t)}):e.Promise.resolve(),a.then(function(){return e.expression.parseAsync.call(A,t.stack,n)}).then(function(t){if(t instanceof e.Template)return t.renderAsync(i,{isInclude:!0});try{return A.importFile(t).renderAsync(i,{isInclude:!0})}catch(e){if(o)return"";throw e}}).then(function(e){return""!==e&&(s.output=e),s})}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,n,r){return e.parseAsync.call(this,t.output,n).then(function(t){var n=/>\s+</g,i=t.replace(n,"><").trim();return i=e.Markup(i),{chain:r,output:i}})}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){var n=t.match[1],r=t.match[2].split(/\s*,\s*/),i=r.map(function(e){return e.split(/\s*=\s*/)[0]}),o=i.length;if(o>1)for(var A={},a=0;a<o;a++){var s=i[a];if(A[s])throw new e.Error("Duplicate arguments for parameter: "+s);A[s]=1}return t.macroName=n,t.parameters=i,t.defaults=r.reduce(function(t,n){var r=n.split(/\s*=\s*/),i=r[0],o=r[1];return o?t[i]=e.expression.compile.call(this,{type:e.expression.type.expression,value:o}).stack:t[i]=void 0,t},{}),delete t.match,t},parse:function(t,n,r){var i=this;return this.macros[t.macroName]=function(){var r={_self:i.macros},o=Array.prototype.slice.call(arguments);return e.async.forEach(t.parameters,function(i,A){return"undefined"!=typeof o[A]?(r[i]=o[A],!0):"undefined"!=typeof t.defaults[i]?e.expression.parseAsync.call(this,t.defaults[i],n).then(function(t){return r[i]=t,e.Promise.resolve()}):(r[i]=void 0,!0)}).then(function(){return e.parseAsync.call(i,t.output,r)})},{chain:r,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(t){var n=t.match[1].trim(),r=t.match[2].trim();return delete t.match,t.expression=n,t.contextName=r,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse:function(t,n,r){var i=this,o={chain:r,output:""};return"_self"===t.expression?(n[t.contextName]=this.macros,e.Promise.resolve(o)):e.expression.parseAsync.call(this,t.stack,n).then(function(e){return i.importFile(e||t.expression)}).then(function(e){return n[t.contextName]=e.renderAsync({},{output:"macros"}),o})}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){for(var n=t.match[1].trim(),r=t.match[2].trim().split(/\s*,\s*/),i={},o=0;o<r.length;o++){var A=r[o],a=A.match(/^([a-zA-Z0-9_]+)\s+as\s+([a-zA-Z0-9_]+)$/);a?i[a[1].trim()]=a[2].trim():A.match(/^([a-zA-Z0-9_]+)$/)&&(i[A]=A)}return delete t.match,t.expression=n,t.macroNames=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,t},parse:function(t,n,r){var i=this,o=e.Promise.resolve(this.macros);return"_self"!==t.expression&&(o=e.expression.parseAsync.call(this,t.stack,n).then(function(e){return i.importFile(e||t.expression)}).then(function(e){return e.renderAsync({},{output:"macros"})})),o.then(function(e){for(var i in t.macroNames)e.hasOwnProperty(i)&&(n[t.macroNames[i]]=e[i]);return{chain:r,output:""}})}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var n=t.match,r=n[1].trim(),i=void 0!==n[2],o=n[3],A=void 0!==n[4]&&n[4].length;return delete t.match,t.only=A,t.ignoreMissing=i,t.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r}).stack,void 0!==o&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:o.trim()}).stack),t},parse:function(t,n,r){var i,o,A={},a=this,s=e.Promise.resolve();if(!t.only)for(i in n)n.hasOwnProperty(i)&&(A[i]=n[i]);return void 0!==t.withStack&&(s=e.expression.parseAsync.call(this,t.withStack,n).then(function(e){for(i in e)e.hasOwnProperty(i)&&(A[i]=e[i])})),s.then(function(){return s=null,e.expression.parseAsync.call(a,t.stack,A)}).then(function(n){if(n instanceof e.Template)o=n;else try{o=a.importFile(n)}catch(e){if(t.ignoreMissing)return"";throw a=null,e}return a._blocks=e.lib.copy(a.blocks),a.blocks={},e.parseAsync.call(a,t.output,A).then(function(){return o.renderAsync(A,{blocks:a.blocks})})}).then(function(t){return a.blocks=e.lib.copy(a._blocks),{chain:r,output:t}})}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with\s+([\S\s]+?))(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile:function(t){var n=t.match,r=n[1],i=void 0!==n[2]&&n[2].length;return delete t.match,t.only=i,void 0!==r&&(t.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:r.trim()}).stack),t},parse:function(t,n,r){var i,o={},A=this,a=e.Promise.resolve();return t.only||(o=e.ChildContext(n)),void 0!==t.withStack&&(a=e.expression.parseAsync.call(this,t.withStack,n).then(function(e){for(i in e)e.hasOwnProperty(i)&&(o[i]=e[i])})),a.then(function(){return e.parseAsync.call(A,t.output,o)}).then(function(e){return{chain:r,output:e}})}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1}],e.logic.handler={},e.logic.extendType=function(t,n){n=n||"Twig.logic.type"+t,e.logic.type[t]=n},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var n=t.value.trim(),r=e.logic.tokenize.call(this,n),i=e.logic.handler[r.type];return i.compile&&(r=i.compile.call(this,r),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",r)),r},e.logic.tokenize=function(t){var n=null,r=null,i=null,o=null,A=null,a=null,s=null;t=t.trim();for(n in e.logic.handler)for(r=e.logic.handler[n].type,i=e.logic.handler[n].regex,o=i,e.lib.isArray(i)||(o=[i]),A=o.length,a=0;a<A;a++)if(s=o[a].exec(t),null!==s)return e.log.trace("Twig.logic.tokenize: ","Matched a ",r," regular expression of ",s),{type:r,match:s};throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,n,r,i){return e.async.potentiallyAsync(this,i,function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",t);var i,o=e.logic.handler[t.type],A=this;return o.parse?(A.parseStack.unshift(t),i=o.parse.call(A,t,n||{},r),e.isPromise(i)?i=i.then(function(e){return A.parseStack.shift(),e}):A.parseStack.shift(),i):""})},e}},function(e,t){e.exports=function(e){"use strict";e.Templates.registerParser("source",function(e){return e.data||""})}},function(e,t){e.exports=function(e){"use strict";e.Templates.registerParser("twig",function(t){return new e.Template(t)})}},function(e,t,n){e.exports=function(e){"use strict";return e.path={},e.path.parsePath=function(t,n){var r=null,i=t.options.namespaces,o=n||"",A=i&&"object"==typeof i;if(A)for(r in i)if(o.indexOf(r)!==-1){var a=new RegExp("^"+r+"::"),s=new RegExp("^@"+r+"/"),l=i[r].replace(/([^\/])$/,"$1/");if(a.test(o))return o=o.replace(a,l);if(s.test(o))return o=o.replace(s,l)}return e.path.relativePath(t,o)},e.path.relativePath=function(t,r){var i,o,A,a="/",s=[],l=r||"";if(t.url)i="undefined"!=typeof t.base?t.base.replace(/([^\/])$/,"$1/"):t.url;else if(t.path){var c=n(1),u=c.sep||a,d=new RegExp("^\\.{1,2}"+u.replace("\\","\\\\"));l=l.replace(/\//g,u),void 0!==t.base&&null==l.match(d)?(l=l.replace(t.base,""),i=t.base+u):i=c.normalize(t.path),i=i.replace(u+u,u),a=u}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");i=t.base||t.name||t.id}for(o=i.split(a),o.pop(),o=o.concat(l.split(a));o.length>0;)A=o.shift(),"."===A||(".."===A&&s.length>0&&".."!==s[s.length-1]?s.pop():s.push(A));return s.join(a)},e}},function(e,t){e.exports=function(e){"use strict";return e.tests={empty:function(e){if(null===e||void 0===e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2===1},even:function(e){return e%2===0},divisibleby:function(e,t){return e%t[0]===0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},"same as":function(e,t){return e===t[0]},sameas:function(t,n){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](t,n)},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,n,r){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](n,r)},e.test.extend=function(t,n){e.tests[t]=n},e}},function(e,t){e.exports=function(e){"use strict";function t(t,n,r){var i=r.call(t),o=null,A=!0;if(!e.isPromise(i))return i;if(i.then(function(e){i=e,A=!1}).catch(function(e){o=e}),null!==o)throw o;if(A)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return i}function n(e,t,n){try{e(t,n)}catch(e){n(e)}}function r(e,t,n){var r=[t,n,-2];return e?e[2]==-2?e=[e,r]:e.push(r):e=r,e}var i=0,o=1,A=2;return e.parseAsync=function(t,n){return e.parse.call(this,t,n,!0)},e.expression.parseAsync=function(t,n,r){return e.expression.parse.call(this,t,n,r,!0)},e.logic.parseAsync=function(t,n,r){return e.logic.parse.call(this,t,n,r,!0)},e.Template.prototype.renderAsync=function(e,t){return this.render(e,t,!0)},e.async={},e.isPromise=function(e){return e&&e.then&&"function"==typeof e.then},e.async.potentiallyAsync=function(n,r,i){return r?e.Promise.resolve(i.call(n)):t(n,r,i)},e.Thenable=function(e,t,n){this.then=e,this._value=n?t:null,this._state=n||i},e.Thenable.prototype.catch=function(e){return this._state==o?this:this.then(null,e)},e.Thenable.resolvedThen=function(t){try{return e.Promise.resolve(t(this._value))}catch(t){return e.Promise.reject(t)}},e.Thenable.rejectedThen=function(t,n){if(!n||"function"!=typeof n)return this;var r=this._value,i=e.attempt(function(){return n(r)},e.Promise.reject);return e.Promise.resolve(i)},e.Promise=function(t){function r(e){c(o,e)}function a(e){c(A,e)}var s=i,l=null,c=function(e,t){s=e,l=t};return n(t,r,a),s===o?e.Promise.resolve(l):s===A?e.Promise.reject(l):(c=e.FullPromise(),c.promise)},e.FullPromise=function(){function t(e){e(s._value)}function n(e,t){t(s._value)}function i(r,i){s._state||(s._value=i,s._state=r,a=r==o?t:n,A&&(A[2]===-2&&(a(A[0],A[1]),A=null),e.forEach(A,function(e){a(e[0],e[1])}),A=null))}var A=null,a=function(e,t){A=r(A,e,t)},s=new e.Thenable(function(t,n){var r="function"==typeof t;if(s._state==o&&!r)return e.Promise.resolve(s._value);if(s._state===o)return e.attempt(function(){return e.Promise.resolve(t(s._value))},e.Promise.reject);var i="function"==typeof n;return e.Promise(function(o,A){a(r?function(n){e.attempt(function(){o(t(n))},A)}:o,i?function(t){e.attempt(function(){o(n(t))},A)}:A)})});return i.promise=s,i},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,o),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",o),e.Promise.resolve=function(t){return arguments.length<1||"undefined"==typeof t?e.Promise.defaultResolved:e.isPromise(t)?t:""===t?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,t,o)},e.Promise.reject=function(t){return new e.Thenable(e.Thenable.rejectedThen,t,A)},e.Promise.all=function(t){var n=new Array(t.length);return e.async.forEach(t,function(t,r){return e.isPromise(t)?t._state==o?void(n[r]=t._value):t.then(function(e){n[r]=e}):void(n[r]=t)}).then(function(){return n})},e.async.forEach=function(t,n){function r(){var a=null;do{if(A==i)return e.Promise.resolve();a=n(t[A],A),A++}while(!a||!e.isPromise(a)||a._state==o);return a.then(r)}var i=t.length,A=0;return r()},e}},function(e,t){e.exports=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var n=t.id,r={strict_variables:t.strict_variables||!1,autoescape:null!=t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&n&&e.validateId(n),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:t.hasOwnProperty("path")?t.path:void 0,module:t.module,id:n,options:r});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||n||void 0,{id:n,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:n,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:n,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:r},t.load,t.error):void 0},e.exports.extendFilter=function(t,n){e.filter.extend(t,n)},e.exports.extendFunction=function(t,n){e._function.extend(t,n)},e.exports.extendTest=function(t,n){e.test.extend(t,n)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,n){var r,i=n.filename,o=n.filename;return r=new e.Template({data:t,path:o,id:i,options:n.settings["twig options"]}),function(e){return r.render(e)}},e.exports.renderFile=function(t,n,r){"function"==typeof n&&(r=n,n={}),n=n||{};var i=n.settings||{},o=i["twig options"],A={path:t,base:i.views,load:function(e){return o&&o.allow_async?void e.renderAsync(n).then(function(e){r(null,e)},r):void r(null,""+e.render(n))}};if(o)for(var a in o)o.hasOwnProperty(a)&&(A[a]=o[a]);e.exports.twig(A)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.Promise=e.Promise,e}}])})}).call(t,function(){return this}())},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var A=o>=0?arguments[o]:e.cwd();if("string"!=typeof A)throw new TypeError("Arguments to path.resolve must be strings");A&&(t=A+"/"+t,i="/"===A.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),o="/"===A(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),A=Math.min(i.length,o.length),a=A,s=0;s<A;s++)if(i[s]!==o[s]){a=s;break}for(var l=[],s=a;s<i.length;s++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var A="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(30))},function(e,t){},function(e,t,n){var r;!function(i,o,A){function a(e,t,n){return e.addEventListener?void e.addEventListener(t,n,!1):void e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return y[e.which]?y[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function l(e,t){return e.sort().join(",")===t.sort().join(",")}function c(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function u(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}function d(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){if(!w){w={};for(var e in y)e>95&&e<112||y.hasOwnProperty(e)&&(w[y[e]]=e)}return w}function h(e,t,n){return n||(n=p()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus"),e.split("+"))}function m(e,t){var n,r,i,o=[];for(n=g(e),i=0;i<n.length;++i)r=n[i],C[r]&&(r=C[r]),t&&"keypress"!=t&&E[r]&&(r=E[r],o.push("shift")),f(r)&&o.push(r);return t=h(r,o,t),{key:r,modifiers:o,action:t}}function v(e,t){return null!==e&&e!==o&&(e===t||v(e.parentNode,t))}function B(e){function t(e){e=e||{};var t,n=!1;for(t in w)e[t]?n=!0:w[t]=0;n||(E=!1)}function n(e,t,n,r,i,o){var A,a,s=[],c=n.type;if(!g._callbacks[e])return[];for("keyup"==c&&f(e)&&(t=[e]),A=0;A<g._callbacks[e].length;++A)if(a=g._callbacks[e][A],(r||!a.seq||w[a.seq]==a.level)&&c==a.action&&("keypress"==c&&!n.metaKey&&!n.ctrlKey||l(t,a.modifiers))){var u=!r&&a.combo==i,d=r&&a.seq==r&&a.level==o;(u||d)&&g._callbacks[e].splice(A,1),s.push(a)}return s}function r(e,t,n,r){g.stopCallback(t,t.target||t.srcElement,n,r)||e(t,n)===!1&&(u(t),d(t))}function i(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);if(t)return"keyup"==e.type&&y===t?void(y=!1):void g.handleKey(t,c(e),e)}function A(){clearTimeout(v),v=setTimeout(t,1e3)}function p(e,n,i,o){function a(t){return function(){E=t,++w[e],A()}}function l(n){r(i,n,e),"keyup"!==o&&(y=s(n)),setTimeout(t,10)}w[e]=0;for(var c=0;c<n.length;++c){var u=c+1===n.length,d=u?l:a(o||m(n[c+1]).action);h(n[c],d,o,e,c)}}function h(e,t,r,i,o){g._directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var A,a=e.split(" ");return a.length>1?void p(e,a,t,r):(A=m(e,r),g._callbacks[A.key]=g._callbacks[A.key]||[],n(A.key,A.modifiers,{type:A.action},i,e,o),void g._callbacks[A.key][i?"unshift":"push"]({callback:t,modifiers:A.modifiers,action:A.action,seq:i,level:o,combo:e}))}var g=this;if(e=e||o,!(g instanceof B))return new B(e);g.target=e,g._callbacks={},g._directMap={};var v,w={},y=!1,b=!1,E=!1;g._handleKey=function(e,i,o){var A,a=n(e,i,o),s={},l=0,c=!1;for(A=0;A<a.length;++A)a[A].seq&&(l=Math.max(l,a[A].level));for(A=0;A<a.length;++A)if(a[A].seq){if(a[A].level!=l)continue;c=!0,s[a[A].seq]=1,r(a[A].callback,o,a[A].combo,a[A].seq)}else c||r(a[A].callback,o,a[A].combo);var u="keypress"==o.type&&b;o.type!=E||f(e)||u||t(s),b=c&&"keydown"==o.type},g._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(e[r],t,n)},a(e,"keypress",i),a(e,"keydown",i),a(e,"keyup",i)}if(i){for(var w,y={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},E={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},Q=1;Q<20;++Q)y[111+Q]="f"+Q;for(Q=0;Q<=9;++Q)y[Q+96]=Q.toString();B.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},B.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},B.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},B.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},B.prototype.stopCallback=function(e,t){var n=this;if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(v(t,n.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},B.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},B.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(y[t]=e[t]);w=null},B.init=function(){var e=B(o);for(var t in e)"_"!==t.charAt(0)&&(B[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},B.init(),i.Mousetrap=B,"undefined"!=typeof e&&e.exports&&(e.exports=B),r=function(){return B}.call(t,n,t,e),!(r!==A&&(e.exports=r))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t){"use strict";e.exports=function(e,t,n){function r(e,t){return w&&(w=clearTimeout(w)),B=0,m?void 0:n.call(e,t)}function i(e){d=e.clientX,f=e.clientY}function o(e,n){return w&&(w=clearTimeout(w)),Math.abs(p-d)+Math.abs(h-f)<y.sensitivity?(B=1,m?void 0:t.call(e,n)):(p=d,h=f,w=setTimeout(function(){o(e,n)},y.interval),void 0)}function A(t){return g=!0,w&&(w=clearTimeout(w)),e.removeEventListener("mousemove",i,!1),1!==B&&(p=t.clientX,h=t.clientY,e.addEventListener("mousemove",i,!1),w=setTimeout(function(){o(e,t)},y.interval)),this}function a(t){return g=!1,w&&(w=clearTimeout(w)),e.removeEventListener("mousemove",i,!1),1===B&&(w=setTimeout(function(){r(e,t)},y.timeout)),this}function s(n){g||(m=!0,t.call(e,n))}function l(t){!g&&m&&(m=!1,n.call(e,t))}function c(){e.addEventListener("focus",s,!1),e.addEventListener("blur",l,!1)}function u(){e.removeEventListener("focus",s,!1),e.removeEventListener("blur",l,!1)}var d,f,p,h,g=!1,m=!1,v={},B=0,w=0,y={sensitivity:7,interval:100,timeout:0,handleFocus:!1};return v.options=function(e){var t=e.handleFocus!==y.handleFocus;return y=Object.assign({},y,e),t&&(y.handleFocus?c():u()),v},v.remove=function(){e&&(e.removeEventListener("mouseover",A,!1),e.removeEventListener("mouseout",a,!1),u())},e&&(e.addEventListener("mouseover",A,!1),e.addEventListener("mouseout",a,!1)),v}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ElementSettings=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(20),l=n(13),c=r(l),u=n(11),d=n(6),f=r(d),p=n(57),h=r(p),g=n(1),m=r(g),v=t.ElementSettings=function(){function e(){i(this,e),this.el=null,this.settings={},this.originalValues={},this.wrapper=null,this.dtActive=this.dtActive.bind(this),this.open=this.open.bind(this)}return a(e,[{key:"open",value:function(e){this.el=e,this.settings=e.options.settings,this.options=e.options,this.originalValues=JSON.parse(JSON.stringify(this.el.settings)),this.remote=this.options.remote||!1,this.cacheOutput=this.remote===!0&&this.options.cacheOutput===!0,this.debouncedRender=(0,s.debounce)(200,this.el.render),h.default.open(this.render())}},{key:"render",value:function(){var e=this,t=(0,u.form)(),n=(0,u.fieldSet)(),r=(0,u.legend)("fred.fe.element_settings",["fred--panel_element"]);n.appendChild(r),this.settings.forEach(function(t){if(t.group&&t.settings){var r=e.renderSettingsGroup(t);r!==!1&&n.appendChild(r)}else{var i=void 0===e.el.settings[t.name]?t.value:e.el.settings[t.name],o=e.renderSetting(t,i);o!==!1&&n.appendChild(o)}}),this.options.cacheOutput===!0&&n.appendChild((0,u.div)(["fred--panel_warning"],"fred.fe.content.element_cache_warning"));var i=(0,u.div)(["fred--panel_button_wrapper"]),o=(0,u.button)("fred.fe.apply","fred.fe.apply",["fred--btn-panel","fred--btn-apply"],this.apply.bind(this)),A=(0,u.button)("fred.fe.cancel","fred.fe.cancel",["fred--btn-panel"],function(){e.cancel(A)});return i.appendChild(o),i.appendChild(A),n.appendChild(i),t.appendChild(n),t}},{key:"dtActive",value:function(e,t){var n=function n(r){null===r.target.parentElement||t.contains(r.target)||(e.classList.remove("active"),h.default.wrapper.removeEventListener("click",n))};h.default.wrapper.addEventListener("click",n)}},{key:"renderSettingsGroup",value:function(e){var t=this,n=(0,u.dl)(),r=(0,u.dt)(e.group,[],function(e,o){var A=n.parentElement.querySelectorAll("dt.active"),a=o.classList.contains("active"),s=!0,l=!1,c=void 0;try{for(var u,d=A[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var f=u.value;f.classList.remove("active")}}catch(e){l=!0,c=e}finally{try{!s&&d.return&&d.return()}finally{if(l)throw c}}a||(o.classList.add("active"),e.stopPropagation(),t.dtActive(r,i))}),i=(0,u.dd)();return e.settings.forEach(function(e){var n=void 0===t.el.settings[e.name]?e.value:t.el.settings[e.name],r=t.renderSetting(e,n);r!==!1&&i.appendChild(r)}),n.appendChild(r),n.appendChild(i),n}},{key:"renderSetting",value:function(e,t){switch(e.type){case"select":return c.default.select(e,t,this.setSetting.bind(this));case"toggle":return c.default.toggle(e,t,this.setSetting.bind(this));case"colorswatch":return c.default.colorSwatch(e,t,this.setSetting.bind(this));case"colorpicker":return c.default.colorPicker(e,t,this.setSetting.bind(this));case"slider":return c.default.slider(e,t,this.setSetting.bind(this));case"page":return c.default.page(e,t,this.setSetting.bind(this));case"tagger":return c.default.tagger(e,t,this.setSetting.bind(this));case"image":var n="";return this.options.mediaSource&&""!==this.options.mediaSource&&(n=this.options.mediaSource),this.options.imageMediaSource&&""!==this.options.imageMediaSource&&(n=this.options.imageMediaSource),c.default.image(A({imageMediaSource:n},e),t,this.setSetting.bind(this));case"file":var r="";return this.options.mediaSource&&""!==this.options.mediaSource&&(r=this.options.mediaSource),c.default.file(A({mediaSource:r},e),t,this.setSetting.bind(this));case"folder":var i="";return this.options.mediaSource&&""!==this.options.mediaSource&&(i=this.options.mediaSource),c.default.folder(A({mediaSource:i},e),t,this.setSetting.bind(this));case"textarea":return c.default.area(e,t,this.setSetting.bind(this));default:return c.default.text(e,t,this.setSetting.bind(this))}}},{key:"setSetting",value:function(e,t){this.el.setSetting(e,t),this.cacheOutput===!1&&(this.remote===!1?this.el.render():this.debouncedRender());
}},{key:"apply",value:function(){var e=this;this.el.render(!0).then(function(){m.default.emit("fred-content-changed");var t=new CustomEvent("FredElementSettingChange",{detail:{fredEl:e.el}});document.body.dispatchEvent(t);var n=e.el.wrapper.querySelectorAll("[data-fred-on-setting-change]"),r=!0,i=!1,o=void 0;try{for(var A,a=n[Symbol.iterator]();!(r=(A=a.next()).done);r=!0){var s=A.value;window[s.dataset.fredOnSettingChange]&&window[s.dataset.fredOnSettingChange](e.el)}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}}),h.default.close()}},{key:"settingChanged",value:function(){return this.compareObjects(this.el.settings,this.originalValues)}},{key:"compareObjects",value:function(e,t){for(var n in e)if(e.hasOwnProperty(n))if("object"===o(e[n])){var r=this.compareObjects(e[n],t[n]);if(r===!0)return!0}else if(!t.hasOwnProperty(n)||t[n]!==e[n])return!0;return!1}},{key:"cancel",value:function(e){return this.settingChanged()?e.confirmed!==!0?(e.innerHTML=f.default.lng("fred.fe.element_settings.unsaved_changes"),void(e.confirmed=!0)):void this.realCancel():void h.default.close()}},{key:"realCancel",value:function(){this.el.settings=this.originalValues,this.cacheOutput===!1&&this.el.render(),h.default.close()}}]),e}(),B=new v;t.default=B},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(11),a=n(1),s=r(a),l=function(){function e(){i(this,e),this.rendered=!1,this.wrapper=null}return o(e,[{key:"render",value:function(){return this.rendered===!0?this.wrapper:(this.rendered=!0,this.wrapper=(0,A.div)(["fred--panel","fred--hidden"]),s.default.emit("fred-wrapper-insert",this.wrapper),this.wrapper)}},{key:"open",value:function(e){this.rendered===!1&&this.render(),this.wrapper.innerHTML="",this.wrapper.appendChild(e),this.wrapper.classList.remove("fred--hidden")}},{key:"close",value:function(){this.wrapper.classList.add("fred--hidden")}}]),e}(),c=new l;t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.replaceImage=t.renderElement=t.getElements=void 0;var i=n(38),o=r(i),A=n(36),a=r(A),s=n(6),l=r(s),c=n(20);t.getElements=function(){return a.default.load("elements",{name:"elements"},function(){return(0,o.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=get-elements&theme="+l.default.config.theme).then(function(e){return e.json()}).then(function(e){return e.data})})},t.renderElement=function(e,t,n,r,i){return(0,o.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=render-element",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:l.default.resource.id,parseModx:n,element:e,settings:t,cacheOutput:r,refreshCache:i})}).then(c.errorHandler)},t.replaceImage=function(e,t){var n={element:e,image:t};return""===t&&(n.generatedImage=generatedImage),(0,o.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=element-replace-image",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(c.errorHandler)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(11),a=n(60),s=r(a),l=n(63),c=r(l),u=n(65),d=r(u),f=n(66),p=r(f),h=n(67),g=r(h),m=n(68),v=r(m),B=n(6),w=r(B),y=n(70),b=r(y),E=function(){function e(t){i(this,e),this.el=t,this.invalidTheme=this.el.invalidTheme}return o(e,[{key:"render",value:function(){var e=this,t=(0,A.div)(["fred--toolbar"]);this.pluginWrapper=(0,A.div)(["fred--toolbar-plugins","fred--hidden"]);var n=(0,A.button)("","fred.fe.content.settings",["fred--element-settings"],function(){e.pluginWrapper.classList.contains("fred--hidden")?(t.getBoundingClientRect().top<250?t.classList.add("fred--toolbar-opendown"):t.classList.remove("fred--toolbar-opendown"),e.showPlugins()):e.hidePlugins()}),r=[b.default,s.default,c.default,d.default,p.default,g.default],i=this.el.options.toolbarPluginsInclude;i&&Array.isArray(i)&&(i=i.map(function(e){return e.toLowerCase()}));var o=this.el.options.toolbarPluginsExclude;o&&Array.isArray(o)&&(o=o.map(function(e){return e.toLowerCase()}));for(var a in w.default.toolbarPlugins)if(w.default.toolbarPlugins.hasOwnProperty(a)){if(i&&Array.isArray(i)){if(i.indexOf(a.toLowerCase())===-1)continue}else if(o&&Array.isArray(o)&&~o.indexOf(a.toLowerCase()))continue;r.push(w.default.toolbarPlugins[a])}return r.forEach(function(t){new t(e.el,e.pluginWrapper)}),t.appendChild(this.pluginWrapper),t.appendChild(n),new v.default(this.el,t),window.addEventListener("scroll",function(e){t.getBoundingClientRect().top<250?t.classList.add("fred--toolbar-opendown"):t.classList.remove("fred--toolbar-opendown")}),t}},{key:"showPlugins",value:function(){this.pluginWrapper&&this.pluginWrapper.classList.remove("fred--hidden")}},{key:"hidePlugins",value:function(){this.pluginWrapper&&this.pluginWrapper.classList.add("fred--hidden")}}]),e}();t.default=E,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=n(6),u=r(c),d=n(11),f=n(10),p=r(f),h=n(1),g=r(h),m=n(58),v=n(36),B=r(v),w=n(62),y=r(w),b=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"onClick",value:function(){var e=this;if(u.default.permission.fred_element_screenshot){var t="",n=new p.default("Element Screenshot","",function(){g.default.emit("fred-loading",u.default.lng("fred.fe.content.element_replacing_thumbnail")),(0,m.replaceImage)(e.el.id,t).then(function(){B.default.kill("elements",{name:"elements"}),g.default.emit("fred-loading-hide")})},{showCancelButton:!0,saveButtonText:"fred.fe.content.replace_element_thumbnail"}),r=(0,d.span)(["fred--loading"]);n.setContent(r),n.render(),n.disableSave(),(0,y.default)(this.el.wrapper,{logging:!1,ignoreElements:function(e){return!!e.classList.contains("fred")||(!!e.classList.contains("fred--toolbar")||!!e.classList.contains("fred--block_title"))}}).then(function(e){var r=540;if(e.width>r){var i=r/e.width,o=new Image;o.onload=function(){var r=document.createElement("canvas"),A=r.getContext("2d");r.width=e.width*i,r.height=e.height*i,A.drawImage(o,0,0,r.width,r.height),t=r.toDataURL(),n.setContent((0,d.img)(t)),n.enableSave()},o.src=e.toDataURL()}else t=e.toDataURL(),n.setContent((0,d.img)(t)),n.enableSave()}).catch(function(e){n.setContent((0,d.img)("https://via.placeholder.com/300x150/000000/FF0000?text=Generation%20Failed"))})}}}]),t}(l.default);b.permission="fred_element_screenshot",b.title="fred.fe.content.element_screenshot",b.icon="fred--element_screenshot",t.default=b,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(6),a=r(A),s=n(11),l=function(){function e(t,n){var r=this;if(i(this,e),this.el=t,this.toolbar=n,(!this.constructor.permission||a.default.permission[this.constructor.permission])&&(!this.constructor.checkInvalidTheme||!this.el.invalidTheme)){var o=this.shouldRender();if(o===!0){var A=function(){return r.customRender&&"function"==typeof r.customRender?r.customRender():(0,s.a)(r.constructor.title,r.constructor.title,"",[],r.onClick.bind(r))},l=A();l&&this.toolbar.appendChild(l)}}}return o(e,[{key:"shouldRender",value:function(){return!0}},{key:"onClick",value:function(){}}]),e}();l.permission=null,l.checkInvalidTheme=!0,l.title="TITLE NOT SET",l.icon="",t.default=l,e.exports=t.default},function(e,t,n){/*!
	 * html2canvas 1.0.0-rc.3 <https://html2canvas.hertzen.com>
	 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
	 * Released under MIT License
	 */
!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function t(e,t,n,r){return new(n||(n=Promise))(function(i,o){function A(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(A,a)}s((r=r.apply(e,t||[])).next())})}function n(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(A=2&n[0]?o.return:n[0]?o.throw||((A=o.return)&&A.call(o),0):o.next)&&!(A=A.call(o,n[1])).done)return A;switch(o=0,A&&(n=[2&n[0],A.value]),n[0]){case 0:case 1:A=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,o=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(A=s.trys,!(A=A.length>0&&A[A.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!A||n[1]>A[0]&&n[1]<A[3])){s.label=n[1];break}if(6===n[0]&&s.label<A[1]){s.label=A[1],A=n;break}if(A&&s.label<A[2]){s.label=A[2],s.ops.push(n);break}A[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],o=0}finally{i=A=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,A,a,s={label:0,sent:function(){if(1&A[0])throw A[1];return A[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function r(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}for(var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},o.apply(this,arguments)},A=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t){return new e(t.left,t.top,t.width,t.height)},e}(),a=function(e){return A.fromClientRect(e.getBoundingClientRect())},s=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new A(0,0,r,i)},l=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var A=e[i];A<=65535?r.push(A):(A-=65536,r.push((A>>10)+55296,A%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<u.length;f++)d[u.charCodeAt(f)]=f;var p,h=function(e){var t,n,r,i,o,A=.75*e.length,a=e.length,s=0;"="===e[e.length-1]&&(A--,"="===e[e.length-2]&&A--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint8Array.prototype.slice?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<a;t+=4)n=d[e.charCodeAt(t)],r=d[e.charCodeAt(t+1)],i=d[e.charCodeAt(t+2)],o=d[e.charCodeAt(t+3)],c[s++]=n<<2|r>>4,c[s++]=(15&r)<<4|i>>2,c[s++]=(3&i)<<6|63&o;return l},g=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},m=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},v=5,B=11,w=2,y=B-v,b=65536>>v,E=1<<v,C=E-1,Q=1024>>v,U=b+Q,F=U,_=32,H=F+_,x=65536>>B,T=1<<y,S=T-1,N=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},k=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},O=function(e){var t=h(e),n=Array.isArray(t)?m(t):new Uint32Array(t),r=Array.isArray(t)?g(t):new Uint16Array(t),i=24,o=N(r,i/2,n[4]/2),A=2===n[5]?N(r,(i+n[4])/2):k(n,Math.ceil((i+n[4])/4));return new I(n[0],n[1],n[2],n[3],o,A)},I=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>v],t=(t<<w)+(e&C),this.data[t];if(e<=65535)return t=this.index[b+(e-55296>>v)],t=(t<<w)+(e&C),this.data[t];if(e<this.highStart)return t=H-x+(e>>B),t=this.index[t],t+=e>>v&S,t=this.index[t],t=(t<<w)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),L="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA",D=50,M=1,K=2,R=3,P=4,z=5,j=7,V=8,G=9,X=10,J=11,W=12,Y=13,q=14,Z=15,$=16,ee=17,te=18,ne=19,re=20,ie=21,oe=22,Ae=23,ae=24,se=25,le=26,ce=27,ue=28,de=29,fe=30,pe=31,he=32,ge=33,me=34,ve=35,Be=36,we=37,ye=38,be=39,Ee=40,Ce=41,Qe=42,Ue=43,Fe="!",_e="×",He="÷",xe=O(L),Te=[fe,Be],Se=[M,K,R,z],Ne=[X,V],ke=[ce,le],Oe=Se.concat(Ne),Ie=[ye,be,Ee,me,ve],Le=[Z,Y],De=function(e,t){
void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach(function(e,o){var A=xe.get(e);if(A>D?(i.push(!0),A-=D):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(e)!==-1)return r.push(o),n.push($);if(A===P||A===J){if(0===o)return r.push(o),n.push(fe);var a=n[o-1];return Oe.indexOf(a)===-1?(r.push(r[o-1]),n.push(a)):(r.push(o),n.push(fe))}return r.push(o),A===pe?n.push("strict"===t?ie:we):A===Qe?n.push(fe):A===de?n.push(fe):A===Ue?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(we):n.push(fe):void n.push(A)}),[r,n,i]},Me=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var o=n;o<=r.length;){o++;var A=r[o];if(A===t)return!0;if(A!==X)break}if(i===X)for(var o=n;o>0;){o--;var a=r[o];if(Array.isArray(e)?e.indexOf(a)!==-1:e===a)for(var s=n;s<=r.length;){s++;var A=r[s];if(A===t)return!0;if(A!==X)break}if(a!==X)break}return!1},Ke=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==X)return r;n--}return 0},Re=function(e,t,n,r,i){if(0===n[r])return _e;var o=r-1;if(Array.isArray(i)&&i[o]===!0)return _e;var A=o-1,a=o+1,s=t[o],l=A>=0?t[A]:0,c=t[a];if(s===K&&c===R)return _e;if(Se.indexOf(s)!==-1)return Fe;if(Se.indexOf(c)!==-1)return _e;if(Ne.indexOf(c)!==-1)return _e;if(Ke(o,t)===V)return He;if(xe.get(e[o])===J&&(c===we||c===he||c===ge))return _e;if(s===j||c===j)return _e;if(s===G)return _e;if([X,Y,Z].indexOf(s)===-1&&c===G)return _e;if([ee,te,ne,ae,ue].indexOf(c)!==-1)return _e;if(Ke(o,t)===oe)return _e;if(Me(Ae,oe,o,t))return _e;if(Me([ee,te],ie,o,t))return _e;if(Me(W,W,o,t))return _e;if(s===X)return He;if(s===Ae||c===Ae)return _e;if(c===$||s===$)return He;if([Y,Z,ie].indexOf(c)!==-1||s===q)return _e;if(l===Be&&Le.indexOf(s)!==-1)return _e;if(s===ue&&c===Be)return _e;if(c===re&&Te.concat(re,ne,se,we,he,ge).indexOf(s)!==-1)return _e;if(Te.indexOf(c)!==-1&&s===se||Te.indexOf(s)!==-1&&c===se)return _e;if(s===ce&&[we,he,ge].indexOf(c)!==-1||[we,he,ge].indexOf(s)!==-1&&c===le)return _e;if(Te.indexOf(s)!==-1&&ke.indexOf(c)!==-1||ke.indexOf(s)!==-1&&Te.indexOf(c)!==-1)return _e;if([ce,le].indexOf(s)!==-1&&(c===se||[oe,Z].indexOf(c)!==-1&&t[a+1]===se)||[oe,Z].indexOf(s)!==-1&&c===se||s===se&&[se,ue,ae].indexOf(c)!==-1)return _e;if([se,ue,ae,ee,te].indexOf(c)!==-1)for(var u=o;u>=0;){var d=t[u];if(d===se)return _e;if([ue,ae].indexOf(d)===-1)break;u--}if([ce,le].indexOf(c)!==-1)for(var u=[ee,te].indexOf(s)!==-1?A:o;u>=0;){var d=t[u];if(d===se)return _e;if([ue,ae].indexOf(d)===-1)break;u--}if(ye===s&&[ye,be,me,ve].indexOf(c)!==-1||[be,me].indexOf(s)!==-1&&[be,Ee].indexOf(c)!==-1||[Ee,ve].indexOf(s)!==-1&&c===Ee)return _e;if(Ie.indexOf(s)!==-1&&[re,le].indexOf(c)!==-1||Ie.indexOf(c)!==-1&&s===ce)return _e;if(Te.indexOf(s)!==-1&&Te.indexOf(c)!==-1)return _e;if(s===ae&&Te.indexOf(c)!==-1)return _e;if(Te.concat(se).indexOf(s)!==-1&&c===oe||Te.concat(se).indexOf(c)!==-1&&s===te)return _e;if(s===Ce&&c===Ce){for(var f=n[o],p=1;f>0&&(f--,t[f]===Ce);)p++;if(p%2!==0)return _e}return s===he&&c===ge?_e:He},Pe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=De(e,t.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map(function(e){return[se,fe,Qe].indexOf(e)!==-1?we:e}));var A="keep-all"===t.wordBreak?o.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,i,A]},ze=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Fe,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=l(e),r=Pe(n,t),i=r[0],o=r[1],A=r[2],a=n.length,s=0,c=0;return{next:function(){if(c>=a)return{done:!0,value:null};for(var e=_e;c<a&&(e=Re(n,o,i,++c,A))===_e;);if(e!==_e||c===a){var t=new ze(n,e,s,c);return s=c,{value:t,done:!1}}return{done:!0,value:null}}}};!function(e){e[e.STRING_TOKEN=0]="STRING_TOKEN",e[e.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",e[e.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",e[e.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",e[e.COMMA_TOKEN=4]="COMMA_TOKEN",e[e.HASH_TOKEN=5]="HASH_TOKEN",e[e.DELIM_TOKEN=6]="DELIM_TOKEN",e[e.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",e[e.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",e[e.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",e[e.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",e[e.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",e[e.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",e[e.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",e[e.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",e[e.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",e[e.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",e[e.NUMBER_TOKEN=17]="NUMBER_TOKEN",e[e.FUNCTION=18]="FUNCTION",e[e.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",e[e.IDENT_TOKEN=20]="IDENT_TOKEN",e[e.COLUMN_TOKEN=21]="COLUMN_TOKEN",e[e.URL_TOKEN=22]="URL_TOKEN",e[e.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",e[e.CDC_TOKEN=24]="CDC_TOKEN",e[e.CDO_TOKEN=25]="CDO_TOKEN",e[e.COLON_TOKEN=26]="COLON_TOKEN",e[e.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",e[e.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",e[e.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",e[e.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",e[e.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",e[e.EOF_TOKEN=32]="EOF_TOKEN"}(p||(p={}));var Ve,Ge=1,Xe=2,Je=4,We=8,Ye=10,qe=47,Ze=92,$e=9,et=32,tt=34,nt=61,rt=35,it=36,ot=37,At=39,at=40,st=41,lt=95,ct=45,ut=33,dt=60,ft=62,pt=64,ht=91,gt=93,mt=61,vt=123,Bt=63,wt=125,yt=124,bt=126,Et=128,Ct=65533,Qt=42,Ut=43,Ft=44,_t=58,Ht=59,xt=46,Tt=0,St=8,Nt=11,kt=14,Ot=31,It=127,Lt=-1,Dt=48,Mt=97,Kt=101,Rt=102,Pt=117,zt=122,jt=65,Vt=69,Gt=70,Xt=85,Jt=90,Wt=function(e){return e>=Dt&&e<=57},Yt=function(e){return e>=55296&&e<=57343},qt=function(e){return Wt(e)||e>=jt&&e<=Gt||e>=Mt&&e<=Rt},Zt=function(e){return e>=Mt&&e<=zt},$t=function(e){return e>=jt&&e<=Jt},en=function(e){return Zt(e)||$t(e)},tn=function(e){return e>=Et},nn=function(e){return e===Ye||e===$e||e===et},rn=function(e){return en(e)||tn(e)||e===lt},on=function(e){return rn(e)||Wt(e)||e===ct},An=function(e){return e>=Tt&&e<=St||e===Nt||e>=kt&&e<=Ot||e===It},an=function(e,t){return e===Ze&&t!==Ye},sn=function(e,t,n){return e===ct?rn(t)||an(t,n):!!rn(e)||!(e!==Ze||!an(e,t))},ln=function(e,t,n){return e===Ut||e===ct?!!Wt(t)||t===xt&&Wt(n):Wt(e===xt?t:e)},cn=function(e){var t=0,n=1;e[t]!==Ut&&e[t]!==ct||(e[t]===ct&&(n=-1),t++);for(var r=[];Wt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===xt&&t++;for(var o=[];Wt(e[t]);)o.push(e[t++]);var A=o.length,a=A?parseInt(c.apply(void 0,o),10):0;e[t]!==Vt&&e[t]!==Kt||t++;var s=1;e[t]!==Ut&&e[t]!==ct||(e[t]===ct&&(s=-1),t++);for(var l=[];Wt(e[t]);)l.push(e[t++]);var u=l.length?parseInt(c.apply(void 0,l),10):0;return n*(i+a*Math.pow(10,-A))*Math.pow(10,s*u)},un={type:p.LEFT_PARENTHESIS_TOKEN},dn={type:p.RIGHT_PARENTHESIS_TOKEN},fn={type:p.COMMA_TOKEN},pn={type:p.SUFFIX_MATCH_TOKEN},hn={type:p.PREFIX_MATCH_TOKEN},gn={type:p.COLUMN_TOKEN},mn={type:p.DASH_MATCH_TOKEN},vn={type:p.INCLUDE_MATCH_TOKEN},Bn={type:p.LEFT_CURLY_BRACKET_TOKEN},wn={type:p.RIGHT_CURLY_BRACKET_TOKEN},yn={type:p.SUBSTRING_MATCH_TOKEN},bn={type:p.BAD_URL_TOKEN},En={type:p.BAD_STRING_TOKEN},Cn={type:p.CDO_TOKEN},Qn={type:p.CDC_TOKEN},Un={type:p.COLON_TOKEN},Fn={type:p.SEMICOLON_TOKEN},_n={type:p.LEFT_SQUARE_BRACKET_TOKEN},Hn={type:p.RIGHT_SQUARE_BRACKET_TOKEN},xn={type:p.WHITESPACE_TOKEN},Tn={type:p.EOF_TOKEN},Sn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(l(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Tn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case tt:return this.consumeStringToken(tt);case rt:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(on(t)||an(n,r)){var i=sn(t,n,r)?Xe:Ge,o=this.consumeName();return{type:p.HASH_TOKEN,value:o,flags:i}}break;case it:if(this.peekCodePoint(0)===nt)return this.consumeCodePoint(),pn;break;case At:return this.consumeStringToken(At);case at:return un;case st:return dn;case Qt:if(this.peekCodePoint(0)===nt)return this.consumeCodePoint(),yn;break;case Ut:if(ln(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ft:return fn;case ct:var A=e,a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(ln(A,a,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(A,a,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(a===ct&&s===ft)return this.consumeCodePoint(),this.consumeCodePoint(),Qn;break;case xt:if(ln(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case qe:if(this.peekCodePoint(0)===Qt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Qt&&(l=this.consumeCodePoint(),l===qe))return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case _t:return Un;case Ht:return Fn;case dt:if(this.peekCodePoint(0)===ut&&this.peekCodePoint(1)===ct&&this.peekCodePoint(2)===ct)return this.consumeCodePoint(),this.consumeCodePoint(),Cn;break;case pt:var u=this.peekCodePoint(0),d=this.peekCodePoint(1),f=this.peekCodePoint(2);if(sn(u,d,f)){var o=this.consumeName();return{type:p.AT_KEYWORD_TOKEN,value:o}}break;case ht:return _n;case Ze:if(an(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case gt:return Hn;case mt:if(this.peekCodePoint(0)===nt)return this.consumeCodePoint(),hn;break;case vt:return Bn;case wt:return wn;case Pt:case Xt:var h=this.peekCodePoint(0),g=this.peekCodePoint(1);return h!==Ut||!qt(g)&&g!==Bt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===nt)return this.consumeCodePoint(),mn;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),gn;break;case bt:if(this.peekCodePoint(0)===nt)return this.consumeCodePoint(),vn;break;case Lt:return Tn}return nn(e)?(this.consumeWhiteSpace(),xn):Wt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):rn(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:p.DELIM_TOKEN,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"==typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();qt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Bt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(c.apply(void 0,e.map(function(e){return e===Bt?Dt:e})),16),i=parseInt(c.apply(void 0,e.map(function(e){return e===Bt?Gt:e})),16);return{type:p.UNICODE_RANGE_TOKEN,start:r,end:i}}var o=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ct&&qt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var A=[];qt(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();var i=parseInt(c.apply(void 0,A),16);return{type:p.UNICODE_RANGE_TOKEN,start:o,end:i}}return{type:p.UNICODE_RANGE_TOKEN,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===at?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:p.FUNCTION_TOKEN,value:e}):{type:p.IDENT_TOKEN,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:p.URL_TOKEN,value:""};var t=this.peekCodePoint(0);if(t===At||t===tt){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===p.STRING_TOKEN&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:p.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),bn)}for(;;){var r=this.consumeCodePoint();if(r===Lt||r===st)return{type:p.URL_TOKEN,value:c.apply(void 0,e)};if(nn(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:p.URL_TOKEN,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),bn);if(r===tt||r===At||r===at||An(r))return this.consumeBadUrlRemnants(),bn;if(r===Ze){if(!an(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),bn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;nn(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===Lt)return;an(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=6e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Lt||void 0===r||r===e)return t+=this.consumeStringSlice(n),{type:p.STRING_TOKEN,value:t};if(r===Ye)return this._value.splice(0,n),En;if(r===Ze){var i=this._value[n+1];i!==Lt&&void 0!==i&&(i===Ye?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):an(r,i)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=Je,n=this.peekCodePoint(0);for(n!==Ut&&n!==ct||e.push(this.consumeCodePoint());Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===xt&&Wt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Vt||n===Kt)&&((r===Ut||r===ct)&&Wt(i)||Wt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=We;Wt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[cn(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(sn(r,i,o)){var A=this.consumeName();return{type:p.DIMENSION_TOKEN,number:t,flags:n,unit:A}}return r===ot?(this.consumeCodePoint(),{type:p.PERCENTAGE_TOKEN,number:t,flags:n}):{type:p.NUMBER_TOKEN,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(qt(e)){for(var t=c(e);qt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());nn(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Yt(n)||n>1114111?Ct:n}return e===Lt?Ct:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(on(t))e+=c(t);else{if(!an(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Nn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Sn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===p.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===p.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===p.WHITESPACE_TOKEN);if(e.type===p.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===p.EOF_TOKEN)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case p.LEFT_CURLY_BRACKET_TOKEN:case p.LEFT_SQUARE_BRACKET_TOKEN:case p.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case p.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===p.EOF_TOKEN||Pn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:p.FUNCTION};;){var n=this.consumeToken();if(n.type===p.EOF_TOKEN||n.type===p.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"==typeof e?Tn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),kn=function(e){return e.type===p.DIMENSION_TOKEN},On=function(e){return e.type===p.NUMBER_TOKEN},In=function(e){return e.type===p.IDENT_TOKEN},Ln=function(e){return e.type===p.STRING_TOKEN},Dn=function(e,t){return In(e)&&e.value===t},Mn=function(e){return e.type!==p.WHITESPACE_TOKEN},Kn=function(e){return e.type!==p.WHITESPACE_TOKEN&&e.type!==p.COMMA_TOKEN},Rn=function(e){var t=[],n=[];return e.forEach(function(e){if(e.type===p.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}e.type!==p.WHITESPACE_TOKEN&&n.push(e)}),n.length&&t.push(n),t},Pn=function(e,t){return t===p.LEFT_CURLY_BRACKET_TOKEN&&e.type===p.RIGHT_CURLY_BRACKET_TOKEN||(t===p.LEFT_SQUARE_BRACKET_TOKEN&&e.type===p.RIGHT_SQUARE_BRACKET_TOKEN||t===p.LEFT_PARENTHESIS_TOKEN&&e.type===p.RIGHT_PARENTHESIS_TOKEN)},zn=function(e){return e.type===p.NUMBER_TOKEN||e.type===p.DIMENSION_TOKEN},jn=function(e){return e.type===p.PERCENTAGE_TOKEN||zn(e)},Vn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Gn={type:p.NUMBER_TOKEN,number:0,flags:Je},Xn={type:p.PERCENTAGE_TOKEN,number:50,flags:Je},Jn={type:p.PERCENTAGE_TOKEN,number:100,flags:Je},Wn=function(e,t,n){var r=e[0],i=e[1];return[Yn(r,t),Yn("undefined"!=typeof i?i:r,n)]},Yn=function(e,t){if(e.type===p.PERCENTAGE_TOKEN)return e.number/100*t;if(kn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},qn="deg",Zn="grad",$n="rad",er="turn",tr={name:"angle",parse:function(e){if(e.type===p.DIMENSION_TOKEN)switch(e.unit){case qn:return Math.PI*e.number/180;case Zn:return Math.PI/200*e.number;case $n:return e.number;case er:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")}},nr=function(e){return e.type===p.DIMENSION_TOKEN&&(e.unit===qn||e.unit===Zn||e.unit===$n||e.unit===er)},rr=function(e){var t=e.filter(In).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Gn,Gn];case"to top":case"bottom":return ir(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Gn,Jn];case"to right":case"left":return ir(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Jn,Jn];case"to bottom":case"top":return ir(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Jn,Gn];case"to left":case"right":return ir(270)}return 0},ir=function(e){return Math.PI*e/180},or={name:"color",parse:function(e){if(e.type===p.FUNCTION){var t=dr[e.name];if("undefined"==typeof t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===p.HASH_TOKEN){if(3===e.value.length){var n=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3);return sr(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),1)}if(4===e.value.length){var n=e.value.substring(0,1),r=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return sr(parseInt(n+n,16),parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===e.value.length){var n=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6);return sr(parseInt(n,16),parseInt(r,16),parseInt(i,16),1)}if(8===e.value.length){var n=e.value.substring(0,2),r=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return sr(parseInt(n,16),parseInt(r,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===p.IDENT_TOKEN){var A=fr[e.value.toUpperCase()];if("undefined"!=typeof A)return A}return fr.TRANSPARENT}},Ar=function(e){return 0===(255&e)},ar=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},sr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},lr=function(e,t){if(e.type===p.NUMBER_TOKEN)return e.number;if(e.type===p.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},cr=function(e){var t=e.filter(Kn);if(3===t.length){var n=t.map(lr),r=n[0],i=n[1],o=n[2];return sr(r,i,o,1)}if(4===t.length){var A=t.map(lr),r=A[0],i=A[1],o=A[2],a=A[3];return sr(r,i,o,a)}return 0},ur=function(e){var t=e.filter(Kn),n=t[0],i=t[1],o=t[2],A=t[3],a=(n.type===p.NUMBER_TOKEN?ir(n.number):tr.parse(n))/(2*Math.PI),s=jn(i)?i.number/100:0,l=jn(o)?o.number/100:0,c="undefined"!=typeof A&&jn(A)?Yn(A,1):1;if(0===s)return sr(255*l,255*l,255*l,1);var u=l<=.5?l*(s+1):l+s-l*s,d=2*l-u,f=r(d,u,a+1/3),h=r(d,u,a),g=r(d,u,a-1/3);return sr(255*f,255*h,255*g,c)},dr={hsl:ur,hsla:ur,rgb:cr,rgba:cr},fr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};!function(e){e[e.VALUE=0]="VALUE",e[e.LIST=1]="LIST",e[e.IDENT_VALUE=2]="IDENT_VALUE",e[e.TYPE_VALUE=3]="TYPE_VALUE",e[e.TOKEN_VALUE=4]="TOKEN_VALUE"}(Ve||(Ve={}));var pr;!function(e){e[e.BORDER_BOX=0]="BORDER_BOX",e[e.PADDING_BOX=1]="PADDING_BOX",e[e.CONTENT_BOX=2]="CONTENT_BOX"}(pr||(pr={}));var hr,gr={name:"background-clip",initialValue:"border-box",prefix:!1,type:Ve.LIST,parse:function(e){return e.map(function(e){if(In(e))switch(e.value){case"padding-box":return pr.PADDING_BOX;case"content-box":return pr.CONTENT_BOX}return pr.BORDER_BOX})}},mr={name:"background-color",initialValue:"transparent",prefix:!1,type:Ve.TYPE_VALUE,format:"color"},vr=function(e){var t=or.parse(e[0]),n=e[1];return n&&jn(n)?{color:t,stop:n}:{color:t,stop:null}},Br=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Gn),null===r.stop&&(r.stop=Jn);for(var i=[],o=0,A=0;A<e.length;A++){var a=e[A].stop;if(null!==a){var s=Yn(a,t);s>o?i.push(s):i.push(o),o=s}else i.push(null)}for(var l=null,A=0;A<i.length;A++){var c=i[A];if(null===c)null===l&&(l=A);else if(null!==l){for(var u=A-l,d=i[l-1],f=(c-d)/(u+1),p=1;p<=u;p++)i[l+p-1]=f*p;l=null}}return e.map(function(e,n){var r=e.color;return{color:r,stop:Math.max(Math.min(1,i[n]/t),0)}})},wr=function(e,t,n){var r=t/2,i=n/2,o=Yn(e[0],t)-r,A=i-Yn(e[1],n);return(Math.atan2(A,o)+2*Math.PI)%(2*Math.PI)},yr=function(e,t,n){var r="number"==typeof e?e:wr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,A=n/2,a=i/2,s=Math.sin(r-Math.PI/2)*a,l=Math.cos(r-Math.PI/2)*a;return[i,o-l,o+l,A-s,A+s]},br=function(e,t){return Math.sqrt(e*e+t*t)},Er=function(e,t,n,r,i){var o=[[0,0],[0,t],[e,0],[e,t]];return o.reduce(function(e,t){var o=t[0],A=t[1],a=br(n-o,r-A);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e},{optimumDistance:i?1/0:-(1/0),optimumCorner:null}).optimumCorner},Cr=function(e,t,n,r,i){var o=0,A=0;switch(e.size){case ai.CLOSEST_SIDE:e.shape===ii.CIRCLE?o=A=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===ii.ELLIPSE&&(o=Math.min(Math.abs(t),Math.abs(t-r)),A=Math.min(Math.abs(n),Math.abs(n-i)));break;case ai.CLOSEST_CORNER:if(e.shape===ii.CIRCLE)o=A=Math.min(br(t,n),br(t,n-i),br(t-r,n),br(t-r,n-i));else if(e.shape===ii.ELLIPSE){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),s=Er(r,i,t,n,!0),l=s[0],c=s[1];o=br(l-t,(c-n)/a),A=a*o}break;case ai.FARTHEST_SIDE:e.shape===ii.CIRCLE?o=A=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):e.shape===ii.ELLIPSE&&(o=Math.max(Math.abs(t),Math.abs(t-r)),A=Math.max(Math.abs(n),Math.abs(n-i)));break;case ai.FARTHEST_CORNER:if(e.shape===ii.CIRCLE)o=A=Math.max(br(t,n),br(t,n-i),br(t-r,n),br(t-r,n-i));else if(e.shape===ii.ELLIPSE){var a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r)),u=Er(r,i,t,n,!1),l=u[0],c=u[1];o=br(l-t,(c-n)/a),A=a*o}}return Array.isArray(e.size)&&(o=Yn(e.size[0],r),A=2===e.size.length?Yn(e.size[1],i):o),[o,A]},Qr=function(e){var t=ir(180),n=[];return Rn(e).forEach(function(e,r){if(0===r){var i=e[0];if(i.type===p.IDENT_TOKEN&&"to"===i.value)return void(t=rr(e));if(nr(i))return void(t=tr.parse(i))}var o=vr(e);n.push(o)}),{angle:t,stops:n,type:hr.LINEAR_GRADIENT}},Ur=function(e){var t=ir(180),n=[];return Rn(e).forEach(function(e,r){if(0===r){var i=e[0];if(i.type===p.IDENT_TOKEN&&["top","left","right","bottom"].indexOf(i.value)!==-1)return void(t=rr(e));if(nr(i))return void(t=(tr.parse(i)+ir(270))%ir(360))}var o=vr(e);n.push(o)}),{angle:t,stops:n,type:hr.LINEAR_GRADIENT}},Fr=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(r),o===t)return!0}}return!1},_r=function(){return"undefined"!=typeof(new Image).crossOrigin},Hr=function(){return"string"==typeof(new XMLHttpRequest).responseType},xr=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},Tr=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Sr=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var A=Nr(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),kr(A).then(function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=e.createElement("div");return A.style.backgroundImage="url("+o+")",A.style.height=n+"px",Tr(i)?kr(Nr(n,n,0,0,A)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),Tr(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Nr=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",A=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return A.setAttributeNS(null,"width",e.toString()),A.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(a),a.appendChild(i),A},kr=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Or={get SUPPORT_RANGE_BOUNDS(){var e=Fr(document);return Object.defineProperty(Or,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=xr(document);return Object.defineProperty(Or,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?Sr(document):Promise.resolve(!1);return Object.defineProperty(Or,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=_r();return Object.defineProperty(Or,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Hr();return Object.defineProperty(Or,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Or,"SUPPORT_CORS_XHR",{value:e}),e}},Ir=function(){function e(e){this.id=e,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},e.prototype.getTime=function(){return Date.now()-this.start},e.create=function(t){e.instances[t]=new e(t)},e.destroy=function(t){delete e.instances[t]},e.getInstance=function(t){var n=e.instances[t];if("undefined"==typeof n)throw new Error("No logger instance found with id "+t);return n},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e)},e.instances={},e}(),Lr=function(){function e(){}return e.create=function(t,n){return e._caches[t]=new Dr(t,n);
},e.destroy=function(t){delete e._caches[t]},e.open=function(t){var n=e._caches[t];if("undefined"!=typeof n)return n;throw new Error('Cache with key "'+t+'" not found')},e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e.getInstance=function(){var t=e._current;if(null===t)throw new Error("No cache instance attached");return t},e.attachInstance=function(t){e._current=t},e.detachInstance=function(){e._current=null},e._caches={},e._origin="about:blank",e._current=null,e}(),Dr=function(){function e(e,t){this.id=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Vr(e)||Pr(e)?(this._cache[e]=this.loadImage(e),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return t(this,void 0,void 0,function(){var t,r,i,o,A=this;return n(this,function(n){switch(n.label){case 0:return t=Lr.isSameOrigin(e),r=!zr(e)&&this._options.useCORS===!0&&Or.SUPPORT_CORS_IMAGES&&!t,i=!zr(e)&&!t&&"string"==typeof this._options.proxy&&Or.SUPPORT_CORS_XHR&&!r,t||this._options.allowTaint!==!1||zr(e)||i||r?(o=e,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=n.sent(),n.label=2;case 2:return Ir.getInstance(this.id).debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,(jr(o)||r)&&(n.crossOrigin="anonymous"),n.src=o,n.complete===!0&&setTimeout(function(){return e(n)},500),A._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,n.sent()]}})})},e.prototype.has=function(e){return"undefined"!=typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(i,o){var A=Or.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;if(a.onload=function(){if(200===a.status)if("text"===A)i(a.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return o(e)},!1),e.readAsDataURL(a.response)}else o("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=o,a.open("GET",n+"?url="+encodeURIComponent(e)+"&responseType="+A),"text"!==A&&a instanceof XMLHttpRequest&&(a.responseType=A),t._options.imageTimeout){var s=t._options.imageTimeout;a.timeout=s,a.ontimeout=function(){return o("Timed out ("+s+"ms) proxying "+r)}}a.send()})},e}(),Mr=/^data:image\/svg\+xml/i,Kr=/^data:image\/.*;base64,/i,Rr=/^data:image\/.*/i,Pr=function(e){return Or.SUPPORT_SVG_DRAWING||!Gr(e)},zr=function(e){return Rr.test(e)},jr=function(e){return Kr.test(e)},Vr=function(e){return"blob"===e.substr(0,4)},Gr=function(e){return"svg"===e.substr(-3).toLowerCase()||Mr.test(e)},Xr=function(e){var t=ir(180),n=[],r=hr.LINEAR_GRADIENT,i=ii.CIRCLE,o=ai.FARTHEST_CORNER,A=[];return Rn(e).forEach(function(e,t){var i=e[0];if(0===t){if(In(i)&&"linear"===i.value)return void(r=hr.LINEAR_GRADIENT);if(In(i)&&"radial"===i.value)return void(r=hr.RADIAL_GRADIENT)}if(i.type===p.FUNCTION)if("from"===i.name){var o=or.parse(i.values[0]);n.push({stop:Gn,color:o})}else if("to"===i.name){var o=or.parse(i.values[0]);n.push({stop:Jn,color:o})}else if("color-stop"===i.name){var A=i.values.filter(Kn);if(2===A.length){var o=or.parse(A[1]),a=A[0];On(a)&&n.push({stop:{type:p.PERCENTAGE_TOKEN,number:100*a.number,flags:a.flags},color:o})}}}),r===hr.LINEAR_GRADIENT?{angle:(t+ir(180))%ir(360),stops:n,type:r}:{size:o,shape:i,stops:n,position:A,type:r}},Jr="closest-side",Wr="farthest-side",Yr="closest-corner",qr="farthest-corner",Zr="circle",$r="ellipse",ei="cover",ti="contain",ni=function(e){var t=ii.CIRCLE,n=ai.FARTHEST_CORNER,r=[],i=[];return Rn(e).forEach(function(e,o){var A=!0;if(0===o){var a=!1;A=e.reduce(function(e,r){if(a)if(In(r))switch(r.value){case"center":return i.push(Xn),e;case"top":case"left":return i.push(Gn),e;case"right":case"bottom":return i.push(Jn),e}else(jn(r)||zn(r))&&i.push(r);else if(In(r))switch(r.value){case Zr:return t=ii.CIRCLE,!1;case $r:return t=ii.ELLIPSE,!1;case"at":return a=!0,!1;case Jr:return n=ai.CLOSEST_SIDE,!1;case ei:case Wr:return n=ai.FARTHEST_SIDE,!1;case ti:case Yr:return n=ai.CLOSEST_CORNER,!1;case qr:return n=ai.FARTHEST_CORNER,!1}else if(zn(r)||jn(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return e},A)}if(A){var s=vr(e);r.push(s)}}),{size:n,shape:t,stops:r,position:i,type:hr.RADIAL_GRADIENT}},ri=function(e){var t=ii.CIRCLE,n=ai.FARTHEST_CORNER,r=[],i=[];return Rn(e).forEach(function(e,o){var A=!0;if(0===o?A=e.reduce(function(e,t){if(In(t))switch(t.value){case"center":return i.push(Xn),!1;case"top":case"left":return i.push(Gn),!1;case"right":case"bottom":return i.push(Jn),!1}else if(jn(t)||zn(t))return i.push(t),!1;return e},A):1===o&&(A=e.reduce(function(e,r){if(In(r))switch(r.value){case Zr:return t=ii.CIRCLE,!1;case $r:return t=ii.ELLIPSE,!1;case ti:case Jr:return n=ai.CLOSEST_SIDE,!1;case Wr:return n=ai.FARTHEST_SIDE,!1;case Yr:return n=ai.CLOSEST_CORNER,!1;case ei:case qr:return n=ai.FARTHEST_CORNER,!1}else if(zn(r)||jn(r))return Array.isArray(n)||(n=[]),n.push(r),!1;return e},A)),A){var a=vr(e);r.push(a)}}),{size:n,shape:t,stops:r,position:i,type:hr.RADIAL_GRADIENT}};!function(e){e[e.URL=0]="URL",e[e.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",e[e.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(hr||(hr={}));var ii,oi=function(e){return e.type===hr.LINEAR_GRADIENT},Ai=function(e){return e.type===hr.RADIAL_GRADIENT};!function(e){e[e.CIRCLE=0]="CIRCLE",e[e.ELLIPSE=1]="ELLIPSE"}(ii||(ii={}));var ai;!function(e){e[e.CLOSEST_SIDE=0]="CLOSEST_SIDE",e[e.FARTHEST_SIDE=1]="FARTHEST_SIDE",e[e.CLOSEST_CORNER=2]="CLOSEST_CORNER",e[e.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(ai||(ai={}));var si,li={name:"image",parse:function(e){if(e.type===p.URL_TOKEN){var t={url:e.value,type:hr.URL};return Lr.getInstance().addImage(e.value),t}if(e.type===p.FUNCTION){var n=ci[e.name];if("undefined"==typeof n)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(e.values)}throw new Error("Unsupported image type")}},ci={"linear-gradient":Qr,"-moz-linear-gradient":Ur,"-ms-linear-gradient":Ur,"-o-linear-gradient":Ur,"-webkit-linear-gradient":Ur,"radial-gradient":ni,"-moz-radial-gradient":ri,"-ms-radial-gradient":ri,"-o-radial-gradient":ri,"-webkit-radial-gradient":ri,"-webkit-gradient":Xr},ui={name:"background-image",initialValue:"none",type:Ve.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===p.IDENT_TOKEN&&"none"===t.value?[]:e.filter(Kn).map(li.parse)}},di={name:"background-origin",initialValue:"border-box",prefix:!1,type:Ve.LIST,parse:function(e){return e.map(function(e){if(In(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fi={name:"background-position",initialValue:"0% 0%",type:Ve.LIST,prefix:!1,parse:function(e){return Rn(e).map(function(e){return e.filter(jn)}).map(Vn)}};!function(e){e[e.REPEAT=0]="REPEAT",e[e.NO_REPEAT=1]="NO_REPEAT",e[e.REPEAT_X=2]="REPEAT_X",e[e.REPEAT_Y=3]="REPEAT_Y"}(si||(si={}));var pi,hi={name:"background-repeat",initialValue:"repeat",prefix:!1,type:Ve.LIST,parse:function(e){return Rn(e).map(function(e){return e.filter(In).map(function(e){return e.value}).join(" ")}).map(gi)}},gi=function(e){switch(e){case"no-repeat":return si.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return si.REPEAT_X;case"repeat-y":case"no-repeat repeat":return si.REPEAT_Y;case"repeat":default:return si.REPEAT}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(pi||(pi={}));var mi,vi={name:"background-size",initialValue:"0",prefix:!1,type:Ve.LIST,parse:function(e){return Rn(e).map(function(e){return e.filter(Bi)})}},Bi=function(e){return In(e)||jn(e)},wi=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:Ve.TYPE_VALUE,format:"color"}},yi=wi("top"),bi=wi("right"),Ei=wi("bottom"),Ci=wi("left"),Qi=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:Ve.LIST,parse:function(e){return Vn(e.filter(jn))}}},Ui=Qi("top-left"),Fi=Qi("top-right"),_i=Qi("bottom-right"),Hi=Qi("bottom-left");!function(e){e[e.NONE=0]="NONE",e[e.SOLID=1]="SOLID"}(mi||(mi={}));var xi,Ti=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"none":return mi.NONE}return mi.SOLID}}},Si=Ti("top"),Ni=Ti("right"),ki=Ti("bottom"),Oi=Ti("left"),Ii=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:Ve.VALUE,prefix:!1,parse:function(e){return kn(e)?e.number:0}}},Li=Ii("top"),Di=Ii("right"),Mi=Ii("bottom"),Ki=Ii("left"),Ri={name:"color",initialValue:"transparent",prefix:!1,type:Ve.TYPE_VALUE,format:"color"},Pi={name:"display",initialValue:"inline-block",prefix:!1,type:Ve.LIST,parse:function(e){return e.filter(In).reduce(function(e,t){return e|zi(t.value)},0)}},zi=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.INLINE_START=3]="INLINE_START",e[e.INLINE_END=4]="INLINE_END"}(xi||(xi={}));var ji,Vi={name:"float",initialValue:"none",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"left":return xi.LEFT;case"right":return xi.RIGHT;case"inline-start":return xi.INLINE_START;case"inline-end":return xi.INLINE_END}return xi.NONE}},Gi={name:"letter-spacing",initialValue:"0",prefix:!1,type:Ve.VALUE,parse:function(e){return e.type===p.IDENT_TOKEN&&"normal"===e.value?0:e.type===p.NUMBER_TOKEN?e.number:e.type===p.DIMENSION_TOKEN?e.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(ji||(ji={}));var Xi,Ji={name:"line-break",initialValue:"normal",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"strict":return ji.STRICT;case"normal":default:return ji.NORMAL}}},Wi={name:"line-height",initialValue:"normal",prefix:!1,type:Ve.TOKEN_VALUE},Yi=function(e,t){return In(e)&&"normal"===e.value?1.2*t:e.type===p.NUMBER_TOKEN?t*e.number:jn(e)?Yn(e,t):t},qi={name:"list-style-image",initialValue:"none",type:Ve.VALUE,prefix:!1,parse:function(e){return e.type===p.IDENT_TOKEN&&"none"===e.value?null:li.parse(e)}};!function(e){e[e.INSIDE=0]="INSIDE",e[e.OUTSIDE=1]="OUTSIDE"}(Xi||(Xi={}));var Zi,$i={name:"list-style-position",initialValue:"outside",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"inside":return Xi.INSIDE;case"outside":default:return Xi.OUTSIDE}}};!function(e){e[e.NONE=-1]="NONE",e[e.DISC=0]="DISC",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE",e[e.DECIMAL=3]="DECIMAL",e[e.CJK_DECIMAL=4]="CJK_DECIMAL",e[e.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",e[e.LOWER_ROMAN=6]="LOWER_ROMAN",e[e.UPPER_ROMAN=7]="UPPER_ROMAN",e[e.LOWER_GREEK=8]="LOWER_GREEK",e[e.LOWER_ALPHA=9]="LOWER_ALPHA",e[e.UPPER_ALPHA=10]="UPPER_ALPHA",e[e.ARABIC_INDIC=11]="ARABIC_INDIC",e[e.ARMENIAN=12]="ARMENIAN",e[e.BENGALI=13]="BENGALI",e[e.CAMBODIAN=14]="CAMBODIAN",e[e.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",e[e.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",e[e.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",e[e.DEVANAGARI=18]="DEVANAGARI",e[e.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",e[e.GEORGIAN=20]="GEORGIAN",e[e.GUJARATI=21]="GUJARATI",e[e.GURMUKHI=22]="GURMUKHI",e[e.HEBREW=22]="HEBREW",e[e.HIRAGANA=23]="HIRAGANA",e[e.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",e[e.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",e[e.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",e[e.KANNADA=27]="KANNADA",e[e.KATAKANA=28]="KATAKANA",e[e.KATAKANA_IROHA=29]="KATAKANA_IROHA",e[e.KHMER=30]="KHMER",e[e.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",e[e.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",e[e.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",e[e.LAO=34]="LAO",e[e.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",e[e.MALAYALAM=36]="MALAYALAM",e[e.MONGOLIAN=37]="MONGOLIAN",e[e.MYANMAR=38]="MYANMAR",e[e.ORIYA=39]="ORIYA",e[e.PERSIAN=40]="PERSIAN",e[e.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",e[e.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",e[e.TAMIL=43]="TAMIL",e[e.TELUGU=44]="TELUGU",e[e.THAI=45]="THAI",e[e.TIBETAN=46]="TIBETAN",e[e.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",e[e.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",e[e.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",e[e.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",e[e.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Zi||(Zi={}));var eo,to={name:"list-style-type",initialValue:"none",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"disc":return Zi.DISC;case"circle":return Zi.CIRCLE;case"square":return Zi.SQUARE;case"decimal":return Zi.DECIMAL;case"cjk-decimal":return Zi.CJK_DECIMAL;case"decimal-leading-zero":return Zi.DECIMAL_LEADING_ZERO;case"lower-roman":return Zi.LOWER_ROMAN;case"upper-roman":return Zi.UPPER_ROMAN;case"lower-greek":return Zi.LOWER_GREEK;case"lower-alpha":return Zi.LOWER_ALPHA;case"upper-alpha":return Zi.UPPER_ALPHA;case"arabic-indic":return Zi.ARABIC_INDIC;case"armenian":return Zi.ARMENIAN;case"bengali":return Zi.BENGALI;case"cambodian":return Zi.CAMBODIAN;case"cjk-earthly-branch":return Zi.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Zi.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Zi.CJK_IDEOGRAPHIC;case"devanagari":return Zi.DEVANAGARI;case"ethiopic-numeric":return Zi.ETHIOPIC_NUMERIC;case"georgian":return Zi.GEORGIAN;case"gujarati":return Zi.GUJARATI;case"gurmukhi":return Zi.GURMUKHI;case"hebrew":return Zi.HEBREW;case"hiragana":return Zi.HIRAGANA;case"hiragana-iroha":return Zi.HIRAGANA_IROHA;case"japanese-formal":return Zi.JAPANESE_FORMAL;case"japanese-informal":return Zi.JAPANESE_INFORMAL;case"kannada":return Zi.KANNADA;case"katakana":return Zi.KATAKANA;case"katakana-iroha":return Zi.KATAKANA_IROHA;case"khmer":return Zi.KHMER;case"korean-hangul-formal":return Zi.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Zi.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Zi.KOREAN_HANJA_INFORMAL;case"lao":return Zi.LAO;case"lower-armenian":return Zi.LOWER_ARMENIAN;case"malayalam":return Zi.MALAYALAM;case"mongolian":return Zi.MONGOLIAN;case"myanmar":return Zi.MYANMAR;case"oriya":return Zi.ORIYA;case"persian":return Zi.PERSIAN;case"simp-chinese-formal":return Zi.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Zi.SIMP_CHINESE_INFORMAL;case"tamil":return Zi.TAMIL;case"telugu":return Zi.TELUGU;case"thai":return Zi.THAI;case"tibetan":return Zi.TIBETAN;case"trad-chinese-formal":return Zi.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Zi.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Zi.UPPER_ARMENIAN;case"disclosure-open":return Zi.DISCLOSURE_OPEN;case"disclosure-closed":return Zi.DISCLOSURE_CLOSED;case"none":default:return Zi.NONE}}},no=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:Ve.TOKEN_VALUE}},ro=no("top"),io=no("right"),oo=no("bottom"),Ao=no("left");!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.SCROLL=2]="SCROLL",e[e.AUTO=3]="AUTO"}(eo||(eo={}));var ao,so={name:"overflow",initialValue:"visible",prefix:!1,type:Ve.LIST,parse:function(e){return e.filter(In).map(function(e){switch(e.value){case"hidden":return eo.HIDDEN;case"scroll":return eo.SCROLL;case"auto":return eo.AUTO;case"visible":default:return eo.VISIBLE}})}};!function(e){e.NORMAL="normal",e.BREAK_WORD="break-word"}(ao||(ao={}));var lo,co={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return ao.BREAK_WORD;case"normal":default:return ao.NORMAL}}},uo=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:Ve.TYPE_VALUE,format:"length-percentage"}},fo=uo("top"),po=uo("right"),ho=uo("bottom"),go=uo("left");!function(e){e[e.LEFT=0]="LEFT",e[e.CENTER=1]="CENTER",e[e.RIGHT=2]="RIGHT"}(lo||(lo={}));var mo,vo={name:"text-align",initialValue:"left",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"right":return lo.RIGHT;case"center":case"justify":return lo.CENTER;case"left":default:return lo.LEFT}}};!function(e){e[e.STATIC=0]="STATIC",e[e.RELATIVE=1]="RELATIVE",e[e.ABSOLUTE=2]="ABSOLUTE",e[e.FIXED=3]="FIXED",e[e.STICKY=4]="STICKY"}(mo||(mo={}));var Bo,wo={name:"position",initialValue:"static",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"relative":return mo.RELATIVE;case"absolute":return mo.ABSOLUTE;case"fixed":return mo.FIXED;case"sticky":return mo.STICKY}return mo.STATIC}},yo={name:"text-shadow",initialValue:"none",type:Ve.LIST,prefix:!1,parse:function(e){return 1===e.length&&Dn(e[0],"none")?[]:Rn(e).map(function(e){for(var t={color:fr.TRANSPARENT,offsetX:Gn,offsetY:Gn,blur:Gn},n=0,r=0;r<e.length;r++){var i=e[r];zn(i)?(0===n?t.offsetX=i:1===n?t.offsetY=i:t.blur=i,n++):t.color=or.parse(i)}return t})}};!function(e){e[e.NONE=0]="NONE",e[e.LOWERCASE=1]="LOWERCASE",e[e.UPPERCASE=2]="UPPERCASE",e[e.CAPITALIZE=3]="CAPITALIZE"}(Bo||(Bo={}));var bo,Eo={name:"text-transform",initialValue:"none",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return Bo.UPPERCASE;case"lowercase":return Bo.LOWERCASE;case"capitalize":return Bo.CAPITALIZE}return Bo.NONE}},Co={name:"transform",initialValue:"none",prefix:!0,type:Ve.VALUE,parse:function(e){if(e.type===p.IDENT_TOKEN&&"none"===e.value)return null;if(e.type===p.FUNCTION){var t=Fo[e.name];if("undefined"==typeof t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},Qo=function(e){var t=e.filter(function(e){return e.type===p.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},Uo=function(e){var t=e.filter(function(e){return e.type===p.NUMBER_TOKEN}).map(function(e){return e.number}),n=t[0],r=t[1],i=(t[2],t[3],t[4]),o=t[5],A=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),a=t[13];t[14],t[15];return 16===t.length?[n,r,i,o,A,a]:null},Fo={matrix:Qo,matrix3d:Uo},_o={type:p.PERCENTAGE_TOKEN,number:50,flags:Je},Ho=[_o,_o],xo={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:Ve.LIST,parse:function(e){var t=e.filter(jn);return 2!==t.length?Ho:[t[0],t[1]]}};!function(e){e[e.VISIBLE=0]="VISIBLE",e[e.HIDDEN=1]="HIDDEN",e[e.COLLAPSE=2]="COLLAPSE"}(bo||(bo={}));var To,So={name:"visible",initialValue:"none",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return bo.HIDDEN;case"collapse":return bo.COLLAPSE;case"visible":default:return bo.VISIBLE}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(To||(To={}));var No,ko={name:"word-break",initialValue:"normal",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return To.BREAK_ALL;case"keep-all":return To.KEEP_ALL;case"normal":default:return To.NORMAL}}},Oo={name:"z-index",initialValue:"auto",prefix:!1,type:Ve.VALUE,parse:function(e){if(e.type===p.IDENT_TOKEN)return{auto:!0,order:0};if(On(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Io={name:"opacity",initialValue:"1",type:Ve.VALUE,prefix:!1,parse:function(e){return On(e)?e.number:1}},Lo={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:Ve.TYPE_VALUE,format:"color"},Do={name:"text-decoration-line",initialValue:"none",prefix:!1,type:Ve.LIST,parse:function(e){return e.filter(In).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},Mo={name:"font-family",initialValue:"",prefix:!1,type:Ve.LIST,parse:function(e){return e.filter(Ko).map(function(e){return e.value})}},Ko=function(e){return e.type===p.STRING_TOKEN||e.type===p.IDENT_TOKEN},Ro={name:"font-size",initialValue:"0",prefix:!1,type:Ve.TYPE_VALUE,format:"length"},Po={name:"font-weight",initialValue:"normal",type:Ve.VALUE,prefix:!1,parse:function(e){if(On(e))return e.number;if(In(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},zo={name:"font-variant",initialValue:"none",type:Ve.LIST,prefix:!1,parse:function(e){return e.filter(In).map(function(e){return e.value})}};!function(e){e.NORMAL="normal",e.ITALIC="italic",e.OBLIQUE="oblique"}(No||(No={}));var jo,Vo={name:"font-style",initialValue:"normal",prefix:!1,type:Ve.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return No.OBLIQUE;case"italic":return No.ITALIC;case"normal":default:return No.NORMAL}}},Go=function(e,t){return 0!==(e&t)},Xo={name:"content",initialValue:"none",type:Ve.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===p.IDENT_TOKEN&&"none"===t.value?[]:e}},Jo={name:"counter-increment",initialValue:"none",prefix:!0,type:Ve.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===p.IDENT_TOKEN&&"none"===t.value)return null;for(var n=[],r=e.filter(Mn),i=0;i<r.length;i++){var o=r[i],A=r[i+1];if(o.type===p.IDENT_TOKEN){var a=A&&On(A)?A.number:1;n.push({counter:o.value,increment:a})}}return n}},Wo={name:"counter-reset",initialValue:"none",prefix:!0,type:Ve.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],n=e.filter(Mn),r=0;r<n.length;r++){var i=n[r],o=n[r+1];if(In(i)&&"none"!==i.value){var A=o&&On(o)?o.number:0;t.push({counter:i.value,reset:A})}}return t}},Yo={name:"quotes",initialValue:"none",prefix:!0,type:Ve.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===p.IDENT_TOKEN&&"none"===t.value)return null;var n=[],r=e.filter(Ln);if(r.length%2!==0)return null;for(var i=0;i<r.length;i+=2){var o=r[i].value,A=r[i+1].value;n.push({open:o,close:A})}return n}},qo=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},Zo={name:"box-shadow",initialValue:"none",type:Ve.LIST,prefix:!1,parse:function(e){return 1===e.length&&Dn(e[0],"none")?[]:Rn(e).map(function(e){for(var t={color:255,offsetX:Gn,offsetY:Gn,blur:Gn,spread:Gn,inset:!1},n=0,r=0;r<e.length;r++){var i=e[r];Dn(i,"inset")?t.inset=!0:zn(i)?(0===n?t.offsetX=i:1===n?t.offsetY=i:2===n?t.blur=i:t.spread=i,n++):t.color=or.parse(i)}return t})}},$o=function(){function e(e){this.backgroundClip=nA(gr,e.backgroundClip),this.backgroundColor=nA(mr,e.backgroundColor),this.backgroundImage=nA(ui,e.backgroundImage),this.backgroundOrigin=nA(di,e.backgroundOrigin),this.backgroundPosition=nA(fi,e.backgroundPosition),this.backgroundRepeat=nA(hi,e.backgroundRepeat),this.backgroundSize=nA(vi,e.backgroundSize),this.borderTopColor=nA(yi,e.borderTopColor),this.borderRightColor=nA(bi,e.borderRightColor),this.borderBottomColor=nA(Ei,e.borderBottomColor),this.borderLeftColor=nA(Ci,e.borderLeftColor),this.borderTopLeftRadius=nA(Ui,e.borderTopLeftRadius),this.borderTopRightRadius=nA(Fi,e.borderTopRightRadius),this.borderBottomRightRadius=nA(_i,e.borderBottomRightRadius),this.borderBottomLeftRadius=nA(Hi,e.borderBottomLeftRadius),this.borderTopStyle=nA(Si,e.borderTopStyle),this.borderRightStyle=nA(Ni,e.borderRightStyle),this.borderBottomStyle=nA(ki,e.borderBottomStyle),this.borderLeftStyle=nA(Oi,e.borderLeftStyle),this.borderTopWidth=nA(Li,e.borderTopWidth),this.borderRightWidth=nA(Di,e.borderRightWidth),this.borderBottomWidth=nA(Mi,e.borderBottomWidth),this.borderLeftWidth=nA(Ki,e.borderLeftWidth),this.boxShadow=nA(Zo,e.boxShadow),this.color=nA(Ri,e.color),this.display=nA(Pi,e.display),this.float=nA(Vi,e.cssFloat),this.fontFamily=nA(Mo,e.fontFamily),this.fontSize=nA(Ro,e.fontSize),this.fontStyle=nA(Vo,e.fontStyle),this.fontVariant=nA(zo,e.fontVariant),this.fontWeight=nA(Po,e.fontWeight),this.letterSpacing=nA(Gi,e.letterSpacing),this.lineBreak=nA(Ji,e.lineBreak),this.lineHeight=nA(Wi,e.lineHeight),this.listStyleImage=nA(qi,e.listStyleImage),this.listStylePosition=nA($i,e.listStylePosition),this.listStyleType=nA(to,e.listStyleType),this.marginTop=nA(ro,e.marginTop),this.marginRight=nA(io,e.marginRight),this.marginBottom=nA(oo,e.marginBottom),this.marginLeft=nA(Ao,e.marginLeft),this.opacity=nA(Io,e.opacity);var t=nA(so,e.overflow);this.overflowX=t[0],this.overflowY=t[t.length>1?1:0],this.overflowWrap=nA(co,e.overflowWrap),this.paddingTop=nA(fo,e.paddingTop),this.paddingRight=nA(po,e.paddingRight),this.paddingBottom=nA(ho,e.paddingBottom),this.paddingLeft=nA(go,e.paddingLeft),this.position=nA(wo,e.position),this.textAlign=nA(vo,e.textAlign),this.textDecorationColor=nA(Lo,e.textDecorationColor||e.color),this.textDecorationLine=nA(Do,e.textDecorationLine),this.textShadow=nA(yo,e.textShadow),this.textTransform=nA(Eo,e.textTransform),this.transform=nA(Co,e.transform),this.transformOrigin=nA(xo,e.transformOrigin),this.visibility=nA(So,e.visibility),this.wordBreak=nA(ko,e.wordBreak),this.zIndex=nA(Oo,e.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===bo.VISIBLE},e.prototype.isTransparent=function(){return Ar(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return this.position!==mo.STATIC},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==xi.NONE},e.prototype.isInlineLevel=function(){return Go(this.display,4)||Go(this.display,33554432)||Go(this.display,268435456)||Go(this.display,536870912)||Go(this.display,67108864)||Go(this.display,134217728)},e}(),eA=function(){function e(e){this.content=nA(Xo,e.content),this.quotes=nA(Yo,e.quotes)}return e}(),tA=function(){function e(e){this.counterIncrement=nA(Jo,e.counterIncrement),this.counterReset=nA(Wo,e.counterReset)}return e}(),nA=function(e,t){var n=new Sn,r=null!==t&&"undefined"!=typeof t?t.toString():e.initialValue;n.write(r);var i=new Nn(n.read());switch(e.type){case Ve.IDENT_VALUE:var o=i.parseComponentValue();return e.parse(In(o)?o.value:e.initialValue);case Ve.VALUE:return e.parse(i.parseComponentValue());case Ve.LIST:return e.parse(i.parseComponentValues());case Ve.TOKEN_VALUE:return i.parseComponentValue();case Ve.TYPE_VALUE:switch(e.format){case"angle":return tr.parse(i.parseComponentValue());case"color":return or.parse(i.parseComponentValue());case"image":return li.parse(i.parseComponentValue());case"length":var A=i.parseComponentValue();return zn(A)?A:Gn;case"length-percentage":var a=i.parseComponentValue();return jn(a)?a:Gn}}throw new Error("Attempting to parse unsupported css format type "+e.format)},rA=function(){function e(e){this.styles=new $o(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&KA(e)&&(e.style.transform="none"),this.bounds=a(e),this.flags=0}return e}(),iA=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),oA=function(e,t,n){var r=sA(e,t),i=[],o=0;return r.forEach(function(e){if(t.textDecorationLine.length||e.trim().length>0)if(Or.SUPPORT_RANGE_BOUNDS)i.push(new iA(e,aA(n,o,e.length)));else{var r=n.splitText(e.length);i.push(new iA(e,AA(n))),n=r}else Or.SUPPORT_RANGE_BOUNDS||(n=n.splitText(e.length));o+=e.length}),i},AA=function(e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var i=a(n);return n.firstChild&&r.replaceChild(n.firstChild,n),i}}return new A(0,0,0,0)},aA=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),A.fromClientRect(i.getBoundingClientRect())},sA=function(e,t){return 0!==t.letterSpacing?l(e).map(function(e){return c(e)}):lA(e,t)},lA=function(e,t){for(var n,r=je(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===ao.BREAK_WORD?"break-word":t.wordBreak}),i=[];!(n=r.next()).done;)n.value&&i.push(n.value.slice());return i},cA=function(){function e(e,t){this.text=uA(e.data,t.textTransform),this.textBounds=oA(this.text,t,e)}return e}(),uA=function(e,t){switch(t){case Bo.LOWERCASE:return e.toLowerCase();case Bo.CAPITALIZE:return e.replace(dA,fA);case Bo.UPPERCASE:return e.toUpperCase();default:return e}},dA=/(^|\s|:|-|\(|\))([a-z])/g,fA=function(e,t,n){return e.length>0?t+n.toUpperCase():e},pA=function(t){function n(e){var n=t.call(this,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,Lr.getInstance().addImage(n.src),n}return e(n,t),n}(rA),hA=function(t){function n(e){var n=t.call(this,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return e(n,t),n}(rA),gA=function(t){function n(e){var n=t.call(this,e)||this,r=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,Lr.getInstance().addImage(n.svg),n}return e(n,t),n}(rA),mA=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(rA),vA=function(t){function n(e){var n=t.call(this,e)||this;return n.start=e.start,n.reversed="boolean"==typeof e.reversed&&e.reversed===!0,n}return e(n,t),n}(rA),BA=[{type:p.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],wA=[{type:p.PERCENTAGE_TOKEN,flags:0,number:50}],yA=function(e){return e.width>e.height?new A(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new A(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},bA=function(e){var t=e.type===QA?new Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},EA="checkbox",CA="radio",QA="password",UA=707406591,FA=function(t){function n(e){var n=t.call(this,e)||this;switch(n.type=e.type.toLowerCase(),n.checked=e.checked,n.value=bA(e),n.type!==EA&&n.type!==CA||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=mi.SOLID,n.styles.backgroundClip=[pr.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=yA(n.bounds)),n.type){case EA:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=BA;break;case CA:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=wA}return n}return e(n,t),n}(rA),_A=function(t){function n(e){var n=t.call(this,e)||this,r=e.options[e.selectedIndex||0];return n.value=r?r.text||"":"",n}return e(n,t),n}(rA),HA=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(rA),xA=function(e){return or.parse(Nn.create(e).parseComponentValue())},TA=function(t){function n(e){var n=t.call(this,e)||this;n.src=e.src,n.width=parseInt(e.width,10),n.height=parseInt(e.height,10),n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=OA(e.contentWindow.document.documentElement);var r=e.contentWindow.document.documentElement?xA(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):fr.TRANSPARENT,i=e.contentWindow.document.body?xA(getComputedStyle(e.contentWindow.document.body).backgroundColor):fr.TRANSPARENT;
n.backgroundColor=Ar(r)?Ar(i)?n.styles.backgroundColor:i:r}}catch(e){}return n}return e(n,t),n}(rA),SA=["OL","UL","MENU"],NA=function(e,t,n){for(var r=e.firstChild,i=void 0;r;r=i)if(i=r.nextSibling,DA(r)&&r.data.trim().length>0)t.textNodes.push(new cA(r,t.styles));else if(MA(r)){var o=kA(r);o.styles.isVisible()&&(IA(r,o,n)?o.flags|=4:LA(o.styles)&&(o.flags|=2),SA.indexOf(r.tagName)!==-1&&(o.flags|=8),t.elements.push(o),ZA(r)||VA(r)||$A(r)||NA(r,o,n))}},kA=function(e){return JA(e)?new pA(e):XA(e)?new hA(e):VA(e)?new gA(e):RA(e)?new mA(e):PA(e)?new vA(e):zA(e)?new FA(e):$A(e)?new _A(e):ZA(e)?new HA(e):WA(e)?new TA(e):new rA(e)},OA=function(e){var t=kA(e);return t.flags|=4,NA(e,t,t),t},IA=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||GA(e)&&n.styles.isTransparent()},LA=function(e){return e.isPositioned()||e.isFloating()},DA=function(e){return e.nodeType===Node.TEXT_NODE},MA=function(e){return e.nodeType===Node.ELEMENT_NODE},KA=function(e){return"undefined"!=typeof e.style},RA=function(e){return"LI"===e.tagName},PA=function(e){return"OL"===e.tagName},zA=function(e){return"INPUT"===e.tagName},jA=function(e){return"HTML"===e.tagName},VA=function(e){return"svg"===e.tagName},GA=function(e){return"BODY"===e.tagName},XA=function(e){return"CANVAS"===e.tagName},JA=function(e){return"IMG"===e.tagName},WA=function(e){return"IFRAME"===e.tagName},YA=function(e){return"STYLE"===e.tagName},qA=function(e){return"SCRIPT"===e.tagName},ZA=function(e){return"TEXTAREA"===e.tagName},$A=function(e){return"SELECT"===e.tagName},ea=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t?t:[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&(n[Math.max(0,n.length-1)]+=e.increment)});var i=[];return r.forEach(function(e){var n=t.counters[e.counter];i.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),i},e}(),ta={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},na={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},ra={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},ia={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},oa=function(e,t,n,r,i,o){return e<t||e>n?va(e,i,o.length>0):r.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t},"")+o},Aa=function(e,t,n,r){var i="";do n||e--,i=r(e)+i,e/=t;while(e*t>=t);return i},aa=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(Aa(Math.abs(e),o,r,function(e){return c(Math.floor(e%o)+t)})+i)},sa=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Aa(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},la=1,ca=2,ua=4,da=8,fa=function(e,t,n,r,i,o){if(e<-9999||e>9999)return va(e,Zi.CJK_DECIMAL,i.length>0);var A=Math.abs(e),a=i;if(0===A)return t[0]+a;for(var s=0;A>0&&s<=4;s++){var l=A%10;0===l&&Go(o,la)&&""!==a?a=t[l]+a:l>1||1===l&&0===s||1===l&&1===s&&Go(o,ca)||1===l&&1===s&&Go(o,ua)&&e>100||1===l&&s>1&&Go(o,da)?a=t[l]+(s>0?n[s-1]:"")+a:1===l&&s>0&&(a=n[s-1]+a),A=Math.floor(A/10)}return(e<0?r:"")+a},pa="十百千萬",ha="拾佰仟萬",ga="マイナス",ma="마이너스",va=function(e,t,n){var r=n?". ":"",i=n?"、":"",o=n?", ":"",A=n?" ":"";switch(t){case Zi.DISC:return"•"+A;case Zi.CIRCLE:return"◦"+A;case Zi.SQUARE:return"◾"+A;case Zi.DECIMAL_LEADING_ZERO:var a=aa(e,48,57,!0,r);return a.length<4?"0"+a:a;case Zi.CJK_DECIMAL:return sa(e,"〇一二三四五六七八九",i);case Zi.LOWER_ROMAN:return oa(e,1,3999,ta,Zi.DECIMAL,r).toLowerCase();case Zi.UPPER_ROMAN:return oa(e,1,3999,ta,Zi.DECIMAL,r);case Zi.LOWER_GREEK:return aa(e,945,969,!1,r);case Zi.LOWER_ALPHA:return aa(e,97,122,!1,r);case Zi.UPPER_ALPHA:return aa(e,65,90,!1,r);case Zi.ARABIC_INDIC:return aa(e,1632,1641,!0,r);case Zi.ARMENIAN:case Zi.UPPER_ARMENIAN:return oa(e,1,9999,na,Zi.DECIMAL,r);case Zi.LOWER_ARMENIAN:return oa(e,1,9999,na,Zi.DECIMAL,r).toLowerCase();case Zi.BENGALI:return aa(e,2534,2543,!0,r);case Zi.CAMBODIAN:case Zi.KHMER:return aa(e,6112,6121,!0,r);case Zi.CJK_EARTHLY_BRANCH:return sa(e,"子丑寅卯辰巳午未申酉戌亥",i);case Zi.CJK_HEAVENLY_STEM:return sa(e,"甲乙丙丁戊己庚辛壬癸",i);case Zi.CJK_IDEOGRAPHIC:case Zi.TRAD_CHINESE_INFORMAL:return fa(e,"零一二三四五六七八九",pa,"負",i,ca|ua|da);case Zi.TRAD_CHINESE_FORMAL:return fa(e,"零壹貳參肆伍陸柒捌玖",ha,"負",i,la|ca|ua|da);case Zi.SIMP_CHINESE_INFORMAL:return fa(e,"零一二三四五六七八九",pa,"负",i,ca|ua|da);case Zi.SIMP_CHINESE_FORMAL:return fa(e,"零壹贰叁肆伍陆柒捌玖",ha,"负",i,la|ca|ua|da);case Zi.JAPANESE_INFORMAL:return fa(e,"〇一二三四五六七八九","十百千万",ga,i,0);case Zi.JAPANESE_FORMAL:return fa(e,"零壱弐参四伍六七八九","拾百千万",ga,i,la|ca|ua);case Zi.KOREAN_HANGUL_FORMAL:return fa(e,"영일이삼사오육칠팔구","십백천만",ma,o,la|ca|ua);case Zi.KOREAN_HANJA_INFORMAL:return fa(e,"零一二三四五六七八九","十百千萬",ma,o,0);case Zi.KOREAN_HANJA_FORMAL:return fa(e,"零壹貳參四五六七八九","拾百千",ma,o,la|ca|ua);case Zi.DEVANAGARI:return aa(e,2406,2415,!0,r);case Zi.GEORGIAN:return oa(e,1,19999,ia,Zi.DECIMAL,r);case Zi.GUJARATI:return aa(e,2790,2799,!0,r);case Zi.GURMUKHI:return aa(e,2662,2671,!0,r);case Zi.HEBREW:return oa(e,1,10999,ra,Zi.DECIMAL,r);case Zi.HIRAGANA:return sa(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Zi.HIRAGANA_IROHA:return sa(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Zi.KANNADA:return aa(e,3302,3311,!0,r);case Zi.KATAKANA:return sa(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case Zi.KATAKANA_IROHA:return sa(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case Zi.LAO:return aa(e,3792,3801,!0,r);case Zi.MONGOLIAN:return aa(e,6160,6169,!0,r);case Zi.MYANMAR:return aa(e,4160,4169,!0,r);case Zi.ORIYA:return aa(e,2918,2927,!0,r);case Zi.PERSIAN:return aa(e,1776,1785,!0,r);case Zi.TAMIL:return aa(e,3046,3055,!0,r);case Zi.TELUGU:return aa(e,3174,3183,!0,r);case Zi.THAI:return aa(e,3664,3673,!0,r);case Zi.TIBETAN:return aa(e,3872,3881,!0,r);case Zi.DECIMAL:default:return aa(e,48,57,!0,r)}},Ba="data-html2canvas-ignore",wa=function(){function e(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new ea,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}return e.prototype.toIFrame=function(e,t){var n=this,r=ba(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,A=r.contentWindow,a=A.document,s=Ea(r).then(function(){n.scrolledElements.forEach(Fa),A&&(A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(a.documentElement.style.top=-t.top+"px",a.documentElement.style.left=-t.left+"px",a.documentElement.style.position="absolute"));var e=n.options.onclone;return"undefined"==typeof n.clonedReferenceElement?Promise.reject("Error finding the "+n.referenceElement.nodeName+" in the cloned document"):"function"==typeof e?Promise.resolve().then(function(){return e(a)}).then(function(){return r}):r});return a.open(),a.write(Qa(document.doctype)+"<html></html>"),Ua(this.referenceElement.ownerDocument,i,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),s},e.prototype.createElementClone=function(e){return XA(e)?this.createCanvasClone(e):YA(e)?this.createStyleClone(e):e.cloneNode(!1)},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(e){if(Ir.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Ir.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),i=n.getContext("2d");return i&&(r?i.putImageData(r.getImageData(0,0,e.width,e.height),0,0):i.drawImage(e,0,0)),n}catch(e){}return n},e.prototype.cloneNode=function(e){if(DA(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(KA(e)&&t){var n=this.createElementClone(e),r=t.getComputedStyle(e),i=t.getComputedStyle(e,":before"),o=t.getComputedStyle(e,":after");this.referenceElement===e&&(this.clonedReferenceElement=n),GA(n)&&Na(n);for(var A=this.counters.parse(new tA(r)),a=this.resolvePseudoContent(e,n,i,jo.BEFORE),s=e.firstChild;s;s=s.nextSibling)MA(s)&&(qA(s)||s.hasAttribute(Ba)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(s))||this.options.copyStyles&&MA(s)&&YA(s)||n.appendChild(this.cloneNode(s));a&&n.insertBefore(a,n.firstChild);var l=this.resolvePseudoContent(e,n,o,jo.AFTER);return l&&n.appendChild(l),this.counters.pop(A),r&&this.options.copyStyles&&!WA(e)&&Ca(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(ZA(e)||$A(e))&&(ZA(n)||$A(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,A=t.ownerDocument;if(A&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new tA(n));var a=new eA(n),s=A.createElement("html2canvaspseudoelement");return Ca(n,s),a.content.forEach(function(t){if(t.type===p.STRING_TOKEN)s.appendChild(A.createTextNode(t.value));else if(t.type===p.URL_TOKEN){var n=A.createElement("img");n.src=t.value,n.style.opacity="1",s.appendChild(n)}else if(t.type===p.FUNCTION){if("attr"===t.name){var r=t.values.filter(In);r.length&&s.appendChild(A.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Kn),l=o[0],c=o[1];if(l&&In(l)){var u=i.counters.getCounterValue(l.value),d=c&&In(c)?to.parse(c.value):Zi.DECIMAL;s.appendChild(A.createTextNode(va(u,d,!1)))}}else if("counters"===t.name){var f=t.values.filter(Kn),l=f[0],h=f[1],c=f[2];if(l&&In(l)){var g=i.counters.getCounterValues(l.value),m=c&&In(c)?to.parse(c.value):Zi.DECIMAL,v=h&&h.type===p.STRING_TOKEN?h.value:"",B=g.map(function(e){return va(e,m,!1)}).join(v);s.appendChild(A.createTextNode(B))}}}else if(t.type===p.IDENT_TOKEN)switch(t.value){case"open-quote":s.appendChild(A.createTextNode(qo(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":s.appendChild(A.createTextNode(qo(a.quotes,--i.quoteDepth,!1)))}}),s.className=xa+" "+Ta,t.className+=r===jo.BEFORE?" "+xa:" "+Ta,s}}},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(jo||(jo={}));var ya,ba=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ba,"true"),e.body.appendChild(n),n},Ea=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=i.onreadystatechange=function(){r.onload=e.onload=i.onreadystatechange=null;var n=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))},50)}})},Ca=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);"content"!==r&&t.style.setProperty(r,e.getPropertyValue(r))}return t},Qa=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},Ua=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Fa=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},_a=":before",Ha=":after",xa="___html2canvas___pseudoelement_before",Ta="___html2canvas___pseudoelement_after",Sa='{\n    content: "" !important;\n    display: none !important;\n}',Na=function(e){ka(e,"."+xa+_a+Sa+"\n         ."+Ta+Ha+Sa)},ka=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}};!function(e){e[e.VECTOR=0]="VECTOR",e[e.BEZIER_CURVE=1]="BEZIER_CURVE"}(ya||(ya={}));var Oa,Ia=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},La=function(e,t,n,r,i){return e.map(function(e,o){switch(o){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e})},Da=function(){function e(e,t){this.type=ya.VECTOR,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Ma=function(e,t,n){return new Da(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Ka=function(){function e(e,t,n,r){this.type=ya.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Ma(this.start,this.startControl,t),i=Ma(this.startControl,this.endControl,t),o=Ma(this.endControl,this.end,t),A=Ma(r,i,t),a=Ma(i,o,t),s=Ma(A,a,t);return n?new e(this.start,r,A,s):new e(s,a,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ra=function(e){return e.type===ya.BEZIER_CURVE},Pa=function(){function e(e){var t=e.styles,n=e.bounds,r=Wn(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],A=Wn(t.borderTopRightRadius,n.width,n.height),a=A[0],s=A[1],l=Wn(t.borderBottomRightRadius,n.width,n.height),c=l[0],u=l[1],d=Wn(t.borderBottomLeftRadius,n.width,n.height),f=d[0],p=d[1],h=[];h.push((i+a)/n.width),h.push((f+c)/n.width),h.push((o+p)/n.height),h.push((s+u)/n.height);var g=Math.max.apply(Math,h);g>1&&(i/=g,o/=g,a/=g,s/=g,c/=g,u/=g,f/=g,p/=g);var m=n.width-a,v=n.height-u,B=n.width-c,w=n.height-p,y=t.borderTopWidth,b=t.borderRightWidth,E=t.borderBottomWidth,C=t.borderLeftWidth,Q=Yn(t.paddingTop,e.bounds.width),U=Yn(t.paddingRight,e.bounds.width),F=Yn(t.paddingBottom,e.bounds.width),_=Yn(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=i>0||o>0?za(n.left,n.top,i,o,Oa.TOP_LEFT):new Da(n.left,n.top),this.topRightBorderBox=a>0||s>0?za(n.left+m,n.top,a,s,Oa.TOP_RIGHT):new Da(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?za(n.left+B,n.top+v,c,u,Oa.BOTTOM_RIGHT):new Da(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=f>0||p>0?za(n.left,n.top+w,f,p,Oa.BOTTOM_LEFT):new Da(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?za(n.left+C,n.top+y,Math.max(0,i-C),Math.max(0,o-y),Oa.TOP_LEFT):new Da(n.left+C,n.top+y),this.topRightPaddingBox=a>0||s>0?za(n.left+Math.min(m,n.width+C),n.top+y,m>n.width+C?0:a-C,s-y,Oa.TOP_RIGHT):new Da(n.left+n.width-b,n.top+y),this.bottomRightPaddingBox=c>0||u>0?za(n.left+Math.min(B,n.width-C),n.top+Math.min(v,n.height+y),Math.max(0,c-b),u-E,Oa.BOTTOM_RIGHT):new Da(n.left+n.width-b,n.top+n.height-E),this.bottomLeftPaddingBox=f>0||p>0?za(n.left+C,n.top+w,Math.max(0,f-C),p-E,Oa.BOTTOM_LEFT):new Da(n.left+C,n.top+n.height-E),this.topLeftContentBox=i>0||o>0?za(n.left+C+_,n.top+y+Q,Math.max(0,i-(C+_)),Math.max(0,o-(y+Q)),Oa.TOP_LEFT):new Da(n.left+C+_,n.top+y+Q),this.topRightContentBox=a>0||s>0?za(n.left+Math.min(m,n.width+C+_),n.top+y+Q,m>n.width+C+_?0:a-C+_,s-(y+Q),Oa.TOP_RIGHT):new Da(n.left+n.width-(b+U),n.top+y+Q),this.bottomRightContentBox=c>0||u>0?za(n.left+Math.min(B,n.width-(C+_)),n.top+Math.min(v,n.height+y+Q),Math.max(0,c-(b+U)),u-(E+F),Oa.BOTTOM_RIGHT):new Da(n.left+n.width-(b+U),n.top+n.height-(E+F)),this.bottomLeftContentBox=f>0||p>0?za(n.left+C+_,n.top+w,Math.max(0,f-(C+_)),p-(E+F),Oa.BOTTOM_LEFT):new Da(n.left+C+_,n.top+n.height-(E+F))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Oa||(Oa={}));var za=function(e,t,n,r,i){var o=4*((Math.sqrt(2)-1)/3),A=n*o,a=r*o,s=e+n,l=t+r;switch(i){case Oa.TOP_LEFT:return new Ka(new Da(e,l),new Da(e,l-a),new Da(s-A,t),new Da(s,t));case Oa.TOP_RIGHT:return new Ka(new Da(e,t),new Da(e+A,t),new Da(s,l-a),new Da(s,l));case Oa.BOTTOM_RIGHT:return new Ka(new Da(s,t),new Da(s,t+a),new Da(e+A,l),new Da(e,l));case Oa.BOTTOM_LEFT:default:return new Ka(new Da(s,l),new Da(s-A,l),new Da(e,t+a),new Da(e,t))}},ja=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Va=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Ga=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Xa=function(){function e(e,t,n){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=n,this.target=6}return e}(),Ja=function(){function e(e,t){this.type=1,this.target=t,this.path=e}return e}(),Wa=function(e){return 0===e.type},Ya=function(e){return 1===e.type},qa=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Za=function(){function e(e,t){if(this.container=e,this.effects=t.slice(0),this.curves=new Pa(e),null!==e.styles.transform){var n=e.bounds.left+e.styles.transformOrigin[0].number,r=e.bounds.top+e.styles.transformOrigin[1].number,i=e.styles.transform;this.effects.push(new Xa(n,r,i))}if(e.styles.overflowX!==eo.VISIBLE){var o=ja(this.curves),A=Ga(this.curves);Ia(o,A)?this.effects.push(new Ja(o,6)):(this.effects.push(new Ja(o,2)),this.effects.push(new Ja(A,4)))}}return e.prototype.getParentEffects=function(){var e=this.effects.slice(0);if(this.container.styles.overflowX!==eo.VISIBLE){var t=ja(this.curves),n=Ga(this.curves);Ia(t,n)||e.push(new Ja(n,6))}return e},e}(),$a=function(e,t,n,r){e.container.elements.forEach(function(i){var o=Go(i.flags,4),A=Go(i.flags,2),a=new Za(i,e.getParentEffects());Go(i.styles.display,2048)&&r.push(a);var s=Go(i.flags,8)?[]:r;if(o||A){var l=o||i.styles.isPositioned()?n:t,c=new qa(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;l.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order&&(d=t,!0)}),l.negativeZIndex.splice(d,0,c)}else if(u>0){var f=0;l.positiveZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order&&(f=t+1,!0)}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);$a(a,c,o?c:n,s)}else i.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),$a(a,t,n,s);Go(i.flags,8)&&es(i,s)})},es=function(e,t){for(var n=e instanceof vA?e.start:1,r=e instanceof vA&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof mA&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=va(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},ts=function(e){var t=new Za(e,[]),n=new qa(t),r=[];return $a(t,n,n,r),es(t.container,r),n},ns=function(e,t){switch(t){case 0:return rs(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return rs(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return rs(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return rs(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},rs=function(e,t,n,r){var i=[];return Ra(e)?i.push(e.subdivide(.5,!1)):i.push(e),Ra(n)?i.push(n.subdivide(.5,!0)):i.push(n),Ra(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Ra(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},is=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},os=function(e){var t=e.styles,n=e.bounds,r=Yn(t.paddingLeft,n.width),i=Yn(t.paddingRight,n.width),o=Yn(t.paddingTop,n.width),A=Yn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+A))},As=function(e,t){return 0===e?t.bounds:2===e?os(t):is(t)},as=function(e,t){return e===pr.BORDER_BOX?t.bounds:e===pr.CONTENT_BOX?os(t):is(t)},ss=function(e,t,n){var r=As(ds(e.styles.backgroundOrigin,t),e),i=as(ds(e.styles.backgroundClip,t),e),o=us(ds(e.styles.backgroundSize,t),n,r),A=o[0],a=o[1],s=Wn(ds(e.styles.backgroundPosition,t),r.width-A,r.height-a),l=fs(ds(e.styles.backgroundRepeat,t),s,o,r,i),c=Math.round(r.left+s[0]),u=Math.round(r.top+s[1]);return[l,c,u,A,a]},ls=function(e){return In(e)&&e.value===pi.AUTO},cs=function(e){return"number"==typeof e},us=function(e,t,n){var r=t[0],i=t[1],o=t[2],A=e[0],a=e[1];if(jn(A)&&a&&jn(a))return[Yn(A,n.width),Yn(a,n.height)];var s=cs(o);if(In(A)&&(A.value===pi.CONTAIN||A.value===pi.COVER)){if(cs(o)){var l=n.width/n.height;return l<o!=(A.value===pi.COVER)?[n.width,n.width/o]:[n.height*o,n.height]}return[n.width,n.height]}var c=cs(r),u=cs(i),d=c||u;if(ls(A)&&(!a||ls(a))){if(c&&u)return[r,i];if(!s&&!d)return[n.width,n.height];if(d&&s){var f=c?r:i*o,p=u?i:r/o;return[f,p]}var h=c?r:n.width,g=u?i:n.height;return[h,g]}if(s){var m=0,v=0;return jn(A)?m=Yn(A,n.width):jn(a)&&(v=Yn(a,n.height)),ls(A)?m=v*o:a&&!ls(a)||(v=m/o),[m,v]}var B=null,w=null;if(jn(A)?B=Yn(A,n.width):a&&jn(a)&&(w=Yn(a,n.height)),null===B||a&&!ls(a)||(w=c&&u?B/r*i:n.height),null!==w&&ls(A)&&(B=c&&u?w/i*r:n.width),null!==B&&null!==w)return[B,w];throw new Error("Unable to calculate background-size for element")},ds=function(e,t){var n=e[t];return"undefined"==typeof n?e[0]:n},fs=function(e,t,n,r,i){var o=t[0],A=t[1],a=n[0],s=n[1];switch(e){case si.REPEAT_X:return[new Da(Math.round(r.left),Math.round(r.top+A)),new Da(Math.round(r.left+r.width),Math.round(r.top+A)),new Da(Math.round(r.left+r.width),Math.round(s+r.top+A)),new Da(Math.round(r.left),Math.round(s+r.top+A))];case si.REPEAT_Y:return[new Da(Math.round(r.left+o),Math.round(r.top)),new Da(Math.round(r.left+o+a),Math.round(r.top)),new Da(Math.round(r.left+o+a),Math.round(r.height+r.top)),new Da(Math.round(r.left+o),Math.round(r.height+r.top))];case si.NO_REPEAT:return[new Da(Math.round(r.left+o),Math.round(r.top+A)),new Da(Math.round(r.left+o+a),Math.round(r.top+A)),new Da(Math.round(r.left+o+a),Math.round(r.top+A+s)),new Da(Math.round(r.left+o),Math.round(r.top+A+s))];default:return[new Da(Math.round(i.left),Math.round(i.top)),new Da(Math.round(i.left+i.width),Math.round(i.top)),new Da(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Da(Math.round(i.left),Math.round(i.height+i.top))]}},ps="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",hs="Hidden Text",gs=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",o.appendChild(n),r.src=ps,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(hs)),n.appendChild(i),n.appendChild(r);var A=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(hs)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:A,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"==typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),ms=1e4,vs=function(){function e(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.fontMetrics=new gs(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Ir.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.applyEffects=function(e,t){for(var n=this;this._activeEffects.length;)this.popEffect();e.filter(function(e){return Go(e.target,t)}).forEach(function(e){return n.applyEffect(e)})},e.prototype.applyEffect=function(e){this.ctx.save(),Wa(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ya(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(e){return t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return t=e.element.container.styles,t.isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(e)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(e){return t(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(e,t){var n=this;if(0===t)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height);else{var r=l(e.text).map(function(e){return c(e)});r.reduce(function(t,r){return n.ctx.fillText(r,t,e.bounds.top+e.bounds.height),t+n.ctx.measureText(r).width},e.bounds.left)}},e.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=e.fontFamily.join(", "),r=kn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},e.prototype.renderTextNode=function(e,r){return t(this,void 0,void 0,function(){var t,i,o,A,a=this;return n(this,function(n){return t=this.createFontStyle(r),i=t[0],o=t[1],A=t[2],this.ctx.font=i,e.textBounds.forEach(function(e){a.ctx.fillStyle=ar(r.color),a.renderTextWithLetterSpacing(e,r.letterSpacing);var t=r.textShadow;t.length&&e.text.trim().length&&(t.slice(0).reverse().forEach(function(t){a.ctx.shadowColor=ar(t.color),a.ctx.shadowOffsetX=t.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=t.offsetY.number*a.options.scale,a.ctx.shadowBlur=t.blur.number,a.ctx.fillText(e.text,e.bounds.left,e.bounds.top+e.bounds.height)}),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),r.textDecorationLine.length&&(a.ctx.fillStyle=ar(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(t){switch(t){case 1:var n=a.fontMetrics.getMetrics(o,A).baseline;a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+n),e.bounds.width,1);break;case 2:a.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:var r=a.fontMetrics.getMetrics(o,A).middle;a.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+r),e.bounds.width,1)}}))}),[2]})})},e.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=os(e),i=Ga(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return t(this,void 0,void 0,function(){var t,i,o,a,s,l,c,u,c,d,f,p,h,g,m,v,B,c,w,y,g;return n(this,function(n){switch(n.label){case 0:this.applyEffects(r.effects,4),t=r.container,i=r.curves,o=t.styles,a=0,s=t.textNodes,n.label=1;case 1:return a<s.length?(l=s[a],[4,this.renderTextNode(l,o)]):[3,4];case 2:n.sent(),n.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof pA))return[3,8];n.label=5;case 5:return n.trys.push([5,7,,8]),[4,this.options.cache.match(t.src)];case 6:return c=n.sent(),this.renderReplacedElement(t,i,c),[3,8];case 7:return u=n.sent(),Ir.getInstance(this.options.id).error("Error loading image "+t.src),[3,8];case 8:if(t instanceof hA&&this.renderReplacedElement(t,i,t.canvas),!(t instanceof gA))return[3,12];n.label=9;case 9:return n.trys.push([9,11,,12]),[4,this.options.cache.match(t.svg)];case 10:return c=n.sent(),this.renderReplacedElement(t,i,c),[3,12];case 11:return d=n.sent(),Ir.getInstance(this.options.id).error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof TA&&t.tree?(f=new e({id:this.options.id,scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:t.width,height:t.height,cache:this.options.cache,windowWidth:t.width,windowHeight:t.height}),[4,f.render(t.tree)]):[3,14];case 13:p=n.sent(),this.ctx.drawImage(p,0,0,t.width,t.width,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),n.label=14;case 14:if(t instanceof FA&&(h=Math.min(t.bounds.width,t.bounds.height),t.type===EA?t.checked&&(this.ctx.save(),this.path([new Da(t.bounds.left+.39363*h,t.bounds.top+.79*h),new Da(t.bounds.left+.16*h,t.bounds.top+.5549*h),new Da(t.bounds.left+.27347*h,t.bounds.top+.44071*h),new Da(t.bounds.left+.39694*h,t.bounds.top+.5649*h),new Da(t.bounds.left+.72983*h,t.bounds.top+.23*h),new Da(t.bounds.left+.84*h,t.bounds.top+.34085*h),new Da(t.bounds.left+.39363*h,t.bounds.top+.79*h)]),this.ctx.fillStyle=ar(UA),this.ctx.fill(),this.ctx.restore()):t.type===CA&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+h/2,t.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=ar(UA),this.ctx.fill(),this.ctx.restore())),Bs(t)&&t.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=ar(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=ys(t.styles.textAlign),g=os(t),m=0,t.styles.textAlign){case lo.CENTER:m+=g.width/2;break;case lo.RIGHT:m+=g.width}v=g.add(m,0,0,-g.height/2+1),this.ctx.save(),this.path([new Da(g.left,g.top),new Da(g.left+g.width,g.top),new Da(g.left+g.width,g.top+g.height),new Da(g.left,g.top+g.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new iA(t.value,v),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!Go(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(B=t.styles.listStyleImage,B.type!==hr.URL)return[3,18];c=void 0,w=B.url,n.label=15;case 15:return n.trys.push([15,17,,18]),[4,this.options.cache.match(w)];case 16:return c=n.sent(),this.ctx.drawImage(c,t.bounds.left-(c.width+10),t.bounds.top),
[3,18];case 17:return y=n.sent(),Ir.getInstance(this.options.id).error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&t.styles.listStyleType!==Zi.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=ar(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",g=new A(t.bounds.left,t.bounds.top+Yn(t.styles.paddingTop,t.bounds.width),t.bounds.width,Yi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new iA(r.listValue,g),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),n.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(e){return t(this,void 0,void 0,function(){var t,r,i,o,A,i,a,s,i,l,c,i,u,d,i,f,p,i,h,g,i;return n(this,function(n){switch(n.label){case 0:return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:n.sent(),t=0,r=e.negativeZIndex,n.label=2;case 2:return t<r.length?(i=r[t],[4,this.renderStack(i)]):[3,5];case 3:n.sent(),n.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:n.sent(),o=0,A=e.nonInlineLevel,n.label=7;case 7:return o<A.length?(i=A[o],[4,this.renderNode(i)]):[3,10];case 8:n.sent(),n.label=9;case 9:return o++,[3,7];case 10:a=0,s=e.nonPositionedFloats,n.label=11;case 11:return a<s.length?(i=s[a],[4,this.renderStack(i)]):[3,14];case 12:n.sent(),n.label=13;case 13:return a++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,n.label=15;case 15:return l<c.length?(i=c[l],[4,this.renderStack(i)]):[3,18];case 16:n.sent(),n.label=17;case 17:return l++,[3,15];case 18:u=0,d=e.inlineLevel,n.label=19;case 19:return u<d.length?(i=d[u],[4,this.renderNode(i)]):[3,22];case 20:n.sent(),n.label=21;case 21:return u++,[3,19];case 22:f=0,p=e.zeroOrAutoZIndexOrTransformedOrOpacity,n.label=23;case 23:return f<p.length?(i=p[f],[4,this.renderStack(i)]):[3,26];case 24:n.sent(),n.label=25;case 25:return f++,[3,23];case 26:h=0,g=e.positiveZIndex,n.label=27;case 27:return h<g.length?(i=g[h],[4,this.renderStack(i)]):[3,30];case 28:n.sent(),n.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},e.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=Ra(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),Ra(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},e.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},e.prototype.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r=this.canvas.ownerDocument.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,t,n),r},e.prototype.renderBackgroundImage=function(e){return t(this,void 0,void 0,function(){var t,r,i,o,A,a;return n(this,function(s){switch(s.label){case 0:t=e.styles.backgroundImage.length-1,r=function(r){var o,A,a,s,l,c,u,d,f,p,h,l,c,u,d,f,g,m,v,B,w,y,b,E,C,p,Q,l,U,F,d,f,_,c,u,H,x,T,S,N,k,O,I;return n(this,function(n){switch(n.label){case 0:if(r.type!==hr.URL)return[3,5];o=void 0,A=r.url,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,i.options.cache.match(A)];case 2:return o=n.sent(),[3,4];case 3:return a=n.sent(),Ir.getInstance(i.options.id).error("Error loading background-image "+A),[3,4];case 4:return o&&(s=ss(e,t,[o.width,o.height,o.width/o.height]),l=s[0],c=s[1],u=s[2],d=s[3],f=s[4],p=i.ctx.createPattern(i.resizeImage(o,d,f),"repeat"),i.renderRepeat(l,p,c,u)),[3,6];case 5:oi(r)?(h=ss(e,t,[null,null,null]),l=h[0],c=h[1],u=h[2],d=h[3],f=h[4],g=yr(r.angle,d,f),m=g[0],v=g[1],B=g[2],w=g[3],y=g[4],b=document.createElement("canvas"),b.width=d,b.height=f,E=b.getContext("2d"),C=E.createLinearGradient(v,w,B,y),Br(r.stops,m).forEach(function(e){return C.addColorStop(e.stop,ar(e.color))}),E.fillStyle=C,E.fillRect(0,0,d,f),p=i.ctx.createPattern(b,"repeat"),i.renderRepeat(l,p,c,u)):Ai(r)&&(Q=ss(e,t,[null,null,null]),l=Q[0],U=Q[1],F=Q[2],d=Q[3],f=Q[4],_=0===r.position.length?[Xn]:r.position,c=Yn(_[0],d),u=Yn(_[_.length-1],f),H=Cr(r,c,u,d,f),x=H[0],T=H[1],x>0&&x>0&&(S=i.ctx.createRadialGradient(U+c,F+u,0,U+c,F+u,x),Br(r.stops,2*x).forEach(function(e){return S.addColorStop(e.stop,ar(e.color))}),i.path(l),i.ctx.fillStyle=S,x!==T?(N=e.bounds.left+.5*e.bounds.width,k=e.bounds.top+.5*e.bounds.height,O=T/x,I=1/O,i.ctx.save(),i.ctx.translate(N,k),i.ctx.transform(1,0,0,O,0,0),i.ctx.translate(-N,-k),i.ctx.fillRect(U,I*(F-k)+k,d,f*I),i.ctx.restore()):i.ctx.fill())),n.label=6;case 6:return t--,[2]}})},i=this,o=0,A=e.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return o<A.length?(a=A[o],[5,r(a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderBorder=function(e,r,i){return t(this,void 0,void 0,function(){return n(this,function(t){return this.path(ns(i,r)),this.ctx.fillStyle=ar(e),this.ctx.fill(),[2]})})},e.prototype.renderNodeBackgroundAndBorders=function(e){return t(this,void 0,void 0,function(){var t,r,i,o,A,a,s,l,c=this;return n(this,function(n){switch(n.label){case 0:return this.applyEffects(e.effects,2),t=e.container.styles,r=!Ar(t.backgroundColor)||t.backgroundImage.length,i=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],o=ws(ds(t.backgroundClip,0),e.curves),r||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Ar(t.backgroundColor)||(this.ctx.fillStyle=ar(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:n.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){c.ctx.save();var n=ja(e.curves),r=t.inset?0:ms,i=La(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(i)):(c.mask(n),c.ctx.clip(),c.path(i)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=ar(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?ar(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),n.label=2;case 2:A=0,a=0,s=i,n.label=3;case 3:return a<s.length?(l=s[a],l.style===mi.NONE||Ar(l.color)?[3,5]:[4,this.renderBorder(l.color,A++,e.curves)]):[3,6];case 4:n.sent(),n.label=5;case 5:return a++,[3,3];case 6:return[2]}})})},e.prototype.render=function(e){return t(this,void 0,void 0,function(){var t;return n(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),t=ts(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}})})},e}(),Bs=function(e){return e instanceof HA||(e instanceof _A||e instanceof FA&&e.type!==CA&&e.type!==EA)},ws=function(e,t){switch(e){case pr.BORDER_BOX:return ja(t);case pr.CONTENT_BOX:return Va(t);case pr.PADDING_BOX:default:return Ga(t)}},ys=function(e){switch(e){case lo.CENTER:return"center";case lo.RIGHT:return"right";case lo.LEFT:default:return"left"}},bs=function(){function e(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Ir.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}return e.prototype.render=function(e){return t(this,void 0,void 0,function(){var t,r;return n(this,function(n){switch(n.label){case 0:return t=Nr(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,e),[4,Es(t)];case 1:return r=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(),Es=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Cs=void 0,Qs=function(e){return or.parse(Nn.create(e).parseComponentValue())},Us=function(e,t){return void 0===t&&(t={}),Fs(e,t)};Lr.setContext(window);var Fs=function(e,r){return t(Cs,void 0,void 0,function(){var t,i,l,c,u,d,f,p,h,g,m,v,B,w,y,b,E,C,Q,U,F,_,H,x,T,x;return n(this,function(n){switch(n.label){case 0:if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(i=t.defaultView,!i)throw new Error("Document is not attached to a Window");return l=(Math.round(1e3*Math.random())+Date.now()).toString(16),c=GA(e)||jA(e)?s(t):a(e),u=c.width,d=c.height,f=c.left,p=c.top,h={allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},g=o({},h,r),m={backgroundColor:"#ffffff",cache:r.cache?r.cache:Lr.create(l,g),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:i.devicePixelRatio||1,windowWidth:i.innerWidth,windowHeight:i.innerHeight,scrollX:i.pageXOffset,scrollY:i.pageYOffset,x:f,y:p,width:Math.ceil(u),height:Math.ceil(d),id:l},v=o({},m,g,r),B=new A(v.scrollX,v.scrollY,v.windowWidth,v.windowHeight),Ir.create(l),Ir.getInstance(l).debug("Starting document clone"),w=new wa(e,{id:l,onclone:v.onclone,ignoreElements:v.ignoreElements,inlineImages:v.foreignObjectRendering,copyStyles:v.foreignObjectRendering}),y=w.clonedReferenceElement,y?[4,w.toIFrame(t,B)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=n.sent(),E=t.documentElement?Qs(getComputedStyle(t.documentElement).backgroundColor):fr.TRANSPARENT,C=t.body?Qs(getComputedStyle(t.body).backgroundColor):fr.TRANSPARENT,Q=r.backgroundColor,U="string"==typeof Q?Qs(Q):4294967295,F=e===t.documentElement?Ar(E)?Ar(C)?U:C:E:U,_={id:l,cache:v.cache,backgroundColor:F,scale:v.scale,x:v.x,y:v.y,scrollX:v.scrollX,scrollY:v.scrollY,width:v.width,height:v.height,windowWidth:v.windowWidth,windowHeight:v.windowHeight},v.foreignObjectRendering?(Ir.getInstance(l).debug("Document cloned, using foreign object rendering"),x=new bs(_),[4,x.render(y)]):[3,3];case 2:return H=n.sent(),[3,5];case 3:return Ir.getInstance(l).debug("Document cloned, using computed rendering"),Lr.attachInstance(v.cache),Ir.getInstance(l).debug("Starting DOM parsing"),T=OA(y),Lr.detachInstance(),F===T.styles.backgroundColor&&(T.styles.backgroundColor=fr.TRANSPARENT),Ir.getInstance(l).debug("Starting renderer"),x=new vs(_),[4,x.render(T)];case 4:H=n.sent(),n.label=5;case 5:return v.removeContainer===!0&&(_s(b)||Ir.getInstance(l).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ir.getInstance(l).debug("Finished rendering"),Ir.destroy(l),Lr.destroy(l),[2,H]}})})},_s=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)};return Us})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=n(64),u=r(c),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"onClick",value:function(){u.default.open(this.el)}}]),t}(l.default);d.permission="fred_blueprints_save",d.title="fred.fe.content.partial_blueprint",d.icon="fred--blueprint",t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.PartialBlueprints=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(57),a=r(A),s=n(13),l=n(11),c=n(36),u=r(c),d=n(1),f=r(d),p=n(6),h=r(p),g=n(62),m=r(g),v=n(35),B=t.PartialBlueprints=function(){function e(){i(this,e)}return o(e,[{key:"open",value:function(e){var t=this;this.el=e,this.categories=[],this.state={name:"",category:null,rank:"",public:!!h.default.permission.fred_blueprints_create_public,image:"",description:"",generatedImage:""},(0,v.getBlueprints)().then(function(e){e.forEach(function(e){null===t.state.category&&(t.state.category=e.id),t.categories.push({label:e.category,id:e.id,value:""+e.id})}),a.default.open(t.render())})}},{key:"render",value:function(){var e=this,t=(0,l.form)(["fred--pages_create"]),n=(0,l.fieldSet)(),r=(0,l.legend)("fred.fe.blueprints.create_blueprint",["fred--panel_blueprint"]),i=function(t,n){e.state[t]=n},o=function(t,n){e.state[t]=n.value};n.appendChild(r);var A=(0,s.text)({name:"name",label:"fred.fe.blueprints.blueprint_name"},this.state.name,i);n.appendChild(A);var c=function(t,n){""===n&&d.setPreview(e.state.generatedImage),e.state[t]=n},d=(0,s.image)({name:"image",label:"fred.fe.blueprints.blueprint_image"},this.state.image,c);n.appendChild(d);var p=(0,s.choices)({name:"category",label:h.default.lng("fred.fe.blueprints.blueprint_category"),choices:{choices:this.categories,shouldSort:!1}},this.state.category,o);n.appendChild(p),n.appendChild((0,s.text)({name:"rank",label:"fred.fe.blueprints.blueprint_rank"},this.state.rank,i));var g=(0,s.toggle)({name:"public",label:"fred.fe.blueprints.blueprint_public"},this.state.public,i);if(h.default.permission.fred_blueprints_create_public||g.inputEl.setAttribute("disabled","disabled"),n.appendChild(g),""===this.state.image){var B=(0,l.span)(["fred--loading"]);d.appendChild(B),(0,m.default)(this.el.wrapper,{logging:!1,ignoreElements:function(e){return!!e.classList.contains("fred")||(!!e.classList.contains("fred--toolbar")||!!e.classList.contains("fred--block_title"))}}).then(function(t){var n=540;if(t.width>n){var r=n/t.width,i=new Image;i.onload=function(){var n=document.createElement("canvas"),o=n.getContext("2d");n.width=t.width*r,n.height=t.height*r,o.drawImage(i,0,0,n.width,n.height),e.state.generatedImage=n.toDataURL(),B.remove(),d.setPreview(e.state.generatedImage)},i.src=t.toDataURL()}else e.state.generatedImage=t.toDataURL(),B.remove(),d.setPreview(e.state.generatedImage)}).catch(function(e){B.remove(),d.setPreview("https://via.placeholder.com/300x150/000000/FF0000?text=Generation%20Failed")})}var w=(0,l.button)("fred.fe.blueprints.create_blueprint","fred.fe.blueprints.create_blueprint",["fred--btn-panel","fred--btn-apply"],function(){f.default.emit("fred-loading",h.default.lng("fred.fe.blueprints.creating_blueprint")),(0,v.createBlueprint)(e.state.name,e.state.description,e.state.category,e.state.rank,e.state.public,[e.el.getContent()],e.state.generatedImage,e.state.image,!1).then(function(e){u.default.killNamespace("blueprints"),a.default.close(),f.default.emit("fred-loading-hide")}).catch(function(e){e.response&&e.response._fields&&(e.response._fields.name&&A.onError(e.response._fields.name),e.response._fields.category&&p.onError(e.response._fields.category),f.default.emit("fred-loading-hide"))})}),y=(0,l.button)("fred.fe.cancel","fred.fe.cancel",["fred--btn-panel"],function(){a.default.close()}),b=(0,l.div)(["fred--panel_button_wrapper"]);return b.appendChild(w),b.appendChild(y),n.appendChild(b),t.appendChild(n),t}}]),e}(),w=new B;t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=n(56),u=r(c),d=n(6),f=r(d),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"shouldRender",value:function(){return!!(this.el.options.settings&&this.el.options.settings.length>0)&&!(this.el.options.remote===!0&&this.el.options.cacheOutput===!0&&!f.default.permission.fred_element_cache_refresh)}},{key:"onClick",value:function(){u.default.open(this.el)}}]),t}(l.default);p.checkInvalidTheme=!1,p.title="fred.fe.content.settings",p.icon="fred--element-settings",t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"onClick",value:function(){this.el.duplicate.call(this.el)}}]),t}(l.default);c.title="fred.fe.content.duplicate",c.icon="fred--duplicate-icon",t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"onClick",value:function(){this.el.remove.call(this.el)}}]),t}(l.default);c.permission="fred_element_front_end_delete",c.checkInvalidTheme=!1,c.title="fred.fe.content.delete",c.icon="fred--trash",t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=n(69),u=r(c),d=n(11),f=n(6),p=r(f),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"customRender",value:function(){var e=(0,d.div)(["fred--position-group"]),t=(0,d.button)("","fred.fe.content.move_up",["fred--position-up"],this.moveUp.bind(this)),n=(0,d.button)("","fred.fe.content.move_down",["fred--position-down"],this.moveDown.bind(this));return e.appendChild(t),new u.default(this.el,e),e.appendChild(n),e}},{key:"moveDown",value:function(){var e=this;if(p.default.permission.fred_element_move){var t=function(){e.el.wrapper.parentElement.insertBefore(e.el.wrapper.nextElementSibling,e.el.wrapper)},n=function(t,n){t.unshiftElementToDropZone(n,e.el)},r=function(e,t){e.parent.dzs[e.dzName].children[t+1].insertAdjacentElement("afterend",e.wrapper),e.parent.dzs[e.dzName].children[t]=e.parent.dzs[e.dzName].children.splice(t+1,1,e.parent.dzs[e.dzName].children[t])[0]},i=function(){if(e.el.parent.parent){var t=e.el.parent.parent.dzs[e.el.parent.dzName].children.indexOf(e.el.parent.wrapper);t!==-1&&(e.el.parent.parent.dzs[e.el.parent.dzName].children.length-1===t?e.el.parent.parent.addElementToDropZone(e.el.parent.dzName,e.el):e.el.parent.parent.insertBeforeElementToDropZone(e.el.parent.dzName,e.el.parent.parent.dzs[e.el.parent.dzName].children[t+1].fredEl,e.el))}else e.el.parent.wrapper.nextElementSibling?(e.el.dzName=e.el.parent.wrapper.parentElement.dataset.fredDropzone,e.el.parent.wrapper.parentElement.insertBefore(e.el.wrapper,e.el.parent.wrapper.nextElementSibling),e.el.parent=null):(e.el.dzName=e.el.parent.wrapper.parentElement.dataset.fredDropzone,e.el.parent.wrapper.parentElement.appendChild(e.el.wrapper),e.el.parent=null)};if(this.el.parent){var o=!1;for(var A in this.el.parent.dzs)if(this.el.parent.dzs.hasOwnProperty(A)){if(o===!0){o=!1,n(this.el.parent,A);break}if(A!==this.el.dzName)continue;var a=this.el.parent.dzs[A].children.indexOf(this.el.wrapper);if(a!==-1){var s=this.el.parent.dzs[A].children[a+1];if(s){var l=Object.keys(s.fredEl.dzs);l.length>0?(this.el.parent.dzs[A].children.splice(a,1),n(s.fredEl,l[0])):r(this.el,a)}else this.el.parent.dzs[A].children.pop(),o=!0}}o===!0&&i()}else if(this.el.wrapper.nextElementSibling){var c=Object.keys(this.el.wrapper.nextElementSibling.fredEl.dzs);c.length>0?n(this.el.wrapper.nextElementSibling.fredEl,c[0]):t()}}}},{key:"moveUp",value:function(){var e=this;if(p.default.permission.fred_element_move){var t=function(){e.el.wrapper.parentElement.insertBefore(e.el.wrapper,e.el.wrapper.previousElementSibling)},n=function(t,n){t.addElementToDropZone(n,e.el)},r=function(){if(e.el.parent.parent){var t=e.el.parent.parent.dzs[e.el.parent.dzName].children.indexOf(e.el.parent.wrapper);t!==-1&&(0===t?e.el.parent.parent.unshiftElementToDropZone(e.el.parent.dzName,e.el):e.el.parent.parent.insertBeforeElementToDropZone(e.el.parent.dzName,e.el.parent,e.el))}else e.el.dzName=e.el.parent.wrapper.parentElement.dataset.fredDropzone,e.el.parent.wrapper.parentElement.insertBefore(e.el.wrapper,e.el.parent.wrapper),e.el.parent=null},i=function(e,t){e.parent.dzs[e.dzName].children[t-1].insertAdjacentElement("beforebegin",e.wrapper),e.parent.dzs[e.dzName].children[t-1]=e.parent.dzs[e.dzName].children.splice(t,1,e.parent.dzs[e.dzName].children[t-1])[0]};if(this.el.parent){for(var o=!1,A=Object.keys(this.el.parent.dzs),a=A.length;a--;){var s=A[a];if(o===!0){o=!1,n(this.el.parent,s);break}if(s===this.el.dzName){var l=this.el.parent.dzs[s].children.indexOf(this.el.wrapper);if(l!==-1){var c=this.el.parent.dzs[s].children[l-1];if(c){var u=Object.keys(c.fredEl.dzs);u.length>0?(this.el.parent.dzs[s].children.splice(l,1),n(c.fredEl,u[u.length-1])):i(this.el,l)}else this.el.parent.dzs[s].children.shift(),o=!0}}}o===!0&&r()}else if(this.el.wrapper.previousElementSibling){var d=Object.keys(this.el.wrapper.previousElementSibling.fredEl.dzs);d.length>0?n(this.el.wrapper.previousElementSibling.fredEl,d[d.length-1]):t()}}}}]),t}(l.default);h.permission="fred_element_move",t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=n(11),u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"customRender",value:function(){return this.toolbar.classList.add("handle"),(0,c.div)(["fred--toolbar-grip","handle"])}}]),t}(l.default);u.permission="fred_element_move",t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(61),l=r(s),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"shouldRender",value:function(){return this.el.options.cacheOutput===!0}},{key:"onClick",value:function(){this.el.render.call(this.el,!0)}}]),t}(l.default);c.permission="fred_element_cache_refresh",c.title="fred.fe.content.refresh_cache_element",c.icon="fred--refresh_cache_element-icon",t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(35),o=r(i),A=n(72),a=r(A);t.default={blueprints:o,pages:a},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateResource=t.undeleteResource=t.deleteResource=t.unpublishResource=t.publishResource=t.getResources=t.createResource=t.getTemplates=t.getResourceTree=void 0;var i=n(36),o=r(i),A=n(38),a=r(A),s=n(6),l=r(s),c=n(20);t.getResourceTree=function(e){return o.default.load("resources",{name:"resource-tree"},function(){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=get-resource-tree&context="+e).then(function(e){return e.json()}).then(function(e){return e.data.resources})})},t.getTemplates=function(e){return o.default.load("templates",{name:"templates"},function(){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=get-templates").then(c.errorHandler)})},t.createResource=function(e,t,n,r){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=create-resource",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({parent:e,template:t,pagetitle:n,blueprint:r,contextKey:l.default.config.contextKey})}).then(c.errorHandler)},t.getResources=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";null!==e&&(n+="&current="+e);for(var r in t)t.hasOwnProperty(r)&&(n+="&"+r+"="+t[r]);return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=get-resources"+n).then(c.errorHandler)},t.publishResource=function(e){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=publish-resource",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:e})}).then(c.errorHandler)},t.unpublishResource=function(e){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=unpublish-resource",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:e})}).then(c.errorHandler)},t.deleteResource=function(e){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=delete-resource",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:e})}).then(c.errorHandler)},t.undeleteResource=function(e){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=undelete-resource",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:e})}).then(c.errorHandler)},t.duplicateResource=function(e,t,n,r){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=duplicate-resource",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({pagetitle:e,duplicate_children:t,publishing_options:n,
resource:r})}).then(c.errorHandler)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(11),s=n(6),l=r(s),c=n(74),u=r(c),d=n(1),f=r(d),p=n(15),h=r(p),g=n(20),m=n(75),v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};i(this,e),this.group=t,this.inputToggle=null,this.inputWrapper=null,null===n&&(l.default.pageSettings.tagger||(l.default.pageSettings.tagger={}),l.default.pageSettings.tagger["tagger-"+this.group.id]||(l.default.pageSettings.tagger["tagger-"+this.group.id]=[]),n=l.default.pageSettings.tagger["tagger-"+this.group.id]),this.currentTags=n,this.onChange=r.bind(this),this.onTagToggle=this.onTagToggle.bind(this),this.onTagRemove=this.onTagRemove.bind(this)}return A(e,[{key:"render",value:function(){var e=(0,a.div)("fred--tagger_field",(0,a.div)("fred--tagger_group_title",this.group.name));switch(this.group.field_type){case"tagger-field-tags":var t=(0,a.div)("fred--tagger_tags_wrapper");this.group.hide_input===!1&&(this.renderInput(t),e.appendChild(this.inputToggle),e.appendChild(this.inputWrapper)),this.group.show_autotag?this.renderAutoTag(t):this.renderTags(t),this.toggleInput(),e.appendChild(t);break;case"tagger-combo-tag":this.group.allow_new===!1?this.renderSingleSelectInput():this.renderSingleTagInput(),e.appendChild(this.inputWrapper);break;default:return!1}return e}},{key:"renderTagInput",value:function(e){var t=this,n=(0,a.input)("","text","fred--tagger_input");n.addEventListener("keyup",function(r){188!==r.keyCode&&13!==r.keyCode||t.onTagSubmit(e,n)}),n.addEventListener("keydown",function(e){13===e.keyCode&&e.preventDefault()});var r=(0,a.button)("fred.fe.tagger.add","fred.fe.tagger.add","fred--tagger_add_tag",function(){t.onTagSubmit(e,n)});this.inputWrapper.appendChild(n),this.inputWrapper.appendChild(r);var i=null;this.autoComplete({selector:n,onSelect:function(r,i,o){t.onTagSubmit(e,n)},source:function(e,n){null!==i&&(i.cancel(),i=null),i=(0,u.default)((0,m.getTags)(t.group.id,e)),i.promise.then(function(e){n(e)})}})}},{key:"renderSelectInput",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(0,a.select)();this.inputWrapper.appendChild(r);var i=null,o={},A=[],s=new h.default(r,{shouldSort:!1,removeItemButton:!1,searchResultLimit:0});(0,g.fixChoices)(s),null!==t&&(s._handleChoiceAction=function(e,t){if(e&&t){var n=t.getAttribute("data-id"),r=this.store.getChoiceById(n),i=e[0]&&e[0].keyCode?e[0].keyCode:null,o=this.dropdown.classList.contains(this.config.classNames.activeState);r.keyCode=i;var A=new CustomEvent("choice",{detail:null,bubbles:!0,cancelable:!0});if(this.passedElement.dispatchEvent(A),r&&!r.selected&&!r.disabled){var a=this._canAddItem(e,r.value);a.response&&(this._addItem(r.value,r.label,r.id,r.groupId,r.customProperties,r.placeholder,r.keyCode),this._triggerChange(r.value))}o&&this.isSelectOneElement}}),null!==n&&s.setValue([n]),s.ajax(function(t){(0,m.getTags)(e.group.id).then(function(e){var n=[];e.forEach(function(e){n.push({value:""+e,label:""+e})}),A=n,t(n,"value","label")}).catch(function(e){f.default.emit("fred-loading",e.message)})});var l=function(e){s.setChoices(e,"value","label",!0)},c=function(){var t=s.input.value;t in o?l(o[t]):(0,m.getTags)(e.group.id,t).then(function(e){var n=[];e.forEach(function(e){n.push({value:""+e,label:""+e})}),o[t]=n,l(n)}).catch(function(e){f.default.emit("fred-loading",e.message)})};s.passedElement.addEventListener("search",function(e){clearTimeout(i),i=setTimeout(c,200)}),s.passedElement.addEventListener("change",function(n){null===t?(e.currentTags=[n.detail.value.trim()],e.onChange(e.currentTags),s.setChoices(A,"value","label",!0)):e.onTagAdd(t,n.detail.value)}),null!==t&&s.passedElement.addEventListener("hideDropdown",function(e){s.clearStore(),s.clearInput(),s.setChoices(A,"value","label",!0)})}},{key:"renderSingleSelectInput",value:function(){this.inputWrapper=(0,a.div)("fred--tagger_input_wrapper");var e=null;this.currentTags.length>0&&(e=this.currentTags[0]),this.renderSelectInput(null,e)}},{key:"renderSingleTagInput",value:function(){var e=this;this.inputWrapper=(0,a.div)("fred--tagger_input_wrapper");var t=(0,a.input)("","text","fred--tagger_input");this.currentTags.length>0&&(t.value=this.currentTags[0]),t.addEventListener("keydown",function(e){13===e.keyCode&&e.preventDefault()}),t.addEventListener("keyup",function(n){e.currentTags=[t.value.trim()],e.onChange(e.currentTags)});var n=(0,a.button)("fred.fe.tagger.toggle_list","fred.fe.tagger.toggle_list","fred--tagger_open_list",function(){n.listVisible?t.blur():(t.openList(t.value,0),t.focus())});n.addEventListener("mousedown",function(e){n.listVisible="block"===t.sc.style.display}),this.inputWrapper.appendChild(t),this.inputWrapper.appendChild(n);var r=null;this.autoComplete({hideOnSelect:!0,selector:t,onSelect:function(n,r,i){e.currentTags=[t.value.trim()],e.onChange(e.currentTags)},source:function(t,n){null!==r&&(r.cancel(),r=null),r=(0,u.default)((0,m.getTags)(e.group.id,t)),r.promise.then(function(e){n(e)})}})}},{key:"renderInput",value:function(e){var t=this;this.inputWrapper=(0,a.div)(["fred--tagger_input_wrapper","fred--hidden"]),this.inputToggle=(0,a.button)("fred.fe.tagger.toggle_input","fred.fe.tagger.toggle_input","fred--tagger_input_toggle",function(){t.inputWrapper.classList.contains("fred--hidden")?(t.inputWrapper.classList.remove("fred--hidden"),t.inputToggle.classList.add("fred--tagger_input_toggle_open")):(t.inputWrapper.classList.add("fred--hidden"),t.inputToggle.classList.remove("fred--tagger_input_toggle_open"))}),this.group.allow_new===!0?this.renderTagInput(e):this.renderSelectInput(e)}},{key:"renderTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=(0,a.span)("fred--tagger_tag",e);return r.setAttribute("data-tag",e),t&&r.classList.add("fred--tagger_tag_active"),"function"==typeof n&&r.addEventListener("click",function(t){t.preventDefault(),n(r,e)}),r}},{key:"renderAutoTag",value:function(e){var t=this;this.group.tags.forEach(function(n){var r=!1;~t.currentTags.indexOf(n)&&(r=!0),e.appendChild(t.renderTag(n,r,t.onTagToggle))})}},{key:"renderTags",value:function(e){var t=this;this.currentTags.forEach(function(n){e.appendChild(t.renderTag(n,!0,t.onTagRemove))})}},{key:"onTagToggle",value:function(e,t){if(this.group.as_radio===!0){var n=e.classList.contains("fred--tagger_tag_active"),r=e.parentElement.querySelectorAll(".fred--tagger_tag_active"),i=!0,o=!1,A=void 0;try{for(var a,s=r[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.classList.remove("fred--tagger_tag_active")}}catch(e){o=!0,A=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw A}}return n?(e.classList.remove("fred--tagger_tag_active"),this.currentTags=[]):(e.classList.add("fred--tagger_tag_active"),this.currentTags=[t]),void this.onChange(this.currentTags)}e.classList.contains("fred--tagger_tag_active")?(e.classList.remove("fred--tagger_tag_active"),this.currentTags.splice(this.currentTags.indexOf(t),1),this.toggleInput()):(this.checkTagLimit()&&(e.classList.add("fred--tagger_tag_active"),this.currentTags.push(t)),this.toggleInput()),this.onChange(this.currentTags)}},{key:"onTagRemove",value:function(e,t){this.currentTags.splice(this.currentTags.indexOf(t),1),this.onChange(this.currentTags),e.remove(),this.toggleInput()}},{key:"onTagSubmit",value:function(e,t){this.onTagAdd(e,t.value),t.value=""}},{key:"onTagAdd",value:function(e,t){var n=this,r=t.trim().split(",");r.forEach(function(t){if(n.checkTagLimit()){if(t=t.trim(),!t)return;if(~n.currentTags.indexOf(t))return;var r=e.querySelector('[data-tag="'+t+'"]');if(r)return r.classList.add("fred--tagger_tag_active"),n.currentTags.push(t),n.onChange(n.currentTags),void n.toggleInput();var i=n.renderTag(t,!0,function(){n.group.show_autotag?n.onTagToggle(i,t):n.onTagRemove(i,t)});e.appendChild(i),n.currentTags.push(t),n.onChange(n.currentTags),n.toggleInput()}})}},{key:"toggleInput",value:function(){this.inputToggle&&this.inputWrapper&&(this.checkTagLimit()?this.inputToggle.classList.contains("fred--hidden")&&(this.inputToggle.classList.remove("fred--tagger_input_toggle_open"),this.inputToggle.classList.remove("fred--hidden")):(this.inputToggle.classList.add("fred--hidden"),this.inputWrapper.classList.add("fred--hidden"),this.inputToggle.classList.remove("fred--tagger_input_toggle_open")))}},{key:"checkTagLimit",value:function(){return 0===this.group.tag_limit||this.currentTags.length<this.group.tag_limit}},{key:"autoComplete",value:function(e){var t={selector:null,source:null,minChars:0,delay:150,offsetLeft:0,offsetTop:1,cache:1,hideOnSelect:!1,onSelect:function(e,t,n){}};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);if("object"===o(t.selector)){var r=t.selector;r.sc=(0,a.div)(["fred--autocomplete_suggestions"]),r.autocompleteAttr=r.getAttribute("autocomplete"),r.setAttribute("autocomplete","off"),r.cache={},r.last_val="",r.openList=function(e,n){if(r.last_val=e,clearTimeout(r.timer),t.cache){if(e in r.cache)return void A(r.cache[e],e,!1);for(var i=1;i<e.length-t.minChars;i++){var o=e.slice(0,e.length-i);if(o in r.cache&&!r.cache[o].length)return void A([],"",!1)}}n>0?r.timer=setTimeout(function(){t.source(e,function(t){A(t,e)})},n):t.source(e,function(t){A(t,e)})},r.updateSC=function(e,t){var n=r.getBoundingClientRect();if(r.sc.style.width=Math.round(n.right-n.left)+"px",!e&&(r.sc.style.display="block",r.sc.maxHeight||(r.sc.maxHeight=parseInt((window.getComputedStyle?getComputedStyle(r.sc,null):r.sc.currentStyle).maxHeight)),r.sc.suggestionHeight||(r.sc.suggestionHeight=r.sc.querySelector(".fred--autocomplete_suggestion").offsetHeight),r.sc.suggestionHeight))if(t){var i=r.sc.scrollTop,o=t.getBoundingClientRect().top-r.sc.getBoundingClientRect().top;o+r.sc.suggestionHeight-r.sc.maxHeight>0?r.sc.scrollTop=o+r.sc.suggestionHeight+i-r.sc.maxHeight:o<0&&(r.sc.scrollTop=o+i)}else r.sc.scrollTop=0},r.blurHandler=function(){var e=!1;try{e=r.parentNode.querySelector(".fred--autocomplete_suggestions:hover")}catch(t){e=!1}e?r!==document.activeElement&&setTimeout(function(){r.focus()},20):(r.last_val=r.value,r.sc.style.display="none")},r.keydownHandler=function(e){var n=window.event?e.keyCode:e.which;if((40===n||38===n)&&r.sc.innerHTML){var i=void 0,o=r.sc.querySelector(".fred--autocomplete_suggestion.fred--autocomplete_suggestion_selected");return o?(i=40===n?o.nextSibling:o.previousSibling,i?(o.classList.remove("fred--autocomplete_suggestion_selected"),i.classList.add("fred--autocomplete_suggestion_selected"),r.value=i.getAttribute("data-val")):(o.classList.remove("fred--autocomplete_suggestion_selected"),r.value=r.last_val,i=0)):(i=40===n?r.sc.querySelector(".fred--autocomplete_suggestion"):r.sc.childNodes[r.sc.childNodes.length-1],i.classList.add("fred--autocomplete_suggestion_selected"),r.value=i.getAttribute("data-val")),r.updateSC(0,i),!1}if(27===n)r.value=r.last_val,r.sc.style.display="none";else if(13===n||9===n){var A=r.sc.querySelector(".fred--autocomplete_suggestion.fred--autocomplete_suggestion_selected");A&&"none"!==r.sc.style.display&&(t.onSelect(e,A.getAttribute("data-val"),A),t.hideOnSelect===!0&&setTimeout(function(){r.sc.style.display="none"},20))}},r.keyupHandler=function(e){var n=window.event?e.keyCode:e.which;if(!n||(n<35||n>40)&&13!==n&&27!==n){var i=r.value;i.length>=t.minChars?i!==r.last_val&&r.openList(i,t.delay):(r.last_val=i,r.sc.style.display="none")}},r.focusHandler=function(e){r.last_val="\n",r.keyupHandler(e)};var i=function(e,n){n=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");var i=new RegExp("("+n.split(" ").join("|")+")","gi"),o=(0,a.div)("fred--autocomplete_suggestion",e.replace(i,"<b>$1</b>"));return o.setAttribute("data-val",e),o.addEventListener("mouseover",function(e){o.classList.add("fred--autocomplete_suggestion_selected")}),o.addEventListener("mouseleave",function(e){var t=o.parentElement.querySelectorAll(".fred--autocomplete_suggestion_selected"),n=!0,r=!1,i=void 0;try{for(var A,a=t[Symbol.iterator]();!(n=(A=a.next()).done);n=!0){var s=A.value;s.classList.remove("fred--autocomplete_suggestion_selected")}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}}),o.addEventListener("mousedown",function(e){var n=o.getAttribute("data-val");r.value=n,t.onSelect(e,n,o),t.hideOnSelect===!0&&(r.sc.style.display="none")}),o},A=function(e,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(o===!0&&(r.cache[n]=e),e.length&&n.length>=t.minChars){r.sc.innerHTML="";for(var A=0;A<e.length;A++)r.sc.appendChild(i(e[A],n));r.updateSC(0)}else r.sc.style.display="none"};window.addEventListener("resize",r.updateSC),r.addEventListener("blur",r.blurHandler),r.addEventListener("keydown",r.keydownHandler),r.addEventListener("keyup",r.keyupHandler),r.insertAdjacentElement("afterend",r.sc)}}}]),e}();t.default=v,e.exports=t.default},function(e,t){var n=function(e,t){function n(){o=!0,r()}t=t||{};var r,i=t.timeout,o=!1,A=new Promise(function(e,t){r=e}),a=Promise.race([A,e]).then(function(e){if(o){var t=new Error("User cancelled promise.");return t.type="cancel",Promise.reject(t)}if(i){var t=new Error("Promise timeout");return t.type="timeout",Promise.reject(t)}return Promise.resolve(e)});return t.timeout&&setTimeout(function(){i=!0,r()},+t.timeout),{promise:a,cancel:n,abort:n}};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getTags=t.getGroups=void 0;var i=n(36),o=r(i),A=n(38),a=r(A),s=n(6),l=r(s),c=n(20);t.getGroups=function(e,t){return o.default.load("tagger",{name:"groups",group:e,autoTag:t},function(){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=tagger-get-group&group="+e+"&includeTags="+(0|t)).then(c.errorHandler).then(function(e){return e.data.group.tags})})},t.getTags=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="&group="+e;return null!==t&&(n+="&query="+t),o.default.load("tagger",{name:"tags",group:e,query:t},function(){return(0,a.default)(l.default.config.assetsUrl+"endpoints/ajax.php?action=tagger-get-tags&"+n).then(c.errorHandler).then(function(e){return e.data.tags})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(9),c=r(l),u=n(21),d=r(u),f=n(11),p=n(13),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),s(t,[{key:"init",value:function(){this.state=a({},this.state,{icon:d.default.getElValue(this.el)||""})}},{key:"render",value:function(){var e=(0,f.div)();return e.appendChild((0,p.text)({name:"icon",label:"fred.fe.editor.icon"},this.state.icon,this.setStateValue)),e.appendChild(this.buildAttributesFields()),e}},{key:"onSave",value:function(){c.default.prototype.onSave.call(this),this.el.fredEl.setElValue(this.el,this.state.icon)}}]),t}(c.default);h.title="fred.fe.editor.edit_icon",t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=r(s),c=n(22),u=r(c),d=n(11),f=n(1),p=r(f),h=n(55),g=r(h),m=n(58),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"click",value:function(){return(0,m.getElements)().then(function(e){var n=(0,d.dl)();return e.elements.forEach(function(e){var r=(0,d.dt)(e.category,[],function(e,t){var n=t.parentElement.querySelectorAll("dt.active"),i=t.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var u=l.value;u!==t&&u.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}i||(t.classList.add("active"),e.stopPropagation(),p.default.emit("fred-sidebar-dt-active",r,o))}),i=/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||"undefined"!=typeof safari&&safari.pushNotification);i||(0,g.default)(r,function(e){var t=e.target,n=t.parentElement.querySelectorAll("dt.active"),i=t.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var u=l.value;u!==t&&u.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}i||(t.classList.add("active"),p.default.emit("fred-sidebar-dt-active",r,o))},function(e){});var o=(0,d.dd)(),A=(0,d.div)(["fred--thumbs","source","elements-source"]),a=(0,d.h3)("category.category");e.elements.forEach(function(e){A.appendChild(t.elementWrapper(e.id,e.title,e.description,e.image,e.content,e.options||{}))}),o.appendChild(a),o.appendChild(A),n.appendChild(r),n.appendChild(o)}),n})}},{key:"afterExpand",value:function(){u.default.reloadContainers()}}],[{key:"elementWrapper",value:function(e,t,n,r,i,o){var A=(0,d.figure)(["fred--thumb"]),a=(0,d.div)(),s=(0,d.img)(r,t);a.appendChild(s);var l=(0,d.figCaption)("<strong>"+t+"</strong><em>"+n+"</em>"),c=(0,d.div)(["chunk"]);return c.dataset.fredElementId=e,c.dataset.fredElementTitle=t,c.setAttribute("hidden","hidden"),c.elementMarkup=i,c.elementOptions=o,A.appendChild(a),A.appendChild(l),A.appendChild(c),A}}]),t}(l.default);v.title="fred.fe.elements",v.icon="fred--sidebar_elements",v.expandable=!0,t.default=v,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=r(s),c=n(1),u=r(c),d=n(11),f=n(73),p=r(f),h=n(13),g=r(h),m=n(20),v=n(6),B=r(v),w=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"init",value:function(){this.setSetting=this.setSetting.bind(this),this.setSettingWithEmitter=this.setSettingWithEmitter.bind(this),this.addSettingChangeListener=this.addSettingChangeListener.bind(this),this.setTVWithEmitter=this.setTVWithEmitter.bind(this),this.addTVChangeListener=this.addTVChangeListener.bind(this),this.pageSettings=B.default.pageSettings,this.content=this.render()}},{key:"click",value:function(){return this.content}},{key:"render",value:function(){var e=(0,d.form)(["fred--page_settings_form"]);return e.appendChild(this.getGeneralFields()),B.default.permission.fred_settings_advanced&&e.appendChild(this.getAdvancedFields()),B.default.permission.fred_settings_tags&&B.default.tagger.length>0&&e.appendChild(this.getTaggerFields()),B.default.permission.fred_settings_tvs&&B.default.tvs.length>0&&e.appendChild(this.getTVFields()),e}},{key:"getGeneralFields",value:function(){var e=this,t=(0,d.fieldSet)();t.appendChild(g.default.text({name:"pagetitle",label:"fred.fe.page_settings.page_title"},this.pageSettings.pagetitle,this.setSettingWithEmitter,this.addSettingChangeListener)),t.appendChild(g.default.text({name:"longtitle",label:"fred.fe.page_settings.long_title"},this.pageSettings.longtitle,this.setSettingWithEmitter,this.addSettingChangeListener)),t.appendChild(g.default.area({name:"description",label:"fred.fe.page_settings.description"},this.pageSettings.description,this.setSettingWithEmitter,this.addSettingChangeListener)),t.appendChild(g.default.area({name:"introtext",label:"fred.fe.page_settings.intro_text"},this.pageSettings.introtext,this.setSettingWithEmitter,this.addSettingChangeListener)),t.appendChild(g.default.text({name:"menutitle",label:"fred.fe.page_settings.menu_title"},this.pageSettings.menutitle,this.setSettingWithEmitter,this.addSettingChangeListener)),t.appendChild(g.default.text({name:"alias",label:"fred.fe.page_settings.alias"},this.pageSettings.alias,this.setSettingWithEmitter,this.addSettingChangeListener));var n=g.default.toggle({name:"published",label:"fred.fe.page_settings.published"},this.pageSettings.published,function(t,n){e.setSetting(t,n)});return B.default.permission.publish_document&&B.default.resource.publish||this.pageSettings.published||n.inputEl.setAttribute("disabled","disabled"),B.default.permission.unpublish_document&&B.default.resource.unpublish||!this.pageSettings.published||n.inputEl.setAttribute("disabled","disabled"),t.appendChild(n),t.appendChild(g.default.toggle({name:"hidemenu",label:"fred.fe.page_settings.hide_from_menu"},this.pageSettings.hidemenu,function(t,n){e.setSetting(t,n)})),u.default.on("fred-after-save",function(){B.default.permission.publish_document&&B.default.resource.publish||e.pageSettings.published||n.inputEl.setAttribute("disabled","disabled"),B.default.permission.unpublish_document&&B.default.resource.unpublish||!e.pageSettings.published||n.inputEl.setAttribute("disabled","disabled")}),t}},{key:"getAdvancedFields",value:function(){var e=this,t=(0,d.dl)(),n=(0,d.dt)("fred.fe.page_settings.advanced_settings",["fred--accordion-cog"],function(e){var i=t.parentElement.querySelectorAll("dt.active"),o=n.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var d=l.value;d.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}o||(n.classList.add("active"),e.stopPropagation(),u.default.emit("fred-sidebar-dt-active",n,r))}),r=(0,d.dd)(),i=(0,d.h3)("fred.fe.page_settings.advanced_settings"),o=(0,d.fieldSet)(["fred--page_settings_form_advanced"]),A=g.default.dateTime({name:"publishedon",label:"fred.fe.page_settings.published_on"},this.pageSettings.publishedon,function(t,n){e.setSetting(t,n)});o.appendChild(A),o.appendChild(g.default.dateTime({name:"publishon",label:"fred.fe.page_settings.publish_on"},this.pageSettings.publishon,function(t,n){e.setSetting(t,n)})),o.appendChild(g.default.dateTime({name:"unpublishon",label:"fred.fe.page_settings.unpublish_on"},this.pageSettings.unpublishon,function(t,n){e.setSetting(t,n)})),o.appendChild(g.default.text({name:"menuindex",label:"fred.fe.page_settings.menu_index"},this.pageSettings.menuindex,function(t,n){e.setSetting(t,n)}));var a=g.default.toggle({name:"deleted",label:"fred.fe.page_settings.deleted"},this.pageSettings.deleted,function(t,n){e.setSetting(t,n)});return B.default.permission.delete_document&&B.default.resource.delete||this.pageSettings.deleted||a.inputEl.setAttribute("disabled","disabled"),B.default.permission.undelete_document&&B.default.resource.undelete||!this.pageSettings.deleted||a.inputEl.setAttribute("disabled","disabled"),o.appendChild(a),r.appendChild(i),r.appendChild(o),t.appendChild(n),t.appendChild(r),u.default.on("fred-after-save",function(){B.default.permission.delete_document&&B.default.resource.delete||e.pageSettings.deleted||a.inputEl.setAttribute("disabled","disabled"),B.default.permission.undelete_document&&B.default.resource.undelete||!e.pageSettings.deleted||a.inputEl.setAttribute("disabled","disabled"),e.pageSettings.publishedon?A.picker.setDate(1e3*e.pageSettings.publishedon):A.picker.clear()}),t}},{key:"getTaggerFields",value:function(){var e=(0,d.dl)(),t=(0,d.dt)("fred.fe.tagger.tagger",["fred--accordion-cog"],function(r){var i=e.parentElement.querySelectorAll("dt.active"),o=t.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var d=l.value;d.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}o||(t.classList.add("active"),r.stopPropagation(),u.default.emit("fred-sidebar-dt-active",t,n))}),n=(0,d.dd)(),r=(0,d.fieldSet)(["fred--page_tagger"]),i=(0,d.h3)("fred.fe.tagger.tagger");return B.default.tagger.forEach(function(e){var t=new p.default(e,null,function(){u.default.emit("fred-content-changed")}),n=t.render();n&&r.appendChild(n)}),n.appendChild(i),n.appendChild(r),e.appendChild(t),e.appendChild(n),e}},{key:"getTVFields",value:function(){var e=this,t=(0,d.dl)(),n=(0,d.dt)("fred.fe.page_settings.tvs",["fred--accordion-cog"],function(e){var i=t.parentElement.querySelectorAll("dt.active"),o=n.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var d=l.value;d.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}o||(n.classList.add("active"),e.stopPropagation(),u.default.emit("fred-sidebar-dt-active",n,r))}),r=(0,d.dd)(),i=(0,d.fieldSet)(["fred--page_settings_form_advanced"]);return B.default.tvs.forEach(function(t){switch(t.type){case"image":i.appendChild(g.default.image(t,e.pageSettings.tvs[t.name],e.setTVWithEmitter,e.addTVChangeListener));break;case"textarea":i.appendChild(g.default.area(t,e.pageSettings.tvs[t.name],e.setTVWithEmitter,e.addTVChangeListener));break;default:i.appendChild(g.default.text(t,e.pageSettings.tvs[t.name],e.setTVWithEmitter,e.addTVChangeListener))}}),r.appendChild(i),t.appendChild(n),t.appendChild(r),t}},{key:"setSetting",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u.default.emit("fred-content-changed"),n?(this.pageSettings[n]||(this.pageSettings[n]={}),this.pageSettings[n][e]=t):this.pageSettings[e]=t}},{key:"setSettingWithEmitter",value:function(e,t,n){u.default.emit("fred-content-changed"),this.setSetting(e,t),u.default.emit("fred-page-setting-change",e,t,(0,m.valueParser)(t),n)}},{key:"addSettingChangeListener",value:function(e,t,n){var r=this;u.default.on("fred-page-setting-change",function(t,i,o,A){n!==A&&e.name===t&&(r.setSetting(t,i),n.value=i)})}},{key:"setTVWithEmitter",value:function(e,t,n){u.default.emit("fred-content-changed"),this.setSetting(e,t,"tvs"),u.default.emit("fred-page-setting-change","tv_"+e,t,(0,m.valueParser)(t),n)}},{key:"addTVChangeListener",value:function(e,t,n){var r=this;u.default.on("fred-page-setting-change",function(i,o,A,a){n!==a&&"tv_"+e.name===i&&(r.setSetting(e.name,o,"tvs"),n.value=o,t.setPreview&&"function"==typeof t.setPreview&&t.setPreview(n.value))})}}]),t}(l.default);w.title="fred.fe.page_settings",w.icon="fred--sidebar_page_settings",w.expandable=!0,t.default=w,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=r(s),c=n(1),u=r(c),d=n(11),f=n(6),p=r(f),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"init",value:function(){this.content=this.render()}},{key:"click",value:function(){return this.content}},{key:"render",value:function(){var e=(0,d.dl)("fred--text_menu"),t=(0,d.a)("fred.fe.more.openmanager","fred.fe.more.openmanager",p.default.config.managerUrl+"?a=resource/update&id="+p.default.resource.id);t.target="_blank";var n=(0,d.a)("fred.fe.more.help","fred.fe.more.help","https://modxcms.github.io/fred/");return n.target="_blank",e.appendChild((0,d.dt)(t)),e.appendChild((0,d.dt)(n)),e.appendChild((0,d.dt)((0,d.a)("fred.fe.turn_off_fred","fred.fe.turn_off_fred",p.default.config.fredOffUrl))),e.appendChild((0,d.dt)("fred.fe.more.logout",["fred--dt_link"],function(e){u.default.emit("fred-logout-user")})),e}}]),t}(l.default);h.title="fred.fe.more",h.icon="fred--sidebar_more",h.expandable=!0,t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0
}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(5),l=r(s),c=n(1),u=r(c),d=n(11),f=n(13),p=n(6),h=r(p),g=n(36),m=r(g),v=n(55),B=r(v),w=n(22),y=r(w),b=n(62),E=r(b),C=n(35),Q=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return A(t,e),a(t,[{key:"init",value:function(){this.categories=[],this.state={category:{name:"",rank:"",public:!!h.default.permission.fred_blueprint_categories_create_public},blueprint:{name:"",description:"",category:null,rank:"",public:!!h.default.permission.fred_blueprints_create_public,image:"",generatedImage:""}}}},{key:"click",value:function(){var e=this;return(0,C.getBlueprints)().then(function(t){return e.buildPanel(t)})}},{key:"buildBlueprints",value:function(e,n){var r=this;n.forEach(function(n){if(null===r.state.blueprint.category&&(r.state.blueprint.category=n.id),r.categories.push({label:n.category,id:n.id,value:""+n.id}),0===n.blueprints.length)return!0;var i=(0,d.dt)(n.category,[],function(e,t){var n=t.parentElement.querySelectorAll("dt.active"),r=t.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var d=l.value;d.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}r||(t.classList.add("active"),e.stopPropagation(),u.default.emit("fred-sidebar-dt-active",i,o))});(0,B.default)(i,function(e){var t=e.target,n=t.parentElement.querySelectorAll("dt.active"),r=t.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var d=l.value;d!==t&&d.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}r||(t.classList.add("active"),u.default.emit("fred-sidebar-dt-active",i,o))},function(e){});var o=(0,d.dd)(),A=(0,d.div)(["fred--thumbs","source","blueprints-source"]);n.blueprints.forEach(function(e){A.appendChild(t.wrapper(e.id,e.name,e.description,e.image))}),o.appendChild(A),e.appendChild(i),e.appendChild(o)})}},{key:"buildPanel",value:function(e){var t=(0,d.dl)();return this.categories=[],this.buildBlueprints(t,e),h.default.permission.fred_blueprint_categories_save&&this.buildCreateCategory(t),h.default.permission.fred_blueprints_save&&this.buildCreateBlueprint(t),t}},{key:"buildCreateBlueprint",value:function(e){var t=this,n=(0,d.dd)(),r=(0,d.form)(["fred--pages_create"]),i=(0,d.dt)("fred.fe.blueprints.create_blueprint",["fred--accordion-cog"],function(o,A){var a=e.querySelectorAll("dt.active"),s=A.classList.contains("active"),l=!0,c=!1,p=void 0;try{for(var g,v=a[Symbol.iterator]();!(l=(g=v.next()).done);l=!0){var B=g.value;B.classList.remove("active")}}catch(e){c=!0,p=e}finally{try{!l&&v.return&&v.return()}finally{if(c)throw p}}if(!s){r.innerHTML="";var w=(0,d.fieldSet)(),b=(0,d.legend)("fred.fe.blueprints.create_blueprint"),Q=function(e,n){t.state.blueprint[e]=n},U=function(e,n){t.state.blueprint[e]=n.value};w.appendChild(b);var F=(0,f.text)({name:"name",label:"fred.fe.blueprints.blueprint_name"},t.state.blueprint.name,Q);w.appendChild(F),w.appendChild((0,f.area)({name:"description",label:"fred.fe.blueprints.blueprint_description"},t.state.blueprint.description,Q));var _=function(e,n){""===n&&H.setPreview(t.state.blueprint.generatedImage),t.state.blueprint[e]=n},H=(0,f.image)({name:"image",label:"fred.fe.blueprints.blueprint_image"},t.state.blueprint.image,_);w.appendChild(H);var x=(0,f.choices)({name:"category",label:h.default.lng("fred.fe.blueprints.blueprint_category"),choices:{choices:t.categories,shouldSort:!1}},t.state.blueprint.category,U);w.appendChild(x),w.appendChild((0,f.text)({name:"rank",label:"fred.fe.blueprints.blueprint_rank"},t.state.blueprint.rank,Q));var T=(0,f.toggle)({name:"public",label:"fred.fe.blueprints.blueprint_public"},t.state.blueprint.public,Q);if(h.default.permission.fred_blueprints_create_public||T.inputEl.setAttribute("disabled","disabled"),w.appendChild(T),""===t.state.blueprint.image){var S=(0,d.span)(["fred--loading"]);H.appendChild(S),h.default.fred.previewContent().then(function(e){e.parentNode.style.display="block",e.parentNode.style.opacity="0",e.parentNode.style.zIndex="-99999999",(0,E.default)(e.contentWindow.document.body,{logging:!1}).then(function(n){var r=540;if(n.width>r){var i=r/n.width,o=new Image;o.onload=function(){var r=document.createElement("canvas"),A=r.getContext("2d");r.width=n.width*i,r.height=n.height*i,A.drawImage(o,0,0,r.width,r.height),t.state.blueprint.generatedImage=r.toDataURL(),S.remove(),H.setPreview(t.state.blueprint.generatedImage),e.parentNode.style.display="none",e.parentNode.style.opacity=null,e.parentNode.style.zIndex=null},o.src=n.toDataURL()}else t.state.blueprint.generatedImage=n.toDataURL(),S.remove(),H.setPreview(t.state.blueprint.generatedImage),e.parentNode.style.display="none",e.parentNode.style.opacity=null,e.parentNode.style.zIndex=null}).catch(function(t){e.parentNode.style.display="none",e.parentNode.style.opacity=null,e.parentNode.style.zIndex=null,S.remove(),H.setPreview("https://via.placeholder.com/300x150/000000/FF0000?text=Generation%20Failed")})})}var N=(0,d.button)("fred.fe.blueprints.create_blueprint","fred.fe.blueprints.create_blueprint",["fred--btn-panel","fred--btn-apply"],function(){u.default.emit("fred-loading",h.default.lng("fred.fe.blueprints.creating_blueprint")),(0,C.createBlueprint)(t.state.blueprint.name,t.state.blueprint.description,t.state.blueprint.category,t.state.blueprint.rank,t.state.blueprint.public,h.default.fred.getContent(),t.state.blueprint.generatedImage,t.state.blueprint.image,!0).then(function(n){m.default.killNamespace("blueprints"),t.click().then(function(t){e.replaceWith(t),y.default.reloadContainers(),u.default.emit("fred-loading-hide")})}).catch(function(e){e.response&&e.response._fields&&(e.response._fields.name&&F.onError(e.response._fields.name),e.response._fields.category&&x.onError(e.response._fields.category),u.default.emit("fred-loading-hide"))})});w.appendChild(N),r.appendChild(w),A.classList.add("active"),o.stopPropagation(),u.default.emit("fred-sidebar-dt-active",i,n)}});n.appendChild(r),e.appendChild(i),e.appendChild(n)}},{key:"buildCreateCategory",value:function(e){var t=this,n=(0,d.dd)(),r=(0,d.form)(["fred--pages_create"]),i=(0,d.fieldSet)(),o=(0,d.legend)("fred.fe.blueprints.create_category"),A=function(e,n){t.state.category[e]=n};i.appendChild(o);var a=(0,f.text)({name:"name",label:"fred.fe.blueprints.category_name"},this.state.category.name,A),s=(0,f.text)({name:"rank",label:"fred.fe.blueprints.category_rank"},this.state.category.rank,A),l=(0,f.toggle)({name:"public",label:"fred.fe.blueprints.category_public"},this.state.category.public,A);h.default.permission.fred_blueprint_categories_create_public||l.inputEl.setAttribute("disabled","disabled"),i.appendChild(a),i.appendChild(s),i.appendChild(l);var c=(0,d.button)("fred.fe.blueprints.create_category","fred.fe.blueprints.create_category",["fred--btn-panel","fred--btn-apply"],function(){u.default.emit("fred-loading",h.default.lng("fred.fe.blueprints.creating_blueprint_category")),(0,C.createBlueprintCategory)(t.state.category.name,t.state.category.rank,+t.state.category.public).then(function(n){m.default.killNamespace("blueprints"),t.state.blueprint.category=null,t.click().then(function(t){e.replaceWith(t),y.default.reloadContainers(),u.default.emit("fred-loading-hide")})}).catch(function(e){e.response&&e.response._fields&&e.response._fields.name&&(a.onError(e.response._fields.name),u.default.emit("fred-loading-hide"))})});i.appendChild(c),r.appendChild(i);var p=(0,d.dt)("fred.fe.blueprints.create_category",["fred--accordion-cog","margin-top:12px"],function(t,r){var i=e.querySelectorAll("dt.active"),o=r.classList.contains("active"),A=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(A=(l=c.next()).done);A=!0){var d=l.value;d.classList.remove("active")}}catch(e){a=!0,s=e}finally{try{!A&&c.return&&c.return()}finally{if(a)throw s}}o||(r.classList.add("active"),t.stopPropagation(),u.default.emit("fred-sidebar-dt-active",p,n))});n.appendChild(r),e.appendChild(p),e.appendChild(n)}},{key:"afterExpand",value:function(){y.default.reloadContainers()}}],[{key:"wrapper",value:function(e,t,n,r){var i=(0,d.figure)(["fred--thumb"]),o=(0,d.div)(),A=(0,d.img)(r,t);o.appendChild(A);var a=(0,d.figCaption)("<strong>"+t+"</strong><em>"+n+"</em>"),s=(0,d.div)(["chunk"]);return s.dataset.fredBlueprintId=e,s.dataset.fredBlueprintName=t,s.setAttribute("hidden","hidden"),i.appendChild(o),i.appendChild(a),i.appendChild(s),i}}]),t}(l.default);Q.title="fred.fe.blueprints",Q.icon="fred--sidebar_blueprints",Q.expandable=!0,t.default=Q,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isVisible=t.hide=t.show=t.render=void 0;var i=n(6),o=r(i),A=n(11),a=void 0,s=t.render=function(e,t,n,r,i){var s=function(){var n=(0,A.dl)("fred--accordion");return e.forEach(function(e){var r=new e(n);t(r)}),n},l=(0,A.img)((o.default.config.assetsUrl||"")+"images/modx-revo-icon-48.svg","MODX FRED","fred--logo");l.setAttribute("title",o.default.lng("fred.fe.close_sidebar")),l.addEventListener("click",function(e){e.preventDefault(),n()}),a=(0,A.div)(["fred--sidebar","fred--hidden"],[(0,A.div)("fred--sidebar_title",[l,(0,A.h1)("Fred")])]),a.appendChild(s());var c=(0,A.div)(["fred--sidebar_button-group"]);return c.appendChild((0,A.button)("","fred.fe.toggle_preview",["fred--btn-sidebar","fred--btn-sidebar_preview"],i)),c.appendChild((0,A.button)("","fred.fe.close_sidebar",["fred--btn-sidebar","fred--btn-sidebar_close"],n)),o.default.permission.save_document&&c.appendChild((0,A.button)("","fred.fe.save",["fred--btn-sidebar","fred--btn-sidebar_save"],r)),a.appendChild(c),a.setAttribute("aria-hidden","true"),a},l=t.show=function(){a.classList.remove("fred--hidden")},c=t.hide=function(){a.classList.add("fred--hidden")},u=t.isVisible=function(){return!a.classList.contains("fred--hidden")};t.default={render:s,show:l,hide:c,isVisible:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=n(1),a=r(A),s=n(11),l=n(6),c=r(l),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottom_left";i(this,e),this.position=t,this.previewMode=!1,this.hidden=!1,this.render()}return o(e,[{key:"render",value:function(){var e=this,t=(0,s.div)(["fred--launcher","fred--launcher_"+this.position]),n=(0,s.button)("","fred.fe.open_sidebar",["fred--launcher_btn","fred--launcher_btn_fred"],function(){a.default.emit("fred-sidebar-toggle")});t.appendChild(n);var r=(0,s.button)("","fred.fe.save",["fred--launcher_btn","fred--launcher_btn_save"],function(){a.default.emit("fred-save")});c.default.permission.save_document&&t.appendChild(r);var i=(0,s.button)("","fred.fe.toggle_preview",["fred--launcher_btn","fred--launcher_btn_preview"],function(){e.previewMode===!1?a.default.emit("fred-preview-on"):a.default.emit("fred-preview-off")});if(t.appendChild(i),c.default.permission.fred_elements){var o=(0,s.button)("","fred.fe.elements",["fred--launcher_btn","fred--launcher_btn_elements"],function(){a.default.emit("fred-sidebar-toggle");var e=document.querySelectorAll("dt.fred--sidebar_elements")[0];e.classList.contains("active")||e.click()});t.appendChild(o)}a.default.on("fred-sidebar-hide",function(n){n!==!0&&(e.hidden=!1,t.classList.remove("fred--hidden"))}),a.default.on("fred-sidebar-show",function(n){n!==!0&&(e.hidden=!0,t.classList.add("fred--hidden"))}),a.default.on("fred-preview-on",function(){e.previewMode=!0,t.style.zIndex="9999999999",n.style.display="none",r.style.display="none",i.classList.add("active"),e.hidden&&t.classList.remove("fred--hidden")}),a.default.on("fred-preview-off",function(){e.previewMode=!1,t.style.zIndex="",n.style.display="",r.style.display="",i.classList.remove("active"),e.hidden&&t.classList.add("fred--hidden")}),a.default.emit("fred-wrapper-insert",t)}}]),e}();t.default=u,e.exports=t.default},function(e,t){!function(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,r,i,o){return!!this.paused||!t[i]&&!t[o]&&n.call(this,e,r,i)},e.prototype.bindGlobal=function(e,n,r){if(this.bind(e,n,r),e instanceof Array)for(n=0;n<e.length;n++)t[e[n]]=!0;else t[e]=!0},e.init()}(Mousetrap)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLexicons=t.fetchContent=t.saveContent=t.getPreview=void 0;var i=n(6),o=r(i),A=n(38),a=r(A),s=n(20);t.getPreview=function(){return(0,a.default)(o.default.resource.previewUrl).then(function(e){return e.text()})},t.saveContent=function(e){return o.default.permission.save_document?(0,a.default)(o.default.config.assetsUrl+"endpoints/ajax.php?action=save-content",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(s.errorHandler):Promise.resolve(function(){throw new Error})},t.fetchContent=function(){return(0,a.default)(o.default.config.assetsUrl+"endpoints/ajax.php?action=load-content&id="+o.default.resource.id).then(function(e){return e.json()})},t.fetchLexicons=function(e){return(0,a.default)(o.default.config.assetsUrl+"endpoints/ajax.php?action=load-lexicons"+e,{method:"get",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()})}}])});